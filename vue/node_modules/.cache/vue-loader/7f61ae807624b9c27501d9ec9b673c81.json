{"remainingRequest":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue?vue&type=style&index=0&id=3614b62c&lang=css","dependencies":[{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue","mtime":1616342008523},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgkjeDEgewoJCW1hcmdpbi1ib3R0b206IDEwcHg7CgkJd2lkdGg6IDYwMHB4OwoJCWJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgZm9udC1zaXplOiAxOHB4OwoJfQoKCSN4MiB7CgkJbWFyZ2luLWJvdHRvbTogMTBweDsKCQl3aWR0aDogNjAwcHg7CgkJYm9yZGVyLXJhZGl1czogMTBweDsKCX0K"},{"version":3,"sources":["/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue"],"names":[],"mappings":";CA+GC,CAAC,CAAC,EAAE;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACtB;;CAEA,CAAC,CAAC,EAAE;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACpB","file":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue","sourceRoot":"","sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"container\">\n      \t<!-- this line is used by starport scaffolding # 4 -->\n        <dropdown :options=\"poolNameList\" :selected=\"object\" v-on:updateOption=\"updatePoolName\" id=\"x1\"></dropdown>\n\t\t<!-- <input type=\"text\" id=\"x1\" class=\"sp-input\" placeholder=\"Pool Name\" v-on:keyup=\"updateSerial\" required/> -->\n\t\t<input type=\"text\" id=\"x2\" class=\"sp-input\" placeholder=\"Asset Serial\" v-on:keyup=\"updateSerial\" required/><br>\n\t\t<SpButton @click.native=\"joinAndStake\"> Join And Stake </SpButton>\n\n\t\n\n\n\n\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport dropdown from 'vue-dropdowns';\nexport default {\n    name: 'Game', \n    \n    data() {\n\t\treturn {\n\t\t\tserial: \"\",\n\t\t\tpoolName: \"\",\n\t\t\tmodulePath: \"sap200.shiaa3.shiaa3\",\n            moduleType: \"JoinPoolAndStakeAsset\",\n            object: {\n              name: 'Pool Name',\n            },\n            poolNameList: [{name: \"pool-0\"}, {name: \"pool-1\"}, {name: \"pool-2\"}, {name: \"pool-3\"}, {name: \"pool-4\"}]\n\t\t}\n    },\n\n    components: {\n            'dropdown': dropdown,\n    },\n\n\n    computed: {\n        address() {\n\t\t\treturn this.$store.getters['common/wallet/address']\n        },\n        \n        selectedAccount() {\n\t\t\tif (this._depsLoaded) {\n\t\t\t\treturn this.$store.getters['common/wallet/address']\n\t\t\t} else {\n\t\t\t\treturn null\n\t\t\t}\n        },\n        \n    },\n    \n    methods: {\n        updateSerial(event) {\n\t\t\tthis.serial = event.target.value.trim()\n\t\t\tconsole.log(this.serial)\n\t\t}, \n\n\t\tupdatePoolName(payload) {\n\t\t\tthis.object = payload\n\t\t\tconsole.log(this.object.name)\n        }, \n        \n        async joinAndStake() {\n            if (this.serial != \"\" && this.object.name != \"\") {\n                console.log(\"Joining and staking\")\n                if (this.address != \"\") {\n                    var r = confirm(\"You are about to stake in \" + this.object.name + \". Press ok to confirm !\");\n                    console.log(r)\n                    if (r == true) {\n                        let payload = {creator: this.selectedAccount, id: 0, PoolNo: this.object.name, AssetSerial: this.serial}\n                        // send\n                        console.log(payload)\n                        // TODO\n                        // Write code to dispatch thats all\n                    let result = await this.$store.dispatch(\n                        this.modulePath + '/sendMsgCreate' + this.moduleType,\n                        {value: payload, fee: []},\n                    )\n                    console.log(result)\n                    alert(result.rawLog)\n                    this.$emit('Joined Pool')\n                    this.serial = \"\"\n                    this.object = {name: \"Pool Name\"}\n\n                    } else {\n                        alert(\"Joining cancelled\")\n                          this.serial = \"\"\n                          this.object = {name: \"Pool Name\"}\n                    }\n\n                } else {\n                    alert(\"Please Sign in with your wallet\")\n                    this.serial = \"\"\n                    this.object = {name: \"Pool Name\"}\n                }\n            } else {\n                alert(\"All fields should be filled.\")\n            }\n            \n        }\n    }\n}\n</script>\n\n\n<style>\n\t#x1 {\n\t\tmargin-bottom: 10px;\n\t\twidth: 600px;\n\t\tborder-radius: 10px;\n        font-size: 18px;\n\t}\n\n\t#x2 {\n\t\tmargin-bottom: 10px;\n\t\twidth: 600px;\n\t\tborder-radius: 10px;\n\t}\n</style>\n\n\n"]}]}
{"remainingRequest":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js??ref--13-0!/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.channel.v1/index.js","dependencies":[{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.channel.v1/index.js","mtime":1616424851724},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvaGFja2F0aG9uL3NoaWFhMy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvaGFja2F0aG9uL3NoaWFhMy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyB0eENsaWVudCwgcXVlcnlDbGllbnQgfSBmcm9tICcuL21vZHVsZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCB7IFNwVnVleEVycm9yIH0gZnJvbSAnQHN0YXJwb3J0L3Z1ZXgnOwppbXBvcnQgeyBDaGFubmVsIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvaWJjL2NvcmUvY2hhbm5lbC92MS9jaGFubmVsIjsKaW1wb3J0IHsgSWRlbnRpZmllZENoYW5uZWwgfSBmcm9tICIuL21vZHVsZS90eXBlcy9pYmMvY29yZS9jaGFubmVsL3YxL2NoYW5uZWwiOwppbXBvcnQgeyBDb3VudGVycGFydHkgfSBmcm9tICIuL21vZHVsZS90eXBlcy9pYmMvY29yZS9jaGFubmVsL3YxL2NoYW5uZWwiOwppbXBvcnQgeyBQYWNrZXQgfSBmcm9tICIuL21vZHVsZS90eXBlcy9pYmMvY29yZS9jaGFubmVsL3YxL2NoYW5uZWwiOwppbXBvcnQgeyBQYWNrZXRTdGF0ZSB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2liYy9jb3JlL2NoYW5uZWwvdjEvY2hhbm5lbCI7CmltcG9ydCB7IEFja25vd2xlZGdlbWVudCB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2liYy9jb3JlL2NoYW5uZWwvdjEvY2hhbm5lbCI7CmltcG9ydCB7IFBhY2tldFNlcXVlbmNlIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvaWJjL2NvcmUvY2hhbm5lbC92MS9nZW5lc2lzIjsKCmZ1bmN0aW9uIGluaXRUeENsaWVudChfeCkgewogIHJldHVybiBfaW5pdFR4Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9pbml0VHhDbGllbnQoKSB7CiAgX2luaXRUeENsaWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM1KHZ1ZXhHZXR0ZXJzKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM1JChfY29udGV4dDM1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDM1LnByZXYgPSBfY29udGV4dDM1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzNS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHR4Q2xpZW50KHZ1ZXhHZXR0ZXJzWydjb21tb24vd2FsbGV0L3NpZ25lciddLCB7CiAgICAgICAgICAgICAgYWRkcjogdnVleEdldHRlcnNbJ2NvbW1vbi9lbnYvYXBpVGVuZGVybWludCddCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDM1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzNSk7CiAgfSkpOwogIHJldHVybiBfaW5pdFR4Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGluaXRRdWVyeUNsaWVudChfeDIpIHsKICByZXR1cm4gX2luaXRRdWVyeUNsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfaW5pdFF1ZXJ5Q2xpZW50KCkgewogIF9pbml0UXVlcnlDbGllbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNih2dWV4R2V0dGVycykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNiQoX2NvbnRleHQzNikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNi5wcmV2ID0gX2NvbnRleHQzNi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MzYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudCh7CiAgICAgICAgICAgICAgYWRkcjogdnVleEdldHRlcnNbJ2NvbW1vbi9lbnYvYXBpQ29zbW9zJ10KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MzYuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzYuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTM2KTsKICB9KSk7CiAgcmV0dXJuIF9pbml0UXVlcnlDbGllbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0U3RydWN0dXJlKHRlbXBsYXRlKSB7CiAgdmFyIHN0cnVjdHVyZSA9IHsKICAgIGZpZWxkczogW10KICB9OwoKICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3QkZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRlbXBsYXRlKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksCiAgICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgIHZhciBmaWVsZCA9IHt9OwogICAgZmllbGQubmFtZSA9IGtleTsKICAgIGZpZWxkLnR5cGUgPSBfdHlwZW9mKHZhbHVlKTsKICAgIHN0cnVjdHVyZS5maWVsZHMucHVzaChmaWVsZCk7CiAgfQoKICByZXR1cm4gc3RydWN0dXJlOwp9Cgp2YXIgZ2V0RGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7CiAgICBDaGFubmVsOiB7fSwKICAgIENoYW5uZWxzOiB7fSwKICAgIENvbm5lY3Rpb25DaGFubmVsczoge30sCiAgICBDaGFubmVsQ2xpZW50U3RhdGU6IHt9LAogICAgQ2hhbm5lbENvbnNlbnN1c1N0YXRlOiB7fSwKICAgIFBhY2tldENvbW1pdG1lbnQ6IHt9LAogICAgUGFja2V0Q29tbWl0bWVudHM6IHt9LAogICAgUGFja2V0UmVjZWlwdDoge30sCiAgICBQYWNrZXRBY2tub3dsZWRnZW1lbnQ6IHt9LAogICAgUGFja2V0QWNrbm93bGVkZ2VtZW50czoge30sCiAgICBVbnJlY2VpdmVkUGFja2V0czoge30sCiAgICBVbnJlY2VpdmVkQWNrczoge30sCiAgICBOZXh0U2VxdWVuY2VSZWNlaXZlOiB7fSwKICAgIF9TdHJ1Y3R1cmU6IHsKICAgICAgQ2hhbm5lbDogZ2V0U3RydWN0dXJlKENoYW5uZWwuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgSWRlbnRpZmllZENoYW5uZWw6IGdldFN0cnVjdHVyZShJZGVudGlmaWVkQ2hhbm5lbC5mcm9tUGFydGlhbCh7fSkpLAogICAgICBDb3VudGVycGFydHk6IGdldFN0cnVjdHVyZShDb3VudGVycGFydHkuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgUGFja2V0OiBnZXRTdHJ1Y3R1cmUoUGFja2V0LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFBhY2tldFN0YXRlOiBnZXRTdHJ1Y3R1cmUoUGFja2V0U3RhdGUuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgQWNrbm93bGVkZ2VtZW50OiBnZXRTdHJ1Y3R1cmUoQWNrbm93bGVkZ2VtZW50LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFBhY2tldFNlcXVlbmNlOiBnZXRTdHJ1Y3R1cmUoUGFja2V0U2VxdWVuY2UuZnJvbVBhcnRpYWwoe30pKQogICAgfSwKICAgIF9TdWJzY3JpcHRpb25zOiBuZXcgU2V0KCkKICB9Owp9OyAvLyBpbml0aWFsIHN0YXRlCgoKdmFyIHN0YXRlID0gZ2V0RGVmYXVsdFN0YXRlKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IHsKICAgIFJFU0VUX1NUQVRFOiBmdW5jdGlvbiBSRVNFVF9TVEFURShzdGF0ZSkgewogICAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBnZXREZWZhdWx0U3RhdGUoKSk7CiAgICB9LAogICAgUVVFUlk6IGZ1bmN0aW9uIFFVRVJZKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBxdWVyeSA9IF9yZWYucXVlcnksCiAgICAgICAgICBrZXkgPSBfcmVmLmtleSwKICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgc3RhdGVbcXVlcnldW0pTT04uc3RyaW5naWZ5KGtleSldID0gdmFsdWU7CiAgICB9LAogICAgU1VCU0NSSUJFOiBmdW5jdGlvbiBTVUJTQ1JJQkUoc3RhdGUsIHN1YnNjcmlwdGlvbikgewogICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTsKICAgIH0sCiAgICBVTlNVQlNDUklCRTogZnVuY3Rpb24gVU5TVUJTQ1JJQkUoc3RhdGUsIHN1YnNjcmlwdGlvbikgewogICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9ucy5kZWxldGUoc3Vic2NyaXB0aW9uKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldENoYW5uZWw6IGZ1bmN0aW9uIGdldENoYW5uZWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJENoYW5uZWwkSlNPTiRzOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRDaGFubmVsJEpTT04kcyA9IHN0YXRlLkNoYW5uZWxbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRDaGFubmVsJEpTT04kcyAhPT0gdm9pZCAwID8gX3N0YXRlJENoYW5uZWwkSlNPTiRzIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0Q2hhbm5lbHM6IGZ1bmN0aW9uIGdldENoYW5uZWxzKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRDaGFubmVscyRKU09OJDsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkQ2hhbm5lbHMkSlNPTiQgPSBzdGF0ZS5DaGFubmVsc1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJENoYW5uZWxzJEpTT04kICE9PSB2b2lkIDAgPyBfc3RhdGUkQ2hhbm5lbHMkSlNPTiQgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRDb25uZWN0aW9uQ2hhbm5lbHM6IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25DaGFubmVscyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkQ29ubmVjdGlvbkNoYW47CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJENvbm5lY3Rpb25DaGFuID0gc3RhdGUuQ29ubmVjdGlvbkNoYW5uZWxzW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkQ29ubmVjdGlvbkNoYW4gIT09IHZvaWQgMCA/IF9zdGF0ZSRDb25uZWN0aW9uQ2hhbiA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldENoYW5uZWxDbGllbnRTdGF0ZTogZnVuY3Rpb24gZ2V0Q2hhbm5lbENsaWVudFN0YXRlKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRDaGFubmVsQ2xpZW50UzsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkQ2hhbm5lbENsaWVudFMgPSBzdGF0ZS5DaGFubmVsQ2xpZW50U3RhdGVbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRDaGFubmVsQ2xpZW50UyAhPT0gdm9pZCAwID8gX3N0YXRlJENoYW5uZWxDbGllbnRTIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0Q2hhbm5lbENvbnNlbnN1c1N0YXRlOiBmdW5jdGlvbiBnZXRDaGFubmVsQ29uc2Vuc3VzU3RhdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJENoYW5uZWxDb25zZW5zOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRDaGFubmVsQ29uc2VucyA9IHN0YXRlLkNoYW5uZWxDb25zZW5zdXNTdGF0ZVtKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJENoYW5uZWxDb25zZW5zICE9PSB2b2lkIDAgPyBfc3RhdGUkQ2hhbm5lbENvbnNlbnMgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRQYWNrZXRDb21taXRtZW50OiBmdW5jdGlvbiBnZXRQYWNrZXRDb21taXRtZW50KHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQYWNrZXRDb21taXRtZTsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUGFja2V0Q29tbWl0bWUgPSBzdGF0ZS5QYWNrZXRDb21taXRtZW50W0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkUGFja2V0Q29tbWl0bWUgIT09IHZvaWQgMCA/IF9zdGF0ZSRQYWNrZXRDb21taXRtZSA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFBhY2tldENvbW1pdG1lbnRzOiBmdW5jdGlvbiBnZXRQYWNrZXRDb21taXRtZW50cyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkUGFja2V0Q29tbWl0bWUyOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRQYWNrZXRDb21taXRtZTIgPSBzdGF0ZS5QYWNrZXRDb21taXRtZW50c1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJFBhY2tldENvbW1pdG1lMiAhPT0gdm9pZCAwID8gX3N0YXRlJFBhY2tldENvbW1pdG1lMiA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFBhY2tldFJlY2VpcHQ6IGZ1bmN0aW9uIGdldFBhY2tldFJlY2VpcHQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFBhY2tldFJlY2VpcHQkOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRQYWNrZXRSZWNlaXB0JCA9IHN0YXRlLlBhY2tldFJlY2VpcHRbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRQYWNrZXRSZWNlaXB0JCAhPT0gdm9pZCAwID8gX3N0YXRlJFBhY2tldFJlY2VpcHQkIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0UGFja2V0QWNrbm93bGVkZ2VtZW50OiBmdW5jdGlvbiBnZXRQYWNrZXRBY2tub3dsZWRnZW1lbnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFBhY2tldEFja25vd2xlOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRQYWNrZXRBY2tub3dsZSA9IHN0YXRlLlBhY2tldEFja25vd2xlZGdlbWVudFtKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJFBhY2tldEFja25vd2xlICE9PSB2b2lkIDAgPyBfc3RhdGUkUGFja2V0QWNrbm93bGUgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRQYWNrZXRBY2tub3dsZWRnZW1lbnRzOiBmdW5jdGlvbiBnZXRQYWNrZXRBY2tub3dsZWRnZW1lbnRzKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQYWNrZXRBY2tub3dsZTI7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFBhY2tldEFja25vd2xlMiA9IHN0YXRlLlBhY2tldEFja25vd2xlZGdlbWVudHNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRQYWNrZXRBY2tub3dsZTIgIT09IHZvaWQgMCA/IF9zdGF0ZSRQYWNrZXRBY2tub3dsZTIgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRVbnJlY2VpdmVkUGFja2V0czogZnVuY3Rpb24gZ2V0VW5yZWNlaXZlZFBhY2tldHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFVucmVjZWl2ZWRQYWNrOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRVbnJlY2VpdmVkUGFjayA9IHN0YXRlLlVucmVjZWl2ZWRQYWNrZXRzW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkVW5yZWNlaXZlZFBhY2sgIT09IHZvaWQgMCA/IF9zdGF0ZSRVbnJlY2VpdmVkUGFjayA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFVucmVjZWl2ZWRBY2tzOiBmdW5jdGlvbiBnZXRVbnJlY2VpdmVkQWNrcyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkVW5yZWNlaXZlZEFja3M7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFVucmVjZWl2ZWRBY2tzID0gc3RhdGUuVW5yZWNlaXZlZEFja3NbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRVbnJlY2VpdmVkQWNrcyAhPT0gdm9pZCAwID8gX3N0YXRlJFVucmVjZWl2ZWRBY2tzIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0TmV4dFNlcXVlbmNlUmVjZWl2ZTogZnVuY3Rpb24gZ2V0TmV4dFNlcXVlbmNlUmVjZWl2ZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkTmV4dFNlcXVlbmNlUmU7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJE5leHRTZXF1ZW5jZVJlID0gc3RhdGUuTmV4dFNlcXVlbmNlUmVjZWl2ZVtKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJE5leHRTZXF1ZW5jZVJlICE9PSB2b2lkIDAgPyBfc3RhdGUkTmV4dFNlcXVlbmNlUmUgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRUeXBlU3RydWN0dXJlOiBmdW5jdGlvbiBnZXRUeXBlU3RydWN0dXJlKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHJldHVybiBzdGF0ZS5fU3RydWN0dXJlW3R5cGVdLmZpZWxkczsKICAgICAgfTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoX3JlZjIpIHsKICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2gsCiAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYyLnJvb3RHZXR0ZXJzOwogICAgICBjb25zb2xlLmxvZygnaW5pdCcpOwoKICAgICAgaWYgKHJvb3RHZXR0ZXJzWydjb21tb24vZW52L2NsaWVudCddKSB7CiAgICAgICAgcm9vdEdldHRlcnNbJ2NvbW1vbi9lbnYvY2xpZW50J10ub24oJ25ld2Jsb2NrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgZGlzcGF0Y2goJ1N0b3JlVXBkYXRlJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldFN0YXRlOiBmdW5jdGlvbiByZXNldFN0YXRlKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgIH0sCiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoX3JlZjQsIHN1YnNjcmlwdGlvbikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICBjb21taXQoJ1VOU1VCU0NSSUJFJywgc3Vic2NyaXB0aW9uKTsKICAgIH0sCiAgICBTdG9yZVVwZGF0ZTogZnVuY3Rpb24gU3RvcmVVcGRhdGUoX3JlZjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CgogICAgICAgICAgICAgICAgc3RhdGUuX1N1YnNjcmlwdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHN1YnNjcmlwdGlvbi5hY3Rpb24sIHN1YnNjcmlwdGlvbi5wYXlsb2FkKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlDaGFubmVsOiBmdW5jdGlvbiBRdWVyeUNoYW5uZWwoX3JlZjYsIF9yZWY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmNyRvcHRpb25zLCBfcmVmNyRvcHRpb25zJHN1YnNjcmksIHN1YnNjcmliZSwgX3JlZjckb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldENoYW5uZWwsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWY2LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjYuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWY3JG9wdGlvbnMgPSBfcmVmNy5vcHRpb25zLCBfcmVmNyRvcHRpb25zJHN1YnNjcmkgPSBfcmVmNyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjckb3B0aW9ucyRzdWJzY3JpID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY3JG9wdGlvbnMkc3Vic2NyaSwgX3JlZjckb3B0aW9ucyRhbGwgPSBfcmVmNyRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjckb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjckb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWY3LnBhcmFtcyksIF9yZWY3JHF1ZXJ5ID0gX3JlZjcucXVlcnksIHF1ZXJ5ID0gX3JlZjckcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmNyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnNlbnQucXVlcnlDaGFubmVsKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc2VudC5xdWVyeUNoYW5uZWwoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Mi50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnQ2hhbm5lbCcsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeUNoYW5uZWwnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldENoYW5uZWwgPSBnZXR0ZXJzWydnZXRDaGFubmVsJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldENoYW5uZWwgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldENoYW5uZWwgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Q2hhbm5lbCcsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlDaGFubmVsczogZnVuY3Rpb24gUXVlcnlDaGFubmVscyhfcmVmOCwgX3JlZjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWY5JG9wdGlvbnMsIF9yZWY5JG9wdGlvbnMkc3Vic2NyaSwgc3Vic2NyaWJlLCBfcmVmOSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWY5JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0Q2hhbm5lbHMsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2kyLCBfT2JqZWN0JGtleXMsIHByb3A7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjgucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmOC5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjkkb3B0aW9ucyA9IF9yZWY5Lm9wdGlvbnMsIF9yZWY5JG9wdGlvbnMkc3Vic2NyaSA9IF9yZWY5JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmOSRvcHRpb25zJHN1YnNjcmkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjkkb3B0aW9ucyRzdWJzY3JpLCBfcmVmOSRvcHRpb25zJGFsbCA9IF9yZWY5JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmOSRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmOSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjkucGFyYW1zKSwgX3JlZjkkcXVlcnkgPSBfcmVmOS5xdWVyeSwgcXVlcnkgPSBfcmVmOSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY5JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc2VudC5xdWVyeUNoYW5uZWxzKHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlDaGFubmVscygpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCEoYWxsICYmIHZhbHVlLnBhZ2luYXRpb24gJiYgdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5ICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlDaGFubmVscyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0My5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTIgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pMiA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXNbX2kyXTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ0NoYW5uZWxzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Q2hhbm5lbHMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldENoYW5uZWxzID0gZ2V0dGVyc1snZ2V0Q2hhbm5lbHMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0Q2hhbm5lbHMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldENoYW5uZWxzIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MSA9IF9jb250ZXh0M1siY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeUNoYW5uZWxzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeUNvbm5lY3Rpb25DaGFubmVsczogZnVuY3Rpb24gUXVlcnlDb25uZWN0aW9uQ2hhbm5lbHMoX3JlZjEwLCBfcmVmMTEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxMSRvcHRpb25zLCBfcmVmMTEkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjExJG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjExJHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0Q29ubmVjdGlvLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pMywgX09iamVjdCRrZXlzMiwgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjEwLnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjEwLmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTEkb3B0aW9ucyA9IF9yZWYxMS5vcHRpb25zLCBfcmVmMTEkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTEkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxMSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTEkb3B0aW9ucyRzdWJzY3IsIF9yZWYxMSRvcHRpb25zJGFsbCA9IF9yZWYxMSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjExJG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjExLnBhcmFtcyksIF9yZWYxMSRxdWVyeSA9IF9yZWYxMS5xdWVyeSwgcXVlcnkgPSBfcmVmMTEkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTEkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zZW50LnF1ZXJ5Q29ubmVjdGlvbkNoYW5uZWxzKGtleS5jb25uZWN0aW9uLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zZW50LnF1ZXJ5Q29ubmVjdGlvbkNoYW5uZWxzKGtleS5jb25uZWN0aW9uKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NC5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0NC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zZW50LnF1ZXJ5Q29ubmVjdGlvbkNoYW5uZWxzKGtleS5jb25uZWN0aW9uLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0NC5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTMgPSAwLCBfT2JqZWN0JGtleXMyID0gT2JqZWN0LmtleXMobmV4dF92YWx1ZXMpOyBfaTMgPCBfT2JqZWN0JGtleXMyLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5czJbX2kzXTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ0Nvbm5lY3Rpb25DaGFubmVscycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeUNvbm5lY3Rpb25DaGFubmVscycsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0Q29ubmVjdGlvID0gZ2V0dGVyc1snZ2V0Q29ubmVjdGlvbkNoYW5uZWxzJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldENvbm5lY3RpbyAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0Q29ubmVjdGlvIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MSA9IF9jb250ZXh0NFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeUNvbm5lY3Rpb25DaGFubmVscycsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1syLCAzMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlDaGFubmVsQ2xpZW50U3RhdGU6IGZ1bmN0aW9uIFF1ZXJ5Q2hhbm5lbENsaWVudFN0YXRlKF9yZWYxMiwgX3JlZjEzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTMkb3B0aW9ucywgX3JlZjEzJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxMyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxMyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldENoYW5uZWxDbCwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTIuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxMi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYxMi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjEzJG9wdGlvbnMgPSBfcmVmMTMub3B0aW9ucywgX3JlZjEzJG9wdGlvbnMkc3Vic2NyID0gX3JlZjEzJG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMTMkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjEzJG9wdGlvbnMkc3Vic2NyLCBfcmVmMTMkb3B0aW9ucyRhbGwgPSBfcmVmMTMkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYxMyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTMkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYxMy5wYXJhbXMpLCBfcmVmMTMkcXVlcnkgPSBfcmVmMTMucXVlcnksIHF1ZXJ5ID0gX3JlZjEzJHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjEzJHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc2VudC5xdWVyeUNoYW5uZWxDbGllbnRTdGF0ZShrZXkuY2hhbm5lbF9pZCwga2V5LnBvcnRfaWQsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnNlbnQucXVlcnlDaGFubmVsQ2xpZW50U3RhdGUoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NS5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0NS50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnQ2hhbm5lbENsaWVudFN0YXRlJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Q2hhbm5lbENsaWVudFN0YXRlJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRDaGFubmVsQ2wgPSBnZXR0ZXJzWydnZXRDaGFubmVsQ2xpZW50U3RhdGUnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0Q2hhbm5lbENsICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRDaGFubmVsQ2wgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Q2hhbm5lbENsaWVudFN0YXRlJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeUNoYW5uZWxDb25zZW5zdXNTdGF0ZTogZnVuY3Rpb24gUXVlcnlDaGFubmVsQ29uc2Vuc3VzU3RhdGUoX3JlZjE0LCBfcmVmMTUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxNSRvcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjE1JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjE1JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0Q2hhbm5lbENvLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE0LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE0LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTUkb3B0aW9ucyA9IF9yZWYxNS5vcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTUkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxNSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIF9yZWYxNSRvcHRpb25zJGFsbCA9IF9yZWYxNSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE1JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE1LnBhcmFtcyksIF9yZWYxNSRxdWVyeSA9IF9yZWYxNS5xdWVyeSwgcXVlcnkgPSBfcmVmMTUkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTUkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zZW50LnF1ZXJ5Q2hhbm5lbENvbnNlbnN1c1N0YXRlKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnJldmlzaW9uX251bWJlciwga2V5LnJldmlzaW9uX2hlaWdodCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDYuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc2VudC5xdWVyeUNoYW5uZWxDb25zZW5zdXNTdGF0ZShrZXkuY2hhbm5lbF9pZCwga2V5LnBvcnRfaWQsIGtleS5yZXZpc2lvbl9udW1iZXIsIGtleS5yZXZpc2lvbl9oZWlnaHQpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ2LnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdDaGFubmVsQ29uc2Vuc3VzU3RhdGUnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlDaGFubmVsQ29uc2Vuc3VzU3RhdGUnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldENoYW5uZWxDbyA9IGdldHRlcnNbJ2dldENoYW5uZWxDb25zZW5zdXNTdGF0ZSddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRDaGFubmVsQ28gIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldENoYW5uZWxDbyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDEgPSBfY29udGV4dDZbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlDaGFubmVsQ29uc2Vuc3VzU3RhdGUnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5UGFja2V0Q29tbWl0bWVudDogZnVuY3Rpb24gUXVlcnlQYWNrZXRDb21taXRtZW50KF9yZWYxNiwgX3JlZjE3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTckb3B0aW9ucywgX3JlZjE3JG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxNyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFBhY2tldENvbSwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTYuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxNi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYxNi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjE3JG9wdGlvbnMgPSBfcmVmMTcub3B0aW9ucywgX3JlZjE3JG9wdGlvbnMkc3Vic2NyID0gX3JlZjE3JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMTckb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE3JG9wdGlvbnMkc3Vic2NyLCBfcmVmMTckb3B0aW9ucyRhbGwgPSBfcmVmMTckb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYxNyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTckb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYxNy5wYXJhbXMpLCBfcmVmMTckcXVlcnkgPSBfcmVmMTcucXVlcnksIHF1ZXJ5ID0gX3JlZjE3JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjE3JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc2VudC5xdWVyeVBhY2tldENvbW1pdG1lbnQoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkLCBrZXkuc2VxdWVuY2UsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnNlbnQucXVlcnlQYWNrZXRDb21taXRtZW50KGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnNlcXVlbmNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0Ny5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Ny50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnUGFja2V0Q29tbWl0bWVudCcsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVBhY2tldENvbW1pdG1lbnQnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFBhY2tldENvbSA9IGdldHRlcnNbJ2dldFBhY2tldENvbW1pdG1lbnQnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0UGFja2V0Q29tICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRQYWNrZXRDb20gOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQxID0gX2NvbnRleHQ3WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5UGFja2V0Q29tbWl0bWVudCcsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlQYWNrZXRDb21taXRtZW50czogZnVuY3Rpb24gUXVlcnlQYWNrZXRDb21taXRtZW50cyhfcmVmMTgsIF9yZWYxOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjE5JG9wdGlvbnMsIF9yZWYxOSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMTkkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMTkkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRQYWNrZXRDb20yLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pNCwgX09iamVjdCRrZXlzMywgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxOC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE4LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE4LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTkkb3B0aW9ucyA9IF9yZWYxOS5vcHRpb25zLCBfcmVmMTkkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTkkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxOSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTkkb3B0aW9ucyRzdWJzY3IsIF9yZWYxOSRvcHRpb25zJGFsbCA9IF9yZWYxOSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE5JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxOSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE5LnBhcmFtcyksIF9yZWYxOSRxdWVyeSA9IF9yZWYxOS5xdWVyeSwgcXVlcnkgPSBfcmVmMTkkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTkkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5UGFja2V0Q29tbWl0bWVudHMoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5UGFja2V0Q29tbWl0bWVudHMoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0OC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5UGFja2V0Q29tbWl0bWVudHMoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTQgPSAwLCBfT2JqZWN0JGtleXMzID0gT2JqZWN0LmtleXMobmV4dF92YWx1ZXMpOyBfaTQgPCBfT2JqZWN0JGtleXMzLmxlbmd0aDsgX2k0KyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5czNbX2k0XTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1BhY2tldENvbW1pdG1lbnRzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5UGFja2V0Q29tbWl0bWVudHMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFBhY2tldENvbTIgPSBnZXR0ZXJzWydnZXRQYWNrZXRDb21taXRtZW50cyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRQYWNrZXRDb20yICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRQYWNrZXRDb20yIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MSA9IF9jb250ZXh0OFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVBhY2tldENvbW1pdG1lbnRzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVBhY2tldFJlY2VpcHQ6IGZ1bmN0aW9uIFF1ZXJ5UGFja2V0UmVjZWlwdChfcmVmMjAsIF9yZWYyMSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjIxJG9wdGlvbnMsIF9yZWYyMSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMjEkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMjEkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRQYWNrZXRSZWMsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIwLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMjAucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMjAuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYyMSRvcHRpb25zID0gX3JlZjIxLm9wdGlvbnMsIF9yZWYyMSRvcHRpb25zJHN1YnNjciA9IF9yZWYyMSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjIxJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyMSRvcHRpb25zJHN1YnNjciwgX3JlZjIxJG9wdGlvbnMkYWxsID0gX3JlZjIxJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMjEkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIxJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMjEucGFyYW1zKSwgX3JlZjIxJHF1ZXJ5ID0gX3JlZjIxLnF1ZXJ5LCBxdWVyeSA9IF9yZWYyMSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyMSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQucXVlcnlQYWNrZXRSZWNlaXB0KGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnNlcXVlbmNlLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MCA9IF9jb250ZXh0OS5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zZW50LnF1ZXJ5UGFja2V0UmVjZWlwdChrZXkuY2hhbm5lbF9pZCwga2V5LnBvcnRfaWQsIGtleS5zZXF1ZW5jZSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDkuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDkudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1BhY2tldFJlY2VpcHQnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlQYWNrZXRSZWNlaXB0JywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRQYWNrZXRSZWMgPSBnZXR0ZXJzWydnZXRQYWNrZXRSZWNlaXB0J10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFBhY2tldFJlYyAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0UGFja2V0UmVjIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MSA9IF9jb250ZXh0OVsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVBhY2tldFJlY2VpcHQnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5UGFja2V0QWNrbm93bGVkZ2VtZW50OiBmdW5jdGlvbiBRdWVyeVBhY2tldEFja25vd2xlZGdlbWVudChfcmVmMjIsIF9yZWYyMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYyMyRvcHRpb25zLCBfcmVmMjMkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjIzJG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjIzJHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0UGFja2V0QWNrLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjIuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYyMi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYyMi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjIzJG9wdGlvbnMgPSBfcmVmMjMub3B0aW9ucywgX3JlZjIzJG9wdGlvbnMkc3Vic2NyID0gX3JlZjIzJG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMjMkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIzJG9wdGlvbnMkc3Vic2NyLCBfcmVmMjMkb3B0aW9ucyRhbGwgPSBfcmVmMjMkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYyMyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjMkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYyMy5wYXJhbXMpLCBfcmVmMjMkcXVlcnkgPSBfcmVmMjMucXVlcnksIHF1ZXJ5ID0gX3JlZjIzJHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjIzJHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zZW50LnF1ZXJ5UGFja2V0QWNrbm93bGVkZ2VtZW50KGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnNlcXVlbmNlLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zZW50LnF1ZXJ5UGFja2V0QWNrbm93bGVkZ2VtZW50KGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnNlcXVlbmNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQxMC50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnUGFja2V0QWNrbm93bGVkZ2VtZW50JywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5UGFja2V0QWNrbm93bGVkZ2VtZW50JywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0UGFja2V0QWNrID0gZ2V0dGVyc1snZ2V0UGFja2V0QWNrbm93bGVkZ2VtZW50J10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFBhY2tldEFjayAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0UGFja2V0QWNrIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQxID0gX2NvbnRleHQxMFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVBhY2tldEFja25vd2xlZGdlbWVudCcsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCwgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlQYWNrZXRBY2tub3dsZWRnZW1lbnRzOiBmdW5jdGlvbiBRdWVyeVBhY2tldEFja25vd2xlZGdlbWVudHMoX3JlZjI0LCBfcmVmMjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMjUkb3B0aW9ucywgX3JlZjI1JG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYyNSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYyNSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFBhY2tldEFjazIsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2k1LCBfT2JqZWN0JGtleXM0LCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyNC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjI0LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjI0LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMjUkb3B0aW9ucyA9IF9yZWYyNS5vcHRpb25zLCBfcmVmMjUkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMjUkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYyNSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjUkb3B0aW9ucyRzdWJzY3IsIF9yZWYyNSRvcHRpb25zJGFsbCA9IF9yZWYyNSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjI1JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyNSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjI1LnBhcmFtcyksIF9yZWYyNSRxdWVyeSA9IF9yZWYyNS5xdWVyeSwgcXVlcnkgPSBfcmVmMjUkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMjUkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnNlbnQucXVlcnlQYWNrZXRBY2tub3dsZWRnZW1lbnRzKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMS5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc2VudC5xdWVyeVBhY2tldEFja25vd2xlZGdlbWVudHMoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDAgPSBfY29udGV4dDExLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQxMS50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc2VudC5xdWVyeVBhY2tldEFja25vd2xlZGdlbWVudHMoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0MTEuc2VudC5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAoX2k1ID0gMCwgX09iamVjdCRrZXlzNCA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2k1IDwgX09iamVjdCRrZXlzNC5sZW5ndGg7IF9pNSsrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXM0W19pNV07CgogICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVbcHJvcF0pLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IG5leHRfdmFsdWVzW3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnUGFja2V0QWNrbm93bGVkZ2VtZW50cycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVBhY2tldEFja25vd2xlZGdlbWVudHMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRQYWNrZXRBY2syID0gZ2V0dGVyc1snZ2V0UGFja2V0QWNrbm93bGVkZ2VtZW50cyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRQYWNrZXRBY2syICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRQYWNrZXRBY2syIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQxID0gX2NvbnRleHQxMVsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVBhY2tldEFja25vd2xlZGdlbWVudHMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEsIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5VW5yZWNlaXZlZFBhY2tldHM6IGZ1bmN0aW9uIFF1ZXJ5VW5yZWNlaXZlZFBhY2tldHMoX3JlZjI2LCBfcmVmMjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMjckb3B0aW9ucywgX3JlZjI3JG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYyNyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYyNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFVucmVjZWl2ZSwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI2LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMjYucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMjYuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYyNyRvcHRpb25zID0gX3JlZjI3Lm9wdGlvbnMsIF9yZWYyNyRvcHRpb25zJHN1YnNjciA9IF9yZWYyNyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjI3JG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyNyRvcHRpb25zJHN1YnNjciwgX3JlZjI3JG9wdGlvbnMkYWxsID0gX3JlZjI3JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMjckb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjI3JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMjcucGFyYW1zKSwgX3JlZjI3JHF1ZXJ5ID0gX3JlZjI3LnF1ZXJ5LCBxdWVyeSA9IF9yZWYyNyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyNyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc2VudC5xdWVyeVVucmVjZWl2ZWRQYWNrZXRzKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnBhY2tldF9jb21taXRtZW50X3NlcXVlbmNlcywgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gX2NvbnRleHQxMi5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc2VudC5xdWVyeVVucmVjZWl2ZWRQYWNrZXRzKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnBhY2tldF9jb21taXRtZW50X3NlcXVlbmNlcyk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gX2NvbnRleHQxMi5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0MTIudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1VucmVjZWl2ZWRQYWNrZXRzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5VW5yZWNlaXZlZFBhY2tldHMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRVbnJlY2VpdmUgPSBnZXR0ZXJzWydnZXRVbnJlY2VpdmVkUGFja2V0cyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRVbnJlY2VpdmUgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFVucmVjZWl2ZSA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MSA9IF9jb250ZXh0MTJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlVbnJlY2VpdmVkUGFja2V0cycsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMiwgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlVbnJlY2VpdmVkQWNrczogZnVuY3Rpb24gUXVlcnlVbnJlY2VpdmVkQWNrcyhfcmVmMjgsIF9yZWYyOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYyOSRvcHRpb25zLCBfcmVmMjkkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjI5JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjI5JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0VW5yZWNlaXZlMiwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI4LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMjgucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMjguZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYyOSRvcHRpb25zID0gX3JlZjI5Lm9wdGlvbnMsIF9yZWYyOSRvcHRpb25zJHN1YnNjciA9IF9yZWYyOSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjI5JG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyOSRvcHRpb25zJHN1YnNjciwgX3JlZjI5JG9wdGlvbnMkYWxsID0gX3JlZjI5JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMjkkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjI5JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMjkucGFyYW1zKSwgX3JlZjI5JHF1ZXJ5ID0gX3JlZjI5LnF1ZXJ5LCBxdWVyeSA9IF9yZWYyOSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyOSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc2VudC5xdWVyeVVucmVjZWl2ZWRBY2tzKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwga2V5LnBhY2tldF9hY2tfc2VxdWVuY2VzLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zZW50LnF1ZXJ5VW5yZWNlaXZlZEFja3Moa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkLCBrZXkucGFja2V0X2Fja19zZXF1ZW5jZXMpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy50MCA9IF9jb250ZXh0MTMuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDEzLnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdVbnJlY2VpdmVkQWNrcycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVVucmVjZWl2ZWRBY2tzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0VW5yZWNlaXZlMiA9IGdldHRlcnNbJ2dldFVucmVjZWl2ZWRBY2tzJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFVucmVjZWl2ZTIgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFVucmVjZWl2ZTIgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDEgPSBfY29udGV4dDEzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5VW5yZWNlaXZlZEFja3MnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5TmV4dFNlcXVlbmNlUmVjZWl2ZTogZnVuY3Rpb24gUXVlcnlOZXh0U2VxdWVuY2VSZWNlaXZlKF9yZWYzMCwgX3JlZjMxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjMxJG9wdGlvbnMsIF9yZWYzMSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMzEkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMzEkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXROZXh0U2VxdWUsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzMC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjMwLnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjMwLmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMzEkb3B0aW9ucyA9IF9yZWYzMS5vcHRpb25zLCBfcmVmMzEkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMzEkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYzMSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMzEkb3B0aW9ucyRzdWJzY3IsIF9yZWYzMSRvcHRpb25zJGFsbCA9IF9yZWYzMSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjMxJG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYzMSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjMxLnBhcmFtcyksIF9yZWYzMSRxdWVyeSA9IF9yZWYzMS5xdWVyeSwgcXVlcnkgPSBfcmVmMzEkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMzEkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnNlbnQucXVlcnlOZXh0U2VxdWVuY2VSZWNlaXZlKGtleS5jaGFubmVsX2lkLCBrZXkucG9ydF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnQwID0gX2NvbnRleHQxNC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc2VudC5xdWVyeU5leHRTZXF1ZW5jZVJlY2VpdmUoa2V5LmNoYW5uZWxfaWQsIGtleS5wb3J0X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBfY29udGV4dDE0LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQxNC50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnTmV4dFNlcXVlbmNlUmVjZWl2ZScsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeU5leHRTZXF1ZW5jZVJlY2VpdmUnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXROZXh0U2VxdWUgPSBnZXR0ZXJzWydnZXROZXh0U2VxdWVuY2VSZWNlaXZlJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldE5leHRTZXF1ZSAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0TmV4dFNlcXVlIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnQxID0gX2NvbnRleHQxNFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeU5leHRTZXF1ZW5jZVJlY2VpdmUnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dDaGFubmVsT3BlbkluaXQ6IGZ1bmN0aW9uIHNlbmRNc2dDaGFubmVsT3BlbkluaXQoX3JlZjMyLCBfcmVmMzMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYzMi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjMzLnZhbHVlLCBmZWUgPSBfcmVmMzMuZmVlLCBtZW1vID0gX3JlZjMzLm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc2VudC5tc2dDaGFubmVsT3BlbkluaXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS50MCA9IF9jb250ZXh0MTVbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxNS50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsT3BlbkluaXQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsT3BlbkluaXQ6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dUaW1lb3V0OiBmdW5jdGlvbiBzZW5kTXNnVGltZW91dChfcmVmMzQsIF9yZWYzNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjM0LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMzUudmFsdWUsIGZlZSA9IF9yZWYzNS5mZWUsIG1lbW8gPSBfcmVmMzUubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zZW50Lm1zZ1RpbWVvdXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE2LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi50MCA9IF9jb250ZXh0MTZbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxNi50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dUaW1lb3V0OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVGltZW91dDpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNiwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ0NoYW5uZWxPcGVuQWNrOiBmdW5jdGlvbiBzZW5kTXNnQ2hhbm5lbE9wZW5BY2soX3JlZjM2LCBfcmVmMzcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYzNi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjM3LnZhbHVlLCBmZWUgPSBfcmVmMzcuZmVlLCBtZW1vID0gX3JlZjM3Lm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc2VudC5tc2dDaGFubmVsT3BlbkFjayh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTcuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnQwID0gX2NvbnRleHQxN1siY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDE3LnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxPcGVuQWNrOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5BY2s6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dDaGFubmVsQ2xvc2VJbml0OiBmdW5jdGlvbiBzZW5kTXNnQ2hhbm5lbENsb3NlSW5pdChfcmVmMzgsIF9yZWYzOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjM4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMzkudmFsdWUsIGZlZSA9IF9yZWYzOS5mZWUsIG1lbW8gPSBfcmVmMzkubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zZW50Lm1zZ0NoYW5uZWxDbG9zZUluaXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTguc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxOC50MCA9IF9jb250ZXh0MThbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxOC50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsQ2xvc2VJbml0OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbENsb3NlSW5pdDpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ0NoYW5uZWxDbG9zZUNvbmZpcm06IGZ1bmN0aW9uIHNlbmRNc2dDaGFubmVsQ2xvc2VDb25maXJtKF9yZWY0MCwgX3JlZjQxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBmZWUsIG1lbW8sIG1zZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNDAucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY0MS52YWx1ZSwgZmVlID0gX3JlZjQxLmZlZSwgbWVtbyA9IF9yZWY0MS5tZW1vOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnNlbnQubXNnQ2hhbm5lbENsb3NlQ29uZmlybSh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTkuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxOS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5LnQwID0gX2NvbnRleHQxOVsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDE5LnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxDbG9zZUNvbmZpcm06SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsQ2xvc2VDb25maXJtOlNlbmQnLCAnQ291bGQgbm90IGJyb2FkY2FzdCBUeC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE5LCBudWxsLCBbWzIsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnQ2hhbm5lbE9wZW5Db25maXJtOiBmdW5jdGlvbiBzZW5kTXNnQ2hhbm5lbE9wZW5Db25maXJtKF9yZWY0MiwgX3JlZjQzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBmZWUsIG1lbW8sIG1zZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNDIucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY0My52YWx1ZSwgZmVlID0gX3JlZjQzLmZlZSwgbWVtbyA9IF9yZWY0My5tZW1vOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnNlbnQubXNnQ2hhbm5lbE9wZW5Db25maXJtKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQyMC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc2VudC5zaWduQW5kQnJvYWRjYXN0KFttc2ddLCB7CiAgICAgICAgICAgICAgICAgIGZlZTogewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmVlLAogICAgICAgICAgICAgICAgICAgIGdhczogIjIwMDAwMCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAudDAgPSBfY29udGV4dDIwWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjAudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5Db25maXJtOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5Db25maXJtOlNlbmQnLCAnQ291bGQgbm90IGJyb2FkY2FzdCBUeC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwLCBudWxsLCBbWzIsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnQ2hhbm5lbE9wZW5Ucnk6IGZ1bmN0aW9uIHNlbmRNc2dDaGFubmVsT3BlblRyeShfcmVmNDQsIF9yZWY0NSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQ0LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNDUudmFsdWUsIGZlZSA9IF9yZWY0NS5mZWUsIG1lbW8gPSBfcmVmNDUubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zZW50Lm1zZ0NoYW5uZWxPcGVuVHJ5KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQyMS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc2VudC5zaWduQW5kQnJvYWRjYXN0KFttc2ddLCB7CiAgICAgICAgICAgICAgICAgIGZlZTogewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmVlLAogICAgICAgICAgICAgICAgICAgIGdhczogIjIwMDAwMCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIxLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEudDAgPSBfY29udGV4dDIxWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjEudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5Ucnk6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsT3BlblRyeTpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ1JlY3ZQYWNrZXQ6IGZ1bmN0aW9uIHNlbmRNc2dSZWN2UGFja2V0KF9yZWY0NiwgX3JlZjQ3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBmZWUsIG1lbW8sIG1zZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNDYucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY0Ny52YWx1ZSwgZmVlID0gX3JlZjQ3LmZlZSwgbWVtbyA9IF9yZWY0Ny5tZW1vOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnNlbnQubXNnUmVjdlBhY2tldCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MjIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyMi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLnQwID0gX2NvbnRleHQyMlsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDIyLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1JlY3ZQYWNrZXQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dSZWN2UGFja2V0OlNlbmQnLCAnQ291bGQgbm90IGJyb2FkY2FzdCBUeC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIyLCBudWxsLCBbWzIsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnVGltZW91dE9uQ2xvc2U6IGZ1bmN0aW9uIHNlbmRNc2dUaW1lb3V0T25DbG9zZShfcmVmNDgsIF9yZWY0OSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQ4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNDkudmFsdWUsIGZlZSA9IF9yZWY0OS5mZWUsIG1lbW8gPSBfcmVmNDkubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zZW50Lm1zZ1RpbWVvdXRPbkNsb3NlKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQyMy5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc2VudC5zaWduQW5kQnJvYWRjYXN0KFttc2ddLCB7CiAgICAgICAgICAgICAgICAgIGZlZTogewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmVlLAogICAgICAgICAgICAgICAgICAgIGdhczogIjIwMDAwMCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMudDAgPSBfY29udGV4dDIzWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjMudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVGltZW91dE9uQ2xvc2U6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dUaW1lb3V0T25DbG9zZTpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMywgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ0Fja25vd2xlZGdlbWVudDogZnVuY3Rpb24gc2VuZE1zZ0Fja25vd2xlZGdlbWVudChfcmVmNTAsIF9yZWY1MSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjUwLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNTEudmFsdWUsIGZlZSA9IF9yZWY1MS5mZWUsIG1lbW8gPSBfcmVmNTEubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zZW50Lm1zZ0Fja25vd2xlZGdlbWVudCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MjQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyNC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDI0LnQwID0gX2NvbnRleHQyNFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDI0LnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0Fja25vd2xlZGdlbWVudDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0Fja25vd2xlZGdlbWVudDpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnQ2hhbm5lbE9wZW5Jbml0OiBmdW5jdGlvbiBNc2dDaGFubmVsT3BlbkluaXQoX3JlZjUyLCBfcmVmNTMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjUyLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNTMudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc2VudC5tc2dDaGFubmVsT3BlbkluaXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDI1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDI1LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUudDAgPSBfY29udGV4dDI1WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjUudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5Jbml0OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5Jbml0OkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNSwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnVGltZW91dDogZnVuY3Rpb24gTXNnVGltZW91dChfcmVmNTQsIF9yZWY1NSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNTQucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY1NS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zZW50Lm1zZ1RpbWVvdXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDI2LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDI2LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDAgPSBfY29udGV4dDI2WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjYudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVGltZW91dDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1RpbWVvdXQ6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI2LCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dDaGFubmVsT3BlbkFjazogZnVuY3Rpb24gTXNnQ2hhbm5lbE9wZW5BY2soX3JlZjU2LCBfcmVmNTcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjU2LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNTcudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjcuc2VudC5tc2dDaGFubmVsT3BlbkFjayh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0Mjcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNy50MCA9IF9jb250ZXh0MjdbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyNy50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsT3BlbkFjazpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxPcGVuQWNrOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNywgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnQ2hhbm5lbENsb3NlSW5pdDogZnVuY3Rpb24gTXNnQ2hhbm5lbENsb3NlSW5pdChfcmVmNTgsIF9yZWY1OSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOC5wcmV2ID0gX2NvbnRleHQyOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNTgucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY1OS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjgucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zZW50Lm1zZ0NoYW5uZWxDbG9zZUluaXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDI4LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDI4LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjgudDAgPSBfY29udGV4dDI4WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjgudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbENsb3NlSW5pdDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxDbG9zZUluaXQ6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI4LCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dDaGFubmVsQ2xvc2VDb25maXJtOiBmdW5jdGlvbiBNc2dDaGFubmVsQ2xvc2VDb25maXJtKF9yZWY2MCwgX3JlZjYxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOSgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBtc2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOSQoX2NvbnRleHQyOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWY2MC5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjYxLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyOS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LnNlbnQubXNnQ2hhbm5lbENsb3NlQ29uZmlybSh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0Mjkuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjkucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQyOS50MCA9IF9jb250ZXh0MjlbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyOS50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDaGFubmVsQ2xvc2VDb25maXJtOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbENsb3NlQ29uZmlybTpDcmVhdGUnLCAnQ291bGQgbm90IGNyZWF0ZSBtZXNzYWdlLicpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjksIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIE1zZ0NoYW5uZWxPcGVuQ29uZmlybTogZnVuY3Rpb24gTXNnQ2hhbm5lbE9wZW5Db25maXJtKF9yZWY2MiwgX3JlZjYzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMCgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBtc2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMCQoX2NvbnRleHQzMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWY2Mi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjYzLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzMC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLnNlbnQubXNnQ2hhbm5lbE9wZW5Db25maXJtKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQzMC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuYWJydXB0KCJyZXR1cm4iLCBtc2cpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMwLnQwID0gX2NvbnRleHQzMFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDMwLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxPcGVuQ29uZmlybTpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxPcGVuQ29uZmlybTpDcmVhdGUnLCAnQ291bGQgbm90IGNyZWF0ZSBtZXNzYWdlLicpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzAsIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIE1zZ0NoYW5uZWxPcGVuVHJ5OiBmdW5jdGlvbiBNc2dDaGFubmVsT3BlblRyeShfcmVmNjQsIF9yZWY2NSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzEoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzEkKF9jb250ZXh0MzEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNjQucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY2NS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzEucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMxLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5zZW50Lm1zZ0NoYW5uZWxPcGVuVHJ5KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQzMS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuYWJydXB0KCJyZXR1cm4iLCBtc2cpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMS5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMxLnQwID0gX2NvbnRleHQzMVsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDMxLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NoYW5uZWxPcGVuVHJ5OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ2hhbm5lbE9wZW5Ucnk6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMxLCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dSZWN2UGFja2V0OiBmdW5jdGlvbiBNc2dSZWN2UGFja2V0KF9yZWY2NiwgX3JlZjY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMigpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBtc2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMiQoX2NvbnRleHQzMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWY2Ni5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjY3LnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzMi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLnNlbnQubXNnUmVjdlBhY2tldCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MzIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MzIucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQzMi50MCA9IF9jb250ZXh0MzJbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQzMi50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dSZWN2UGFja2V0OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnUmVjdlBhY2tldDpDcmVhdGUnLCAnQ291bGQgbm90IGNyZWF0ZSBtZXNzYWdlLicpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzIsIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIE1zZ1RpbWVvdXRPbkNsb3NlOiBmdW5jdGlvbiBNc2dUaW1lb3V0T25DbG9zZShfcmVmNjgsIF9yZWY2OSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzMoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzMkKF9jb250ZXh0MzMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMy5wcmV2ID0gX2NvbnRleHQzMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNjgucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY2OS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5zZW50Lm1zZ1RpbWVvdXRPbkNsb3NlKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQzMy5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuYWJydXB0KCJyZXR1cm4iLCBtc2cpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMy5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMzLnQwID0gX2NvbnRleHQzM1siY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDMzLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1RpbWVvdXRPbkNsb3NlOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVGltZW91dE9uQ2xvc2U6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMzLCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dBY2tub3dsZWRnZW1lbnQ6IGZ1bmN0aW9uIE1zZ0Fja25vd2xlZGdlbWVudChfcmVmNzAsIF9yZWY3MSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzQoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzQkKF9jb250ZXh0MzQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNC5wcmV2ID0gX2NvbnRleHQzNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNzAucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY3MS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5zZW50Lm1zZ0Fja25vd2xlZGdlbWVudCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MzQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MzQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQzNC50MCA9IF9jb250ZXh0MzRbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQzNC50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dBY2tub3dsZWRnZW1lbnQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dBY2tub3dsZWRnZW1lbnQ6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTM0LCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.channel.v1/index.js"],"names":["txClient","queryClient","SpVuexError","Channel","IdentifiedChannel","Counterparty","Packet","PacketState","Acknowledgement","PacketSequence","initTxClient","vuexGetters","addr","initQueryClient","getStructure","template","structure","fields","Object","entries","key","value","field","name","type","push","getDefaultState","Channels","ConnectionChannels","ChannelClientState","ChannelConsensusState","PacketCommitment","PacketCommitments","PacketReceipt","PacketAcknowledgement","PacketAcknowledgements","UnreceivedPackets","UnreceivedAcks","NextSequenceReceive","_Structure","fromPartial","_Subscriptions","Set","state","namespaced","mutations","RESET_STATE","assign","QUERY","query","JSON","stringify","SUBSCRIBE","subscription","add","UNSUBSCRIBE","delete","getters","getChannel","params","getChannels","getConnectionChannels","getChannelClientState","getChannelConsensusState","getPacketCommitment","getPacketCommitments","getPacketReceipt","getPacketAcknowledgement","getPacketAcknowledgements","getUnreceivedPackets","getUnreceivedAcks","getNextSequenceReceive","getTypeStructure","actions","init","dispatch","rootGetters","console","log","on","resetState","commit","unsubscribe","StoreUpdate","forEach","action","payload","QueryChannel","options","subscribe","all","queryChannel","channel_id","port_id","data","error","QueryChannels","queryChannels","pagination","nextKey","next_values","keys","prop","Array","isArray","QueryConnectionChannels","queryConnectionChannels","connection","QueryChannelClientState","queryChannelClientState","QueryChannelConsensusState","queryChannelConsensusState","revision_number","revision_height","QueryPacketCommitment","queryPacketCommitment","sequence","QueryPacketCommitments","queryPacketCommitments","QueryPacketReceipt","queryPacketReceipt","QueryPacketAcknowledgement","queryPacketAcknowledgement","QueryPacketAcknowledgements","queryPacketAcknowledgements","QueryUnreceivedPackets","queryUnreceivedPackets","packet_commitment_sequences","QueryUnreceivedAcks","queryUnreceivedAcks","packet_ack_sequences","QueryNextSequenceReceive","queryNextSequenceReceive","sendMsgChannelOpenInit","fee","memo","msgChannelOpenInit","msg","signAndBroadcast","amount","gas","result","toString","sendMsgTimeout","msgTimeout","sendMsgChannelOpenAck","msgChannelOpenAck","sendMsgChannelCloseInit","msgChannelCloseInit","sendMsgChannelCloseConfirm","msgChannelCloseConfirm","sendMsgChannelOpenConfirm","msgChannelOpenConfirm","sendMsgChannelOpenTry","msgChannelOpenTry","sendMsgRecvPacket","msgRecvPacket","sendMsgTimeoutOnClose","msgTimeoutOnClose","sendMsgAcknowledgement","msgAcknowledgement","MsgChannelOpenInit","MsgTimeout","MsgChannelOpenAck","MsgChannelCloseInit","MsgChannelCloseConfirm","MsgChannelOpenConfirm","MsgChannelOpenTry","MsgRecvPacket","MsgTimeoutOnClose","MsgAcknowledgement"],"mappings":"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","sourcesContent":["import { txClient, queryClient } from './module';\n// @ts-ignore\nimport { SpVuexError } from '@starport/vuex';\nimport { Channel } from \"./module/types/ibc/core/channel/v1/channel\";\nimport { IdentifiedChannel } from \"./module/types/ibc/core/channel/v1/channel\";\nimport { Counterparty } from \"./module/types/ibc/core/channel/v1/channel\";\nimport { Packet } from \"./module/types/ibc/core/channel/v1/channel\";\nimport { PacketState } from \"./module/types/ibc/core/channel/v1/channel\";\nimport { Acknowledgement } from \"./module/types/ibc/core/channel/v1/channel\";\nimport { PacketSequence } from \"./module/types/ibc/core/channel/v1/genesis\";\nasync function initTxClient(vuexGetters) {\n    return await txClient(vuexGetters['common/wallet/signer'], {\n        addr: vuexGetters['common/env/apiTendermint']\n    });\n}\nasync function initQueryClient(vuexGetters) {\n    return await queryClient({\n        addr: vuexGetters['common/env/apiCosmos']\n    });\n}\nfunction getStructure(template) {\n    let structure = { fields: [] };\n    for (const [key, value] of Object.entries(template)) {\n        let field = {};\n        field.name = key;\n        field.type = typeof value;\n        structure.fields.push(field);\n    }\n    return structure;\n}\nconst getDefaultState = () => {\n    return {\n        Channel: {},\n        Channels: {},\n        ConnectionChannels: {},\n        ChannelClientState: {},\n        ChannelConsensusState: {},\n        PacketCommitment: {},\n        PacketCommitments: {},\n        PacketReceipt: {},\n        PacketAcknowledgement: {},\n        PacketAcknowledgements: {},\n        UnreceivedPackets: {},\n        UnreceivedAcks: {},\n        NextSequenceReceive: {},\n        _Structure: {\n            Channel: getStructure(Channel.fromPartial({})),\n            IdentifiedChannel: getStructure(IdentifiedChannel.fromPartial({})),\n            Counterparty: getStructure(Counterparty.fromPartial({})),\n            Packet: getStructure(Packet.fromPartial({})),\n            PacketState: getStructure(PacketState.fromPartial({})),\n            Acknowledgement: getStructure(Acknowledgement.fromPartial({})),\n            PacketSequence: getStructure(PacketSequence.fromPartial({})),\n        },\n        _Subscriptions: new Set(),\n    };\n};\n// initial state\nconst state = getDefaultState();\nexport default {\n    namespaced: true,\n    state,\n    mutations: {\n        RESET_STATE(state) {\n            Object.assign(state, getDefaultState());\n        },\n        QUERY(state, { query, key, value }) {\n            state[query][JSON.stringify(key)] = value;\n        },\n        SUBSCRIBE(state, subscription) {\n            state._Subscriptions.add(subscription);\n        },\n        UNSUBSCRIBE(state, subscription) {\n            state._Subscriptions.delete(subscription);\n        }\n    },\n    getters: {\n        getChannel: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Channel[JSON.stringify(params)] ?? {};\n        },\n        getChannels: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Channels[JSON.stringify(params)] ?? {};\n        },\n        getConnectionChannels: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ConnectionChannels[JSON.stringify(params)] ?? {};\n        },\n        getChannelClientState: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ChannelClientState[JSON.stringify(params)] ?? {};\n        },\n        getChannelConsensusState: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ChannelConsensusState[JSON.stringify(params)] ?? {};\n        },\n        getPacketCommitment: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.PacketCommitment[JSON.stringify(params)] ?? {};\n        },\n        getPacketCommitments: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.PacketCommitments[JSON.stringify(params)] ?? {};\n        },\n        getPacketReceipt: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.PacketReceipt[JSON.stringify(params)] ?? {};\n        },\n        getPacketAcknowledgement: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.PacketAcknowledgement[JSON.stringify(params)] ?? {};\n        },\n        getPacketAcknowledgements: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.PacketAcknowledgements[JSON.stringify(params)] ?? {};\n        },\n        getUnreceivedPackets: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.UnreceivedPackets[JSON.stringify(params)] ?? {};\n        },\n        getUnreceivedAcks: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.UnreceivedAcks[JSON.stringify(params)] ?? {};\n        },\n        getNextSequenceReceive: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.NextSequenceReceive[JSON.stringify(params)] ?? {};\n        },\n        getTypeStructure: (state) => (type) => {\n            return state._Structure[type].fields;\n        }\n    },\n    actions: {\n        init({ dispatch, rootGetters }) {\n            console.log('init');\n            if (rootGetters['common/env/client']) {\n                rootGetters['common/env/client'].on('newblock', () => {\n                    dispatch('StoreUpdate');\n                });\n            }\n        },\n        resetState({ commit }) {\n            commit('RESET_STATE');\n        },\n        unsubscribe({ commit }, subscription) {\n            commit('UNSUBSCRIBE', subscription);\n        },\n        async StoreUpdate({ state, dispatch }) {\n            state._Subscriptions.forEach((subscription) => {\n                dispatch(subscription.action, subscription.payload);\n            });\n        },\n        async QueryChannel({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryChannel(key.channel_id, key.port_id, query)).data : (await (await initQueryClient(rootGetters)).queryChannel(key.channel_id, key.port_id)).data;\n                commit('QUERY', { query: 'Channel', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryChannel', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getChannel']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryChannel', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryChannels({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryChannels(query)).data : (await (await initQueryClient(rootGetters)).queryChannels()).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryChannels({ ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Channels', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryChannels', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getChannels']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryChannels', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryConnectionChannels({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryConnectionChannels(key.connection, query)).data : (await (await initQueryClient(rootGetters)).queryConnectionChannels(key.connection)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryConnectionChannels(key.connection, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'ConnectionChannels', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryConnectionChannels', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getConnectionChannels']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryConnectionChannels', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryChannelClientState({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryChannelClientState(key.channel_id, key.port_id, query)).data : (await (await initQueryClient(rootGetters)).queryChannelClientState(key.channel_id, key.port_id)).data;\n                commit('QUERY', { query: 'ChannelClientState', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryChannelClientState', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getChannelClientState']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryChannelClientState', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryChannelConsensusState({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryChannelConsensusState(key.channel_id, key.port_id, key.revision_number, key.revision_height, query)).data : (await (await initQueryClient(rootGetters)).queryChannelConsensusState(key.channel_id, key.port_id, key.revision_number, key.revision_height)).data;\n                commit('QUERY', { query: 'ChannelConsensusState', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryChannelConsensusState', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getChannelConsensusState']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryChannelConsensusState', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryPacketCommitment({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryPacketCommitment(key.channel_id, key.port_id, key.sequence, query)).data : (await (await initQueryClient(rootGetters)).queryPacketCommitment(key.channel_id, key.port_id, key.sequence)).data;\n                commit('QUERY', { query: 'PacketCommitment', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryPacketCommitment', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getPacketCommitment']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryPacketCommitment', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryPacketCommitments({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryPacketCommitments(key.channel_id, key.port_id, query)).data : (await (await initQueryClient(rootGetters)).queryPacketCommitments(key.channel_id, key.port_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryPacketCommitments(key.channel_id, key.port_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'PacketCommitments', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryPacketCommitments', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getPacketCommitments']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryPacketCommitments', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryPacketReceipt({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryPacketReceipt(key.channel_id, key.port_id, key.sequence, query)).data : (await (await initQueryClient(rootGetters)).queryPacketReceipt(key.channel_id, key.port_id, key.sequence)).data;\n                commit('QUERY', { query: 'PacketReceipt', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryPacketReceipt', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getPacketReceipt']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryPacketReceipt', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryPacketAcknowledgement({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryPacketAcknowledgement(key.channel_id, key.port_id, key.sequence, query)).data : (await (await initQueryClient(rootGetters)).queryPacketAcknowledgement(key.channel_id, key.port_id, key.sequence)).data;\n                commit('QUERY', { query: 'PacketAcknowledgement', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryPacketAcknowledgement', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getPacketAcknowledgement']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryPacketAcknowledgement', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryPacketAcknowledgements({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryPacketAcknowledgements(key.channel_id, key.port_id, query)).data : (await (await initQueryClient(rootGetters)).queryPacketAcknowledgements(key.channel_id, key.port_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryPacketAcknowledgements(key.channel_id, key.port_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'PacketAcknowledgements', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryPacketAcknowledgements', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getPacketAcknowledgements']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryPacketAcknowledgements', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryUnreceivedPackets({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryUnreceivedPackets(key.channel_id, key.port_id, key.packet_commitment_sequences, query)).data : (await (await initQueryClient(rootGetters)).queryUnreceivedPackets(key.channel_id, key.port_id, key.packet_commitment_sequences)).data;\n                commit('QUERY', { query: 'UnreceivedPackets', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryUnreceivedPackets', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getUnreceivedPackets']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryUnreceivedPackets', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryUnreceivedAcks({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryUnreceivedAcks(key.channel_id, key.port_id, key.packet_ack_sequences, query)).data : (await (await initQueryClient(rootGetters)).queryUnreceivedAcks(key.channel_id, key.port_id, key.packet_ack_sequences)).data;\n                commit('QUERY', { query: 'UnreceivedAcks', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryUnreceivedAcks', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getUnreceivedAcks']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryUnreceivedAcks', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryNextSequenceReceive({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryNextSequenceReceive(key.channel_id, key.port_id, query)).data : (await (await initQueryClient(rootGetters)).queryNextSequenceReceive(key.channel_id, key.port_id)).data;\n                commit('QUERY', { query: 'NextSequenceReceive', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryNextSequenceReceive', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getNextSequenceReceive']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryNextSequenceReceive', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async sendMsgChannelOpenInit({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenInit(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenInit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenInit:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgTimeout({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgTimeout(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgTimeout:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgTimeout:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgChannelOpenAck({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenAck(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenAck:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenAck:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgChannelCloseInit({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelCloseInit(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelCloseInit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelCloseInit:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgChannelCloseConfirm({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelCloseConfirm(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelCloseConfirm:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelCloseConfirm:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgChannelOpenConfirm({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenConfirm(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenConfirm:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenConfirm:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgChannelOpenTry({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenTry(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenTry:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenTry:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgRecvPacket({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgRecvPacket(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgRecvPacket:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgRecvPacket:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgTimeoutOnClose({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgTimeoutOnClose(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgTimeoutOnClose:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgTimeoutOnClose:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgAcknowledgement({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgAcknowledgement(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgAcknowledgement:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgAcknowledgement:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async MsgChannelOpenInit({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenInit(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenInit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenInit:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgTimeout({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgTimeout(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgTimeout:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgTimeout:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgChannelOpenAck({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenAck(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenAck:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenAck:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgChannelCloseInit({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelCloseInit(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelCloseInit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelCloseInit:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgChannelCloseConfirm({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelCloseConfirm(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelCloseConfirm:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelCloseConfirm:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgChannelOpenConfirm({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenConfirm(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenConfirm:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenConfirm:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgChannelOpenTry({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgChannelOpenTry(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgChannelOpenTry:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgChannelOpenTry:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgRecvPacket({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgRecvPacket(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgRecvPacket:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgRecvPacket:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgTimeoutOnClose({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgTimeoutOnClose(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgTimeoutOnClose:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgTimeoutOnClose:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgAcknowledgement({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgAcknowledgement(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgAcknowledgement:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgAcknowledgement:Create', 'Could not create message.');\n                }\n            }\n        },\n    }\n};\n"]}]}
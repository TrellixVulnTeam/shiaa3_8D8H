{"remainingRequest":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue?vue&type=template&id=3614b62c","dependencies":[{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue","mtime":1616342008523},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNvbnRhaW5lciIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgSm9pbiBBbmQgU3Rha2UgIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2Ryb3Bkb3duID0gX3Jlc29sdmVDb21wb25lbnQoImRyb3Bkb3duIik7CgogIHZhciBfY29tcG9uZW50X1NwQnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoIlNwQnV0dG9uIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiB0aGlzIGxpbmUgaXMgdXNlZCBieSBzdGFycG9ydCBzY2FmZm9sZGluZyAjIDQgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2Ryb3Bkb3duLCB7CiAgICBvcHRpb25zOiAkZGF0YS5wb29sTmFtZUxpc3QsCiAgICBzZWxlY3RlZDogJGRhdGEub2JqZWN0LAogICAgb25VcGRhdGVPcHRpb246ICRvcHRpb25zLnVwZGF0ZVBvb2xOYW1lLAogICAgaWQ6ICJ4MSIKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib3B0aW9ucyIsICJzZWxlY3RlZCIsICJvblVwZGF0ZU9wdGlvbiJdKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwieDFcIiBjbGFzcz1cInNwLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJQb29sIE5hbWVcIiB2LW9uOmtleXVwPVwidXBkYXRlU2VyaWFsXCIgcmVxdWlyZWQvPiAiKSwgX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgIGlkOiAieDIiLAogICAgY2xhc3M6ICJzcC1pbnB1dCIsCiAgICBwbGFjZWhvbGRlcjogIkFzc2V0IFNlcmlhbCIsCiAgICBvbktleXVwOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnVwZGF0ZVNlcmlhbCAmJiAkb3B0aW9ucy51cGRhdGVTZXJpYWwuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgIHJlcXVpcmVkOiAiIgogIH0sIG51bGwsIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApLCBfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TcEJ1dHRvbiwgewogICAgb25DbGljazogJG9wdGlvbnMuam9pbkFuZFN0YWtlCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uQ2xpY2siXSldKV0pOwp9"},{"version":3,"sources":["/home/saptarsi/go/src/hackathon/shiaa3/vue/src/views/Game.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAK,EAAC;;;8BAIgG,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;+CACpE,kB;;;;;;;uBANxC,YAAA,CAcM,KAdN,EAcM,IAdN,EAcM,CAbL,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXD,mBAAA,CAAA,iDAAA,CAWC,EAVA,YAAA,CAA2G,mBAA3G,EAA2G;AAAhG,IAAA,OAAO,EAAE,KAAA,CAAA,YAAuF;AAAxE,IAAA,QAAQ,EAAE,KAAA,CAAA,MAA8D;AAAjD,IAAA,cAAY,EAAE,QAAA,CAAA,cAAmC;AAAnB,IAAA,EAAE,EAAC;AAAgB,GAA3G,E,IAAA,E;;AAAA,I,yCAAA,CAUA,EATN,mBAAA,CAAA,sHAAA,CASM,EARN,YAAA,CAA2G,OAA3G,EAA2G;AAApG,IAAA,IAAI,EAAC,MAA+F;AAAxF,IAAA,EAAE,EAAC,IAAqF;AAAhF,IAAA,KAAK,EAAC,UAA0E;AAA/D,IAAA,WAAW,EAAC,cAAmD;AAA/B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,YAAA,IAAA,QAAA,CAAA,YAAA,OAAA,QAAA,YAAF;AAAA,KAAA,CAA0B;AAAV,IAAA,QAAQ,EAAR;AAAU,GAA3G,E,IAAA,E;;AAAA,GAQM,EARqG,UAQrG,EAPN,YAAA,CAAkE,mBAAlE,EAAkE;AAAvD,IAAA,OAAK,EAAS,QAAA,CAAA;AAAyC,GAAlE,EAAqC;sBAAE;AAAA,aAAgB,C,UAAA,CAAhB;AAAA,K,CAAF;;;;AAAA,GAArC,E;;AAAA,I,WAAA,CAOM,CAZN,CAaK,CAdN,C","sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"container\">\n      \t<!-- this line is used by starport scaffolding # 4 -->\n        <dropdown :options=\"poolNameList\" :selected=\"object\" v-on:updateOption=\"updatePoolName\" id=\"x1\"></dropdown>\n\t\t<!-- <input type=\"text\" id=\"x1\" class=\"sp-input\" placeholder=\"Pool Name\" v-on:keyup=\"updateSerial\" required/> -->\n\t\t<input type=\"text\" id=\"x2\" class=\"sp-input\" placeholder=\"Asset Serial\" v-on:keyup=\"updateSerial\" required/><br>\n\t\t<SpButton @click.native=\"joinAndStake\"> Join And Stake </SpButton>\n\n\t\n\n\n\n\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport dropdown from 'vue-dropdowns';\nexport default {\n    name: 'Game', \n    \n    data() {\n\t\treturn {\n\t\t\tserial: \"\",\n\t\t\tpoolName: \"\",\n\t\t\tmodulePath: \"sap200.shiaa3.shiaa3\",\n            moduleType: \"JoinPoolAndStakeAsset\",\n            object: {\n              name: 'Pool Name',\n            },\n            poolNameList: [{name: \"pool-0\"}, {name: \"pool-1\"}, {name: \"pool-2\"}, {name: \"pool-3\"}, {name: \"pool-4\"}]\n\t\t}\n    },\n\n    components: {\n            'dropdown': dropdown,\n    },\n\n\n    computed: {\n        address() {\n\t\t\treturn this.$store.getters['common/wallet/address']\n        },\n        \n        selectedAccount() {\n\t\t\tif (this._depsLoaded) {\n\t\t\t\treturn this.$store.getters['common/wallet/address']\n\t\t\t} else {\n\t\t\t\treturn null\n\t\t\t}\n        },\n        \n    },\n    \n    methods: {\n        updateSerial(event) {\n\t\t\tthis.serial = event.target.value.trim()\n\t\t\tconsole.log(this.serial)\n\t\t}, \n\n\t\tupdatePoolName(payload) {\n\t\t\tthis.object = payload\n\t\t\tconsole.log(this.object.name)\n        }, \n        \n        async joinAndStake() {\n            if (this.serial != \"\" && this.object.name != \"\") {\n                console.log(\"Joining and staking\")\n                if (this.address != \"\") {\n                    var r = confirm(\"You are about to stake in \" + this.object.name + \". Press ok to confirm !\");\n                    console.log(r)\n                    if (r == true) {\n                        let payload = {creator: this.selectedAccount, id: 0, PoolNo: this.object.name, AssetSerial: this.serial}\n                        // send\n                        console.log(payload)\n                        // TODO\n                        // Write code to dispatch thats all\n                    let result = await this.$store.dispatch(\n                        this.modulePath + '/sendMsgCreate' + this.moduleType,\n                        {value: payload, fee: []},\n                    )\n                    console.log(result)\n                    alert(result.rawLog)\n                    this.$emit('Joined Pool')\n                    this.serial = \"\"\n                    this.object = {name: \"Pool Name\"}\n\n                    } else {\n                        alert(\"Joining cancelled\")\n                          this.serial = \"\"\n                          this.object = {name: \"Pool Name\"}\n                    }\n\n                } else {\n                    alert(\"Please Sign in with your wallet\")\n                    this.serial = \"\"\n                    this.object = {name: \"Pool Name\"}\n                }\n            } else {\n                alert(\"All fields should be filled.\")\n            }\n            \n        }\n    }\n}\n</script>\n\n\n<style>\n\t#x1 {\n\t\tmargin-bottom: 10px;\n\t\twidth: 600px;\n\t\tborder-radius: 10px;\n        font-size: 18px;\n\t}\n\n\t#x2 {\n\t\tmargin-bottom: 10px;\n\t\twidth: 600px;\n\t\tborder-radius: 10px;\n\t}\n</style>\n\n\n"],"sourceRoot":""}]}
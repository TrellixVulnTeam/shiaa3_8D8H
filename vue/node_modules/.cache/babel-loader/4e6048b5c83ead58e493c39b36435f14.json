{"remainingRequest":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js??ref--13-0!/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.connection.v1/module/types/confio/proofs.js","dependencies":[{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.connection.v1/module/types/confio/proofs.js","mtime":1616424851828},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwudG8tanNvbi5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvaGFja2F0aG9uL3NoaWFhMy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwoKLyogZXNsaW50LWRpc2FibGUgKi8KaW1wb3J0IHsgV3JpdGVyLCBSZWFkZXIgfSBmcm9tICJwcm90b2J1ZmpzL21pbmltYWwiOwpleHBvcnQgdmFyIHByb3RvYnVmUGFja2FnZSA9ICJpY3MyMyI7CmV4cG9ydCB2YXIgSGFzaE9wOwoKKGZ1bmN0aW9uIChIYXNoT3ApIHsKICAvKiogTk9fSEFTSCAtIE5PX0hBU0ggaXMgdGhlIGRlZmF1bHQgaWYgbm8gZGF0YSBwYXNzZWQuIE5vdGUgdGhpcyBpcyBhbiBpbGxlZ2FsIGFyZ3VtZW50IHNvbWUgcGxhY2VzLiAqLwogIEhhc2hPcFtIYXNoT3BbIk5PX0hBU0giXSA9IDBdID0gIk5PX0hBU0giOwogIEhhc2hPcFtIYXNoT3BbIlNIQTI1NiJdID0gMV0gPSAiU0hBMjU2IjsKICBIYXNoT3BbSGFzaE9wWyJTSEE1MTIiXSA9IDJdID0gIlNIQTUxMiI7CiAgSGFzaE9wW0hhc2hPcFsiS0VDQ0FLIl0gPSAzXSA9ICJLRUNDQUsiOwogIEhhc2hPcFtIYXNoT3BbIlJJUEVNRDE2MCJdID0gNF0gPSAiUklQRU1EMTYwIjsKICAvKiogQklUQ09JTiAtIHJpcGVtZDE2MChzaGEyNTYoeCkpICovCgogIEhhc2hPcFtIYXNoT3BbIkJJVENPSU4iXSA9IDVdID0gIkJJVENPSU4iOwogIEhhc2hPcFtIYXNoT3BbIlVOUkVDT0dOSVpFRCJdID0gLTFdID0gIlVOUkVDT0dOSVpFRCI7Cn0pKEhhc2hPcCB8fCAoSGFzaE9wID0ge30pKTsKCmV4cG9ydCBmdW5jdGlvbiBoYXNoT3BGcm9tSlNPTihvYmplY3QpIHsKICBzd2l0Y2ggKG9iamVjdCkgewogICAgY2FzZSAwOgogICAgY2FzZSAiTk9fSEFTSCI6CiAgICAgIHJldHVybiBIYXNoT3AuTk9fSEFTSDsKCiAgICBjYXNlIDE6CiAgICBjYXNlICJTSEEyNTYiOgogICAgICByZXR1cm4gSGFzaE9wLlNIQTI1NjsKCiAgICBjYXNlIDI6CiAgICBjYXNlICJTSEE1MTIiOgogICAgICByZXR1cm4gSGFzaE9wLlNIQTUxMjsKCiAgICBjYXNlIDM6CiAgICBjYXNlICJLRUNDQUsiOgogICAgICByZXR1cm4gSGFzaE9wLktFQ0NBSzsKCiAgICBjYXNlIDQ6CiAgICBjYXNlICJSSVBFTUQxNjAiOgogICAgICByZXR1cm4gSGFzaE9wLlJJUEVNRDE2MDsKCiAgICBjYXNlIDU6CiAgICBjYXNlICJCSVRDT0lOIjoKICAgICAgcmV0dXJuIEhhc2hPcC5CSVRDT0lOOwoKICAgIGNhc2UgLTE6CiAgICBjYXNlICJVTlJFQ09HTklaRUQiOgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIEhhc2hPcC5VTlJFQ09HTklaRUQ7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBoYXNoT3BUb0pTT04ob2JqZWN0KSB7CiAgc3dpdGNoIChvYmplY3QpIHsKICAgIGNhc2UgSGFzaE9wLk5PX0hBU0g6CiAgICAgIHJldHVybiAiTk9fSEFTSCI7CgogICAgY2FzZSBIYXNoT3AuU0hBMjU2OgogICAgICByZXR1cm4gIlNIQTI1NiI7CgogICAgY2FzZSBIYXNoT3AuU0hBNTEyOgogICAgICByZXR1cm4gIlNIQTUxMiI7CgogICAgY2FzZSBIYXNoT3AuS0VDQ0FLOgogICAgICByZXR1cm4gIktFQ0NBSyI7CgogICAgY2FzZSBIYXNoT3AuUklQRU1EMTYwOgogICAgICByZXR1cm4gIlJJUEVNRDE2MCI7CgogICAgY2FzZSBIYXNoT3AuQklUQ09JTjoKICAgICAgcmV0dXJuICJCSVRDT0lOIjsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gIlVOS05PV04iOwogIH0KfQovKioKICogTGVuZ3RoT3AgZGVmaW5lcyBob3cgdG8gcHJvY2VzcyB0aGUga2V5IGFuZCB2YWx1ZSBvZiB0aGUgTGVhZk9wCiAqIHRvIGluY2x1ZGUgbGVuZ3RoIGluZm9ybWF0aW9uLiBBZnRlciBlbmNvZGluZyB0aGUgbGVuZ3RoIHdpdGggdGhlIGdpdmVuCiAqIGFsZ29yaXRobSwgdGhlIGxlbmd0aCB3aWxsIGJlIHByZXBlbmRlZCB0byB0aGUga2V5IGFuZCB2YWx1ZSBieXRlcy4KICogKEVhY2ggb25lIHdpdGggaXQncyBvd24gZW5jb2RlZCBsZW5ndGgpCiAqLwoKZXhwb3J0IHZhciBMZW5ndGhPcDsKCihmdW5jdGlvbiAoTGVuZ3RoT3ApIHsKICAvKiogTk9fUFJFRklYIC0gTk9fUFJFRklYIGRvbid0IGluY2x1ZGUgYW55IGxlbmd0aCBpbmZvICovCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIk5PX1BSRUZJWCJdID0gMF0gPSAiTk9fUFJFRklYIjsKICAvKiogVkFSX1BST1RPIC0gVkFSX1BST1RPIHVzZXMgcHJvdG9idWYgKGFuZCBnby1hbWlubykgdmFyaW50IGVuY29kaW5nIG9mIHRoZSBsZW5ndGggKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIlZBUl9QUk9UTyJdID0gMV0gPSAiVkFSX1BST1RPIjsKICAvKiogVkFSX1JMUCAtIFZBUl9STFAgdXNlcyBybHAgaW50IGVuY29kaW5nIG9mIHRoZSBsZW5ndGggKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIlZBUl9STFAiXSA9IDJdID0gIlZBUl9STFAiOwogIC8qKiBGSVhFRDMyX0JJRyAtIEZJWEVEMzJfQklHIHVzZXMgYmlnLWVuZGlhbiBlbmNvZGluZyBvZiB0aGUgbGVuZ3RoIGFzIGEgMzIgYml0IGludGVnZXIgKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIkZJWEVEMzJfQklHIl0gPSAzXSA9ICJGSVhFRDMyX0JJRyI7CiAgLyoqIEZJWEVEMzJfTElUVExFIC0gRklYRUQzMl9MSVRUTEUgdXNlcyBsaXR0bGUtZW5kaWFuIGVuY29kaW5nIG9mIHRoZSBsZW5ndGggYXMgYSAzMiBiaXQgaW50ZWdlciAqLwoKICBMZW5ndGhPcFtMZW5ndGhPcFsiRklYRUQzMl9MSVRUTEUiXSA9IDRdID0gIkZJWEVEMzJfTElUVExFIjsKICAvKiogRklYRUQ2NF9CSUcgLSBGSVhFRDY0X0JJRyB1c2VzIGJpZy1lbmRpYW4gZW5jb2Rpbmcgb2YgdGhlIGxlbmd0aCBhcyBhIDY0IGJpdCBpbnRlZ2VyICovCgogIExlbmd0aE9wW0xlbmd0aE9wWyJGSVhFRDY0X0JJRyJdID0gNV0gPSAiRklYRUQ2NF9CSUciOwogIC8qKiBGSVhFRDY0X0xJVFRMRSAtIEZJWEVENjRfTElUVExFIHVzZXMgbGl0dGxlLWVuZGlhbiBlbmNvZGluZyBvZiB0aGUgbGVuZ3RoIGFzIGEgNjQgYml0IGludGVnZXIgKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIkZJWEVENjRfTElUVExFIl0gPSA2XSA9ICJGSVhFRDY0X0xJVFRMRSI7CiAgLyoqIFJFUVVJUkVfMzJfQllURVMgLSBSRVFVSVJFXzMyX0JZVEVTIGlzIGxpa2UgTk9ORSwgYnV0IHdpbGwgZmFpbCBpZiB0aGUgaW5wdXQgaXMgbm90IGV4YWN0bHkgMzIgYnl0ZXMgKHNoYTI1NiBvdXRwdXQpICovCgogIExlbmd0aE9wW0xlbmd0aE9wWyJSRVFVSVJFXzMyX0JZVEVTIl0gPSA3XSA9ICJSRVFVSVJFXzMyX0JZVEVTIjsKICAvKiogUkVRVUlSRV82NF9CWVRFUyAtIFJFUVVJUkVfNjRfQllURVMgaXMgbGlrZSBOT05FLCBidXQgd2lsbCBmYWlsIGlmIHRoZSBpbnB1dCBpcyBub3QgZXhhY3RseSA2NCBieXRlcyAoc2hhNTEyIG91dHB1dCkgKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIlJFUVVJUkVfNjRfQllURVMiXSA9IDhdID0gIlJFUVVJUkVfNjRfQllURVMiOwogIExlbmd0aE9wW0xlbmd0aE9wWyJVTlJFQ09HTklaRUQiXSA9IC0xXSA9ICJVTlJFQ09HTklaRUQiOwp9KShMZW5ndGhPcCB8fCAoTGVuZ3RoT3AgPSB7fSkpOwoKZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aE9wRnJvbUpTT04ob2JqZWN0KSB7CiAgc3dpdGNoIChvYmplY3QpIHsKICAgIGNhc2UgMDoKICAgIGNhc2UgIk5PX1BSRUZJWCI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5OT19QUkVGSVg7CgogICAgY2FzZSAxOgogICAgY2FzZSAiVkFSX1BST1RPIjoKICAgICAgcmV0dXJuIExlbmd0aE9wLlZBUl9QUk9UTzsKCiAgICBjYXNlIDI6CiAgICBjYXNlICJWQVJfUkxQIjoKICAgICAgcmV0dXJuIExlbmd0aE9wLlZBUl9STFA7CgogICAgY2FzZSAzOgogICAgY2FzZSAiRklYRUQzMl9CSUciOgogICAgICByZXR1cm4gTGVuZ3RoT3AuRklYRUQzMl9CSUc7CgogICAgY2FzZSA0OgogICAgY2FzZSAiRklYRUQzMl9MSVRUTEUiOgogICAgICByZXR1cm4gTGVuZ3RoT3AuRklYRUQzMl9MSVRUTEU7CgogICAgY2FzZSA1OgogICAgY2FzZSAiRklYRUQ2NF9CSUciOgogICAgICByZXR1cm4gTGVuZ3RoT3AuRklYRUQ2NF9CSUc7CgogICAgY2FzZSA2OgogICAgY2FzZSAiRklYRUQ2NF9MSVRUTEUiOgogICAgICByZXR1cm4gTGVuZ3RoT3AuRklYRUQ2NF9MSVRUTEU7CgogICAgY2FzZSA3OgogICAgY2FzZSAiUkVRVUlSRV8zMl9CWVRFUyI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5SRVFVSVJFXzMyX0JZVEVTOwoKICAgIGNhc2UgODoKICAgIGNhc2UgIlJFUVVJUkVfNjRfQllURVMiOgogICAgICByZXR1cm4gTGVuZ3RoT3AuUkVRVUlSRV82NF9CWVRFUzsKCiAgICBjYXNlIC0xOgogICAgY2FzZSAiVU5SRUNPR05JWkVEIjoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBMZW5ndGhPcC5VTlJFQ09HTklaRUQ7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhPcFRvSlNPTihvYmplY3QpIHsKICBzd2l0Y2ggKG9iamVjdCkgewogICAgY2FzZSBMZW5ndGhPcC5OT19QUkVGSVg6CiAgICAgIHJldHVybiAiTk9fUFJFRklYIjsKCiAgICBjYXNlIExlbmd0aE9wLlZBUl9QUk9UTzoKICAgICAgcmV0dXJuICJWQVJfUFJPVE8iOwoKICAgIGNhc2UgTGVuZ3RoT3AuVkFSX1JMUDoKICAgICAgcmV0dXJuICJWQVJfUkxQIjsKCiAgICBjYXNlIExlbmd0aE9wLkZJWEVEMzJfQklHOgogICAgICByZXR1cm4gIkZJWEVEMzJfQklHIjsKCiAgICBjYXNlIExlbmd0aE9wLkZJWEVEMzJfTElUVExFOgogICAgICByZXR1cm4gIkZJWEVEMzJfTElUVExFIjsKCiAgICBjYXNlIExlbmd0aE9wLkZJWEVENjRfQklHOgogICAgICByZXR1cm4gIkZJWEVENjRfQklHIjsKCiAgICBjYXNlIExlbmd0aE9wLkZJWEVENjRfTElUVExFOgogICAgICByZXR1cm4gIkZJWEVENjRfTElUVExFIjsKCiAgICBjYXNlIExlbmd0aE9wLlJFUVVJUkVfMzJfQllURVM6CiAgICAgIHJldHVybiAiUkVRVUlSRV8zMl9CWVRFUyI7CgogICAgY2FzZSBMZW5ndGhPcC5SRVFVSVJFXzY0X0JZVEVTOgogICAgICByZXR1cm4gIlJFUVVJUkVfNjRfQllURVMiOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAiVU5LTk9XTiI7CiAgfQp9CnZhciBiYXNlRXhpc3RlbmNlUHJvb2YgPSB7fTsKZXhwb3J0IHZhciBFeGlzdGVuY2VQcm9vZiA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2Uua2V5Lmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmtleSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UudmFsdWUubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UudmFsdWUpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmxlYWYgIT09IHVuZGVmaW5lZCkgewogICAgICBMZWFmT3AuZW5jb2RlKG1lc3NhZ2UubGVhZiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWVzc2FnZS5wYXRoKSwKICAgICAgICBfc3RlcDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciB2ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgSW5uZXJPcC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQoKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUV4aXN0ZW5jZVByb29mKTsKCiAgICBtZXNzYWdlLnBhdGggPSBbXTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLmxlYWYgPSBMZWFmT3AuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLnBhdGgucHVzaChJbm5lck9wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlRXhpc3RlbmNlUHJvb2YpOwoKICAgIG1lc3NhZ2UucGF0aCA9IFtdOwoKICAgIGlmIChvYmplY3Qua2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmtleSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmtleSA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Qua2V5KTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnZhbHVlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbHVlICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnZhbHVlKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LmxlYWYgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVhZiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlYWYgPSBMZWFmT3AuZnJvbUpTT04ob2JqZWN0LmxlYWYpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWFmID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucGF0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXRoICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LnBhdGgpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLnBhdGgucHVzaChJbm5lck9wLmZyb21KU09OKGUpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmtleSA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UudmFsdWUgOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICBtZXNzYWdlLmxlYWYgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxlYWYgPSBtZXNzYWdlLmxlYWYgPyBMZWFmT3AudG9KU09OKG1lc3NhZ2UubGVhZikgOiB1bmRlZmluZWQpOwoKICAgIGlmIChtZXNzYWdlLnBhdGgpIHsKICAgICAgb2JqLnBhdGggPSBtZXNzYWdlLnBhdGgubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgPyBJbm5lck9wLnRvSlNPTihlKSA6IHVuZGVmaW5lZDsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBvYmoucGF0aCA9IFtdOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VFeGlzdGVuY2VQcm9vZik7CgogICAgbWVzc2FnZS5wYXRoID0gW107CgogICAgaWYgKG9iamVjdC5rZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qua2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gb2JqZWN0LmtleTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnZhbHVlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbHVlICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWU7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnZhbHVlID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LmxlYWYgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVhZiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlYWYgPSBMZWFmT3AuZnJvbVBhcnRpYWwob2JqZWN0LmxlYWYpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWFmID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucGF0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXRoICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LnBhdGgpLAogICAgICAgICAgX3N0ZXAzOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGUgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLnBhdGgucHVzaChJbm5lck9wLmZyb21QYXJ0aWFsKGUpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZU5vbkV4aXN0ZW5jZVByb29mID0ge307CmV4cG9ydCB2YXIgTm9uRXhpc3RlbmNlUHJvb2YgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLmtleS5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5rZXkpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmxlZnQgIT09IHVuZGVmaW5lZCkgewogICAgICBFeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5sZWZ0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2UucmlnaHQsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTm9uRXhpc3RlbmNlUHJvb2YpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5sZWZ0ID0gRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLnJpZ2h0ID0gRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU5vbkV4aXN0ZW5jZVByb29mKTsKCiAgICBpZiAob2JqZWN0LmtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5rZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5rZXkgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmtleSk7CiAgICB9CgogICAgaWYgKG9iamVjdC5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmxlZnQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZWZ0ID0gRXhpc3RlbmNlUHJvb2YuZnJvbUpTT04ob2JqZWN0LmxlZnQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWZ0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucmlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5yaWdodCA9IEV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5yaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5rZXkgOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICBtZXNzYWdlLmxlZnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxlZnQgPSBtZXNzYWdlLmxlZnQgPyBFeGlzdGVuY2VQcm9vZi50b0pTT04obWVzc2FnZS5sZWZ0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5yaWdodCA9IG1lc3NhZ2UucmlnaHQgPyBFeGlzdGVuY2VQcm9vZi50b0pTT04obWVzc2FnZS5yaWdodCkgOiB1bmRlZmluZWQpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU5vbkV4aXN0ZW5jZVByb29mKTsKCiAgICBpZiAob2JqZWN0LmtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5rZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5rZXkgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVmdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWZ0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVmdCA9IEV4aXN0ZW5jZVByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5sZWZ0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubGVmdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucmlnaHQgPSBFeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3QucmlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5yaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQ29tbWl0bWVudFByb29mID0ge307CmV4cG9ydCB2YXIgQ29tbWl0bWVudFByb29mID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5leGlzdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEV4aXN0ZW5jZVByb29mLmVuY29kZShtZXNzYWdlLmV4aXN0LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLm5vbmV4aXN0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgTm9uRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2Uubm9uZXhpc3QsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuYmF0Y2ggIT09IHVuZGVmaW5lZCkgewogICAgICBCYXRjaFByb29mLmVuY29kZShtZXNzYWdlLmJhdGNoLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmNvbXByZXNzZWQgIT09IHVuZGVmaW5lZCkgewogICAgICBDb21wcmVzc2VkQmF0Y2hQcm9vZi5lbmNvZGUobWVzc2FnZS5jb21wcmVzc2VkLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbW1pdG1lbnRQcm9vZik7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5leGlzdCA9IEV4aXN0ZW5jZVByb29mLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5ub25leGlzdCA9IE5vbkV4aXN0ZW5jZVByb29mLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5iYXRjaCA9IEJhdGNoUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLmNvbXByZXNzZWQgPSBDb21wcmVzc2VkQmF0Y2hQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tbWl0bWVudFByb29mKTsKCiAgICBpZiAob2JqZWN0LmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSBFeGlzdGVuY2VQcm9vZi5mcm9tSlNPTihvYmplY3QuZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm5vbmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm5vbmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSBOb25FeGlzdGVuY2VQcm9vZi5mcm9tSlNPTihvYmplY3Qubm9uZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmJhdGNoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJhdGNoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuYmF0Y2ggPSBCYXRjaFByb29mLmZyb21KU09OKG9iamVjdC5iYXRjaCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmJhdGNoID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QuY29tcHJlc3NlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb21wcmVzc2VkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY29tcHJlc3NlZCA9IENvbXByZXNzZWRCYXRjaFByb29mLmZyb21KU09OKG9iamVjdC5jb21wcmVzc2VkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY29tcHJlc3NlZCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UuZXhpc3QgIT09IHVuZGVmaW5lZCAmJiAob2JqLmV4aXN0ID0gbWVzc2FnZS5leGlzdCA/IEV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLmV4aXN0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLm5vbmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5ub25leGlzdCA9IG1lc3NhZ2Uubm9uZXhpc3QgPyBOb25FeGlzdGVuY2VQcm9vZi50b0pTT04obWVzc2FnZS5ub25leGlzdCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5iYXRjaCAhPT0gdW5kZWZpbmVkICYmIChvYmouYmF0Y2ggPSBtZXNzYWdlLmJhdGNoID8gQmF0Y2hQcm9vZi50b0pTT04obWVzc2FnZS5iYXRjaCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5jb21wcmVzc2VkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb21wcmVzc2VkID0gbWVzc2FnZS5jb21wcmVzc2VkID8gQ29tcHJlc3NlZEJhdGNoUHJvb2YudG9KU09OKG1lc3NhZ2UuY29tcHJlc3NlZCkgOiB1bmRlZmluZWQpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbW1pdG1lbnRQcm9vZik7CgogICAgaWYgKG9iamVjdC5leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmV4aXN0ID0gRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0LmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5ub25leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ub25leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gTm9uRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0Lm5vbmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5iYXRjaCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5iYXRjaCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmJhdGNoID0gQmF0Y2hQcm9vZi5mcm9tUGFydGlhbChvYmplY3QuYmF0Y2gpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5iYXRjaCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNvbXByZXNzZWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29tcHJlc3NlZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNvbXByZXNzZWQgPSBDb21wcmVzc2VkQmF0Y2hQcm9vZi5mcm9tUGFydGlhbChvYmplY3QuY29tcHJlc3NlZCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNvbXByZXNzZWQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZUxlYWZPcCA9IHsKICBoYXNoOiAwLAogIHByZWhhc2hLZXk6IDAsCiAgcHJlaGFzaFZhbHVlOiAwLAogIGxlbmd0aDogMAp9OwpleHBvcnQgdmFyIExlYWZPcCA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UuaGFzaCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuaGFzaCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJlaGFzaEtleSAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLnByZWhhc2hLZXkpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByZWhhc2hWYWx1ZSAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLnByZWhhc2hWYWx1ZSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UubGVuZ3RoKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcmVmaXgubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDIpLmJ5dGVzKG1lc3NhZ2UucHJlZml4KTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VMZWFmT3ApOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UuaGFzaCA9IHJlYWRlci5pbnQzMigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UucHJlaGFzaEtleSA9IHJlYWRlci5pbnQzMigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UucHJlaGFzaFZhbHVlID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgbWVzc2FnZS5sZW5ndGggPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBtZXNzYWdlLnByZWZpeCA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTGVhZk9wKTsKCiAgICBpZiAob2JqZWN0Lmhhc2ggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaGFzaCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmhhc2ggPSBoYXNoT3BGcm9tSlNPTihvYmplY3QuaGFzaCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmhhc2ggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QucHJlaGFzaEtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVoYXNoS2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJlaGFzaEtleSA9IGhhc2hPcEZyb21KU09OKG9iamVjdC5wcmVoYXNoS2V5KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJlaGFzaEtleSA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcmVoYXNoVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJlaGFzaFZhbHVlICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJlaGFzaFZhbHVlID0gaGFzaE9wRnJvbUpTT04ob2JqZWN0LnByZWhhc2hWYWx1ZSk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByZWhhc2hWYWx1ZSA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5sZW5ndGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVuZ3RoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVuZ3RoID0gbGVuZ3RoT3BGcm9tSlNPTihvYmplY3QubGVuZ3RoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubGVuZ3RoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZWZpeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVmaXggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVmaXggPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnByZWZpeCk7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmhhc2ggIT09IHVuZGVmaW5lZCAmJiAob2JqLmhhc2ggPSBoYXNoT3BUb0pTT04obWVzc2FnZS5oYXNoKSk7CiAgICBtZXNzYWdlLnByZWhhc2hLZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnByZWhhc2hLZXkgPSBoYXNoT3BUb0pTT04obWVzc2FnZS5wcmVoYXNoS2V5KSk7CiAgICBtZXNzYWdlLnByZWhhc2hWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJlaGFzaFZhbHVlID0gaGFzaE9wVG9KU09OKG1lc3NhZ2UucHJlaGFzaFZhbHVlKSk7CiAgICBtZXNzYWdlLmxlbmd0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoubGVuZ3RoID0gbGVuZ3RoT3BUb0pTT04obWVzc2FnZS5sZW5ndGgpKTsKICAgIG1lc3NhZ2UucHJlZml4ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcmVmaXggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5wcmVmaXggIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UucHJlZml4IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUxlYWZPcCk7CgogICAgaWYgKG9iamVjdC5oYXNoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lmhhc2ggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5oYXNoID0gb2JqZWN0Lmhhc2g7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmhhc2ggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QucHJlaGFzaEtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVoYXNoS2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJlaGFzaEtleSA9IG9iamVjdC5wcmVoYXNoS2V5OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoS2V5ID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZWhhc2hWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVoYXNoVmFsdWUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoVmFsdWUgPSBvYmplY3QucHJlaGFzaFZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoVmFsdWUgPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QubGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lmxlbmd0aCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlbmd0aCA9IG9iamVjdC5sZW5ndGg7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlbmd0aCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcmVmaXggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJlZml4ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJlZml4ID0gb2JqZWN0LnByZWZpeDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJlZml4ID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlSW5uZXJPcCA9IHsKICBoYXNoOiAwCn07CmV4cG9ydCB2YXIgSW5uZXJPcCA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UuaGFzaCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuaGFzaCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJlZml4Lmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnByZWZpeCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2Uuc3VmZml4Lmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDI2KS5ieXRlcyhtZXNzYWdlLnN1ZmZpeCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlSW5uZXJPcCk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5wcmVmaXggPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLnN1ZmZpeCA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlSW5uZXJPcCk7CgogICAgaWYgKG9iamVjdC5oYXNoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lmhhc2ggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5oYXNoID0gaGFzaE9wRnJvbUpTT04ob2JqZWN0Lmhhc2gpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5oYXNoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZWZpeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVmaXggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVmaXggPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnByZWZpeCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5zdWZmaXggIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc3VmZml4ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc3VmZml4ID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5zdWZmaXgpOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5oYXNoICE9PSB1bmRlZmluZWQgJiYgKG9iai5oYXNoID0gaGFzaE9wVG9KU09OKG1lc3NhZ2UuaGFzaCkpOwogICAgbWVzc2FnZS5wcmVmaXggIT09IHVuZGVmaW5lZCAmJiAob2JqLnByZWZpeCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnByZWZpeCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5wcmVmaXggOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICBtZXNzYWdlLnN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIChvYmouc3VmZml4ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uuc3VmZml4ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnN1ZmZpeCA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VJbm5lck9wKTsKCiAgICBpZiAob2JqZWN0Lmhhc2ggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaGFzaCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmhhc2ggPSBvYmplY3QuaGFzaDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcmVmaXggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJlZml4ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJlZml4ID0gb2JqZWN0LnByZWZpeDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJlZml4ID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zdWZmaXggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zdWZmaXggPSBvYmplY3Quc3VmZml4OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zdWZmaXggPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VQcm9vZlNwZWMgPSB7CiAgbWF4RGVwdGg6IDAsCiAgbWluRGVwdGg6IDAKfTsKZXhwb3J0IHZhciBQcm9vZlNwZWMgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLmxlYWZTcGVjICE9PSB1bmRlZmluZWQpIHsKICAgICAgTGVhZk9wLmVuY29kZShtZXNzYWdlLmxlYWZTcGVjLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmlubmVyU3BlYyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIElubmVyU3BlYy5lbmNvZGUobWVzc2FnZS5pbm5lclNwZWMsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubWF4RGVwdGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5tYXhEZXB0aCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubWluRGVwdGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5taW5EZXB0aCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlUHJvb2ZTcGVjKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmxlYWZTcGVjID0gTGVhZk9wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5pbm5lclNwZWMgPSBJbm5lclNwZWMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLm1heERlcHRoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgbWVzc2FnZS5taW5EZXB0aCA9IHJlYWRlci5pbnQzMigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlUHJvb2ZTcGVjKTsKCiAgICBpZiAob2JqZWN0LmxlYWZTcGVjICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmxlYWZTcGVjICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVhZlNwZWMgPSBMZWFmT3AuZnJvbUpTT04ob2JqZWN0LmxlYWZTcGVjKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubGVhZlNwZWMgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5pbm5lclNwZWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaW5uZXJTcGVjICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuaW5uZXJTcGVjID0gSW5uZXJTcGVjLmZyb21KU09OKG9iamVjdC5pbm5lclNwZWMpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5pbm5lclNwZWMgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5tYXhEZXB0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tYXhEZXB0aCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm1heERlcHRoID0gTnVtYmVyKG9iamVjdC5tYXhEZXB0aCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm1heERlcHRoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm1pbkRlcHRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1pbkRlcHRoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWluRGVwdGggPSBOdW1iZXIob2JqZWN0Lm1pbkRlcHRoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubWluRGVwdGggPSAwOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5sZWFmU3BlYyAhPT0gdW5kZWZpbmVkICYmIChvYmoubGVhZlNwZWMgPSBtZXNzYWdlLmxlYWZTcGVjID8gTGVhZk9wLnRvSlNPTihtZXNzYWdlLmxlYWZTcGVjKSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLmlubmVyU3BlYyAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5uZXJTcGVjID0gbWVzc2FnZS5pbm5lclNwZWMgPyBJbm5lclNwZWMudG9KU09OKG1lc3NhZ2UuaW5uZXJTcGVjKSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLm1heERlcHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5tYXhEZXB0aCA9IG1lc3NhZ2UubWF4RGVwdGgpOwogICAgbWVzc2FnZS5taW5EZXB0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoubWluRGVwdGggPSBtZXNzYWdlLm1pbkRlcHRoKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VQcm9vZlNwZWMpOwoKICAgIGlmIChvYmplY3QubGVhZlNwZWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVhZlNwZWMgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZWFmU3BlYyA9IExlYWZPcC5mcm9tUGFydGlhbChvYmplY3QubGVhZlNwZWMpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWFmU3BlYyA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmlubmVyU3BlYyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5pbm5lclNwZWMgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5pbm5lclNwZWMgPSBJbm5lclNwZWMuZnJvbVBhcnRpYWwob2JqZWN0LmlubmVyU3BlYyk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmlubmVyU3BlYyA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm1heERlcHRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1heERlcHRoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWF4RGVwdGggPSBvYmplY3QubWF4RGVwdGg7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm1heERlcHRoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm1pbkRlcHRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1pbkRlcHRoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWluRGVwdGggPSBvYmplY3QubWluRGVwdGg7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm1pbkRlcHRoID0gMDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlSW5uZXJTcGVjID0gewogIGNoaWxkT3JkZXI6IDAsCiAgY2hpbGRTaXplOiAwLAogIG1pblByZWZpeExlbmd0aDogMCwKICBtYXhQcmVmaXhMZW5ndGg6IDAsCiAgaGFzaDogMAp9OwpleHBvcnQgdmFyIElubmVyU3BlYyA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CiAgICB3cml0ZXIudWludDMyKDEwKS5mb3JrKCk7CgogICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZXNzYWdlLmNoaWxkT3JkZXIpLAogICAgICAgIF9zdGVwNDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgIHZhciB2ID0gX3N0ZXA0LnZhbHVlOwogICAgICAgIHdyaXRlci5pbnQzMih2KTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICB9CgogICAgd3JpdGVyLmxkZWxpbSgpOwoKICAgIGlmIChtZXNzYWdlLmNoaWxkU2l6ZSAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmNoaWxkU2l6ZSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubWluUHJlZml4TGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UubWluUHJlZml4TGVuZ3RoKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5tYXhQcmVmaXhMZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5tYXhQcmVmaXhMZW5ndGgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmVtcHR5Q2hpbGQubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDIpLmJ5dGVzKG1lc3NhZ2UuZW1wdHlDaGlsZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuaGFzaCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDQ4KS5pbnQzMihtZXNzYWdlLmhhc2gpOwogICAgfQoKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUlubmVyU3BlYyk7CgogICAgbWVzc2FnZS5jaGlsZE9yZGVyID0gW107CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gMikgewogICAgICAgICAgICB2YXIgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7CgogICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHsKICAgICAgICAgICAgICBtZXNzYWdlLmNoaWxkT3JkZXIucHVzaChyZWFkZXIuaW50MzIoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRPcmRlci5wdXNoKHJlYWRlci5pbnQzMigpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5jaGlsZFNpemUgPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLm1pblByZWZpeExlbmd0aCA9IHJlYWRlci5pbnQzMigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG1lc3NhZ2UubWF4UHJlZml4TGVuZ3RoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA1OgogICAgICAgICAgbWVzc2FnZS5lbXB0eUNoaWxkID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VJbm5lclNwZWMpOwoKICAgIG1lc3NhZ2UuY2hpbGRPcmRlciA9IFtdOwoKICAgIGlmIChvYmplY3QuY2hpbGRPcmRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGlsZE9yZGVyICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LmNoaWxkT3JkZXIpLAogICAgICAgICAgX3N0ZXA1OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGUgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLmNoaWxkT3JkZXIucHVzaChOdW1iZXIoZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNS5mKCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAob2JqZWN0LmNoaWxkU2l6ZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGlsZFNpemUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jaGlsZFNpemUgPSBOdW1iZXIob2JqZWN0LmNoaWxkU2l6ZSk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNoaWxkU2l6ZSA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5taW5QcmVmaXhMZW5ndGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWluUHJlZml4TGVuZ3RoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWluUHJlZml4TGVuZ3RoID0gTnVtYmVyKG9iamVjdC5taW5QcmVmaXhMZW5ndGgpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5taW5QcmVmaXhMZW5ndGggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QubWF4UHJlZml4TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1heFByZWZpeExlbmd0aCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm1heFByZWZpeExlbmd0aCA9IE51bWJlcihvYmplY3QubWF4UHJlZml4TGVuZ3RoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubWF4UHJlZml4TGVuZ3RoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmVtcHR5Q2hpbGQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW1wdHlDaGlsZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmVtcHR5Q2hpbGQgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmVtcHR5Q2hpbGQpOwogICAgfQoKICAgIGlmIChvYmplY3QuaGFzaCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5oYXNoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IGhhc2hPcEZyb21KU09OKG9iamVjdC5oYXNoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IDA7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CgogICAgaWYgKG1lc3NhZ2UuY2hpbGRPcmRlcikgewogICAgICBvYmouY2hpbGRPcmRlciA9IG1lc3NhZ2UuY2hpbGRPcmRlci5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBvYmouY2hpbGRPcmRlciA9IFtdOwogICAgfQoKICAgIG1lc3NhZ2UuY2hpbGRTaXplICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaGlsZFNpemUgPSBtZXNzYWdlLmNoaWxkU2l6ZSk7CiAgICBtZXNzYWdlLm1pblByZWZpeExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoubWluUHJlZml4TGVuZ3RoID0gbWVzc2FnZS5taW5QcmVmaXhMZW5ndGgpOwogICAgbWVzc2FnZS5tYXhQcmVmaXhMZW5ndGggIT09IHVuZGVmaW5lZCAmJiAob2JqLm1heFByZWZpeExlbmd0aCA9IG1lc3NhZ2UubWF4UHJlZml4TGVuZ3RoKTsKICAgIG1lc3NhZ2UuZW1wdHlDaGlsZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZW1wdHlDaGlsZCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmVtcHR5Q2hpbGQgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuZW1wdHlDaGlsZCA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UuaGFzaCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGFzaCA9IGhhc2hPcFRvSlNPTihtZXNzYWdlLmhhc2gpKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VJbm5lclNwZWMpOwoKICAgIG1lc3NhZ2UuY2hpbGRPcmRlciA9IFtdOwoKICAgIGlmIChvYmplY3QuY2hpbGRPcmRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGlsZE9yZGVyICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LmNoaWxkT3JkZXIpLAogICAgICAgICAgX3N0ZXA2OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGUgPSBfc3RlcDYudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLmNoaWxkT3JkZXIucHVzaChlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjYuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICB9CiAgICB9CgogICAgaWYgKG9iamVjdC5jaGlsZFNpemUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY2hpbGRTaXplICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY2hpbGRTaXplID0gb2JqZWN0LmNoaWxkU2l6ZTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY2hpbGRTaXplID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm1pblByZWZpeExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5taW5QcmVmaXhMZW5ndGggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5taW5QcmVmaXhMZW5ndGggPSBvYmplY3QubWluUHJlZml4TGVuZ3RoOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5taW5QcmVmaXhMZW5ndGggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QubWF4UHJlZml4TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1heFByZWZpeExlbmd0aCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm1heFByZWZpeExlbmd0aCA9IG9iamVjdC5tYXhQcmVmaXhMZW5ndGg7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm1heFByZWZpeExlbmd0aCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5lbXB0eUNoaWxkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVtcHR5Q2hpbGQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5lbXB0eUNoaWxkID0gb2JqZWN0LmVtcHR5Q2hpbGQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmVtcHR5Q2hpbGQgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QuaGFzaCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5oYXNoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5oYXNoID0gMDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQmF0Y2hQcm9vZiA9IHt9OwpleHBvcnQgdmFyIEJhdGNoUHJvb2YgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWVzc2FnZS5lbnRyaWVzKSwKICAgICAgICBfc3RlcDc7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgdiA9IF9zdGVwNy52YWx1ZTsKICAgICAgICBCYXRjaEVudHJ5LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yNy5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3I3LmYoKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VCYXRjaFByb29mKTsKCiAgICBtZXNzYWdlLmVudHJpZXMgPSBbXTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmVudHJpZXMucHVzaChCYXRjaEVudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQmF0Y2hQcm9vZik7CgogICAgbWVzc2FnZS5lbnRyaWVzID0gW107CgogICAgaWYgKG9iamVjdC5lbnRyaWVzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVudHJpZXMgIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjggPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QuZW50cmllcyksCiAgICAgICAgICBfc3RlcDg7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yOC5zKCk7ICEoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwOC52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UuZW50cmllcy5wdXNoKEJhdGNoRW50cnkuZnJvbUpTT04oZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yOC5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKCiAgICBpZiAobWVzc2FnZS5lbnRyaWVzKSB7CiAgICAgIG9iai5lbnRyaWVzID0gbWVzc2FnZS5lbnRyaWVzLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlID8gQmF0Y2hFbnRyeS50b0pTT04oZSkgOiB1bmRlZmluZWQ7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgb2JqLmVudHJpZXMgPSBbXTsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQmF0Y2hQcm9vZik7CgogICAgbWVzc2FnZS5lbnRyaWVzID0gW107CgogICAgaWYgKG9iamVjdC5lbnRyaWVzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVudHJpZXMgIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjkgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QuZW50cmllcyksCiAgICAgICAgICBfc3RlcDk7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwOS52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UuZW50cmllcy5wdXNoKEJhdGNoRW50cnkuZnJvbVBhcnRpYWwoZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yOS5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yOS5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQmF0Y2hFbnRyeSA9IHt9OwpleHBvcnQgdmFyIEJhdGNoRW50cnkgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLmV4aXN0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2UuZXhpc3QsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2Uubm9uZXhpc3QgIT09IHVuZGVmaW5lZCkgewogICAgICBOb25FeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5ub25leGlzdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VCYXRjaEVudHJ5KTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmV4aXN0ID0gRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gTm9uRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUJhdGNoRW50cnkpOwoKICAgIGlmIChvYmplY3QuZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IEV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Qubm9uZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qubm9uZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IE5vbkV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5ub25leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5leGlzdCAhPT0gdW5kZWZpbmVkICYmIChvYmouZXhpc3QgPSBtZXNzYWdlLmV4aXN0ID8gRXhpc3RlbmNlUHJvb2YudG9KU09OKG1lc3NhZ2UuZXhpc3QpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2Uubm9uZXhpc3QgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5vbmV4aXN0ID0gbWVzc2FnZS5ub25leGlzdCA/IE5vbkV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLm5vbmV4aXN0KSA6IHVuZGVmaW5lZCk7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQmF0Y2hFbnRyeSk7CgogICAgaWYgKG9iamVjdC5leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmV4aXN0ID0gRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0LmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5ub25leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ub25leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gTm9uRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0Lm5vbmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZUNvbXByZXNzZWRCYXRjaFByb29mID0ge307CmV4cG9ydCB2YXIgQ29tcHJlc3NlZEJhdGNoUHJvb2YgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIHZhciBfaXRlcmF0b3IxMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1lc3NhZ2UuZW50cmllcyksCiAgICAgICAgX3N0ZXAxMDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjEwLnMoKTsgIShfc3RlcDEwID0gX2l0ZXJhdG9yMTAubigpKS5kb25lOykgewogICAgICAgIHZhciB2ID0gX3N0ZXAxMC52YWx1ZTsKICAgICAgICBDb21wcmVzc2VkQmF0Y2hFbnRyeS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjEwLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjEwLmYoKTsKICAgIH0KCiAgICB2YXIgX2l0ZXJhdG9yMTEgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZXNzYWdlLmxvb2t1cElubmVycyksCiAgICAgICAgX3N0ZXAxMTsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjExLnMoKTsgIShfc3RlcDExID0gX2l0ZXJhdG9yMTEubigpKS5kb25lOykgewogICAgICAgIHZhciBfdiA9IF9zdGVwMTEudmFsdWU7CiAgICAgICAgSW5uZXJPcC5lbmNvZGUoX3YsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IxMS5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IxMS5mKCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZEJhdGNoUHJvb2YpOwoKICAgIG1lc3NhZ2UuZW50cmllcyA9IFtdOwogICAgbWVzc2FnZS5sb29rdXBJbm5lcnMgPSBbXTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmVudHJpZXMucHVzaChDb21wcmVzc2VkQmF0Y2hFbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLmxvb2t1cElubmVycy5wdXNoKElubmVyT3AuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkQmF0Y2hQcm9vZik7CgogICAgbWVzc2FnZS5lbnRyaWVzID0gW107CiAgICBtZXNzYWdlLmxvb2t1cElubmVycyA9IFtdOwoKICAgIGlmIChvYmplY3QuZW50cmllcyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5lbnRyaWVzICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5lbnRyaWVzKSwKICAgICAgICAgIF9zdGVwMTI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTIucygpOyAhKF9zdGVwMTIgPSBfaXRlcmF0b3IxMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwMTIudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLmVudHJpZXMucHVzaChDb21wcmVzc2VkQmF0Y2hFbnRyeS5mcm9tSlNPTihlKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTIuZigpOwogICAgICB9CiAgICB9CgogICAgaWYgKG9iamVjdC5sb29rdXBJbm5lcnMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubG9va3VwSW5uZXJzICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5sb29rdXBJbm5lcnMpLAogICAgICAgICAgX3N0ZXAxMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxMy5zKCk7ICEoX3N0ZXAxMyA9IF9pdGVyYXRvcjEzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZSA9IF9zdGVwMTMudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLmxvb2t1cElubmVycy5wdXNoKElubmVyT3AuZnJvbUpTT04oX2UpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjEzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxMy5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKCiAgICBpZiAobWVzc2FnZS5lbnRyaWVzKSB7CiAgICAgIG9iai5lbnRyaWVzID0gbWVzc2FnZS5lbnRyaWVzLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlID8gQ29tcHJlc3NlZEJhdGNoRW50cnkudG9KU09OKGUpIDogdW5kZWZpbmVkOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG9iai5lbnRyaWVzID0gW107CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubG9va3VwSW5uZXJzKSB7CiAgICAgIG9iai5sb29rdXBJbm5lcnMgPSBtZXNzYWdlLmxvb2t1cElubmVycy5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSA/IElubmVyT3AudG9KU09OKGUpIDogdW5kZWZpbmVkOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG9iai5sb29rdXBJbm5lcnMgPSBbXTsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZEJhdGNoUHJvb2YpOwoKICAgIG1lc3NhZ2UuZW50cmllcyA9IFtdOwogICAgbWVzc2FnZS5sb29rdXBJbm5lcnMgPSBbXTsKCiAgICBpZiAob2JqZWN0LmVudHJpZXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW50cmllcyAhPT0gbnVsbCkgewogICAgICB2YXIgX2l0ZXJhdG9yMTQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QuZW50cmllcyksCiAgICAgICAgICBfc3RlcDE0OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjE0LnMoKTsgIShfc3RlcDE0ID0gX2l0ZXJhdG9yMTQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGUgPSBfc3RlcDE0LnZhbHVlOwogICAgICAgICAgbWVzc2FnZS5lbnRyaWVzLnB1c2goQ29tcHJlc3NlZEJhdGNoRW50cnkuZnJvbVBhcnRpYWwoZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjE0LmYoKTsKICAgICAgfQogICAgfQoKICAgIGlmIChvYmplY3QubG9va3VwSW5uZXJzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lmxvb2t1cElubmVycyAhPT0gbnVsbCkgewogICAgICB2YXIgX2l0ZXJhdG9yMTUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QubG9va3VwSW5uZXJzKSwKICAgICAgICAgIF9zdGVwMTU7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTUucygpOyAhKF9zdGVwMTUgPSBfaXRlcmF0b3IxNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2UyID0gX3N0ZXAxNS52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UubG9va3VwSW5uZXJzLnB1c2goSW5uZXJPcC5mcm9tUGFydGlhbChfZTIpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjE1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxNS5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQ29tcHJlc3NlZEJhdGNoRW50cnkgPSB7fTsKZXhwb3J0IHZhciBDb21wcmVzc2VkQmF0Y2hFbnRyeSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UuZXhpc3QgIT09IHVuZGVmaW5lZCkgewogICAgICBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2UuZXhpc3QsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2Uubm9uZXhpc3QgIT09IHVuZGVmaW5lZCkgewogICAgICBDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2Uubm9uZXhpc3QsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZEJhdGNoRW50cnkpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UuZXhpc3QgPSBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkQmF0Y2hFbnRyeSk7CgogICAgaWYgKG9iamVjdC5leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmV4aXN0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Qubm9uZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qubm9uZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IENvbXByZXNzZWROb25FeGlzdGVuY2VQcm9vZi5mcm9tSlNPTihvYmplY3Qubm9uZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UuZXhpc3QgIT09IHVuZGVmaW5lZCAmJiAob2JqLmV4aXN0ID0gbWVzc2FnZS5leGlzdCA/IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi50b0pTT04obWVzc2FnZS5leGlzdCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5ub25leGlzdCAhPT0gdW5kZWZpbmVkICYmIChvYmoubm9uZXhpc3QgPSBtZXNzYWdlLm5vbmV4aXN0ID8gQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLm5vbmV4aXN0KSA6IHVuZGVmaW5lZCk7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZEJhdGNoRW50cnkpOwoKICAgIGlmIChvYmplY3QuZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3QuZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm5vbmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm5vbmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSBDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0Lm5vbmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZUNvbXByZXNzZWRFeGlzdGVuY2VQcm9vZiA9IHsKICBwYXRoOiAwCn07CmV4cG9ydCB2YXIgQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5rZXkubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2Uua2V5KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS52YWx1ZS5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS52YWx1ZSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubGVhZiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIExlYWZPcC5lbmNvZGUobWVzc2FnZS5sZWFmLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKTsKCiAgICB2YXIgX2l0ZXJhdG9yMTYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZXNzYWdlLnBhdGgpLAogICAgICAgIF9zdGVwMTY7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IxNi5zKCk7ICEoX3N0ZXAxNiA9IF9pdGVyYXRvcjE2Lm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgdiA9IF9zdGVwMTYudmFsdWU7CiAgICAgICAgd3JpdGVyLmludDMyKHYpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMTYuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yMTYuZigpOwogICAgfQoKICAgIHdyaXRlci5sZGVsaW0oKTsKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbXByZXNzZWRFeGlzdGVuY2VQcm9vZik7CgogICAgbWVzc2FnZS5wYXRoID0gW107CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5sZWFmID0gTGVhZk9wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gMikgewogICAgICAgICAgICB2YXIgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7CgogICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHsKICAgICAgICAgICAgICBtZXNzYWdlLnBhdGgucHVzaChyZWFkZXIuaW50MzIoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKHJlYWRlci5pbnQzMigpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YpOwoKICAgIG1lc3NhZ2UucGF0aCA9IFtdOwoKICAgIGlmIChvYmplY3Qua2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmtleSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmtleSA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Qua2V5KTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnZhbHVlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbHVlICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnZhbHVlKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LmxlYWYgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVhZiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlYWYgPSBMZWFmT3AuZnJvbUpTT04ob2JqZWN0LmxlYWYpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWFmID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucGF0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXRoICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxNyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5wYXRoKSwKICAgICAgICAgIF9zdGVwMTc7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTcucygpOyAhKF9zdGVwMTcgPSBfaXRlcmF0b3IxNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwMTcudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLnBhdGgucHVzaChOdW1iZXIoZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTcuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjE3LmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5rZXkgOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnZhbHVlIDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5sZWFmICE9PSB1bmRlZmluZWQgJiYgKG9iai5sZWFmID0gbWVzc2FnZS5sZWFmID8gTGVhZk9wLnRvSlNPTihtZXNzYWdlLmxlYWYpIDogdW5kZWZpbmVkKTsKCiAgICBpZiAobWVzc2FnZS5wYXRoKSB7CiAgICAgIG9iai5wYXRoID0gbWVzc2FnZS5wYXRoLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG9iai5wYXRoID0gW107CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbXByZXNzZWRFeGlzdGVuY2VQcm9vZik7CgogICAgbWVzc2FnZS5wYXRoID0gW107CgogICAgaWYgKG9iamVjdC5rZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qua2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gb2JqZWN0LmtleTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnZhbHVlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbHVlICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWU7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnZhbHVlID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LmxlYWYgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVhZiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlYWYgPSBMZWFmT3AuZnJvbVBhcnRpYWwob2JqZWN0LmxlYWYpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWFmID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucGF0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXRoICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5wYXRoKSwKICAgICAgICAgIF9zdGVwMTg7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTgucygpOyAhKF9zdGVwMTggPSBfaXRlcmF0b3IxOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwMTgudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLnBhdGgucHVzaChlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjE4LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxOC5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mID0ge307CmV4cG9ydCB2YXIgQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5rZXkubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2Uua2V5KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5sZWZ0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmVuY29kZShtZXNzYWdlLmxlZnQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucmlnaHQgIT09IHVuZGVmaW5lZCkgewogICAgICBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2UucmlnaHQsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UubGVmdCA9IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UucmlnaHQgPSBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbXByZXNzZWROb25FeGlzdGVuY2VQcm9vZik7CgogICAgaWYgKG9iamVjdC5rZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qua2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5rZXkpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVmdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWZ0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVmdCA9IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5mcm9tSlNPTihvYmplY3QubGVmdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlZnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5yaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5yaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5rZXkgOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICBtZXNzYWdlLmxlZnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxlZnQgPSBtZXNzYWdlLmxlZnQgPyBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YudG9KU09OKG1lc3NhZ2UubGVmdCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5yaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucmlnaHQgPSBtZXNzYWdlLnJpZ2h0ID8gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLnJpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mKTsKCiAgICBpZiAob2JqZWN0LmtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5rZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5rZXkgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVmdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWZ0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVmdCA9IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3QubGVmdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlZnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5yaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5yaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKCnZhciBnbG9iYWxUaGlzID0gZnVuY3Rpb24gKCkgewogIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gInVuZGVmaW5lZCIpIHJldHVybiBnbG9iYWxUaGlzOwogIGlmICh0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIpIHJldHVybiBzZWxmOwogIGlmICh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIikgcmV0dXJuIHdpbmRvdzsKICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIpIHJldHVybiBnbG9iYWw7CiAgdGhyb3cgIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCI7Cn0oKTsKCnZhciBhdG9iID0gZ2xvYmFsVGhpcy5hdG9iIHx8IGZ1bmN0aW9uIChiNjQpIHsKICByZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsICJiYXNlNjQiKS50b1N0cmluZygiYmluYXJ5Iik7Cn07CgpmdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7CiAgdmFyIGJpbiA9IGF0b2IoYjY0KTsKICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7CiAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTsKICB9CgogIHJldHVybiBhcnI7Cn0KCnZhciBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8IGZ1bmN0aW9uIChiaW4pIHsKICByZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sICJiaW5hcnkiKS50b1N0cmluZygiYmFzZTY0Iik7Cn07CgpmdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7CiAgdmFyIGJpbiA9IFtdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5ieXRlTGVuZ3RoOyArK2kpIHsKICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYXJyW2ldKSk7CiAgfQoKICByZXR1cm4gYnRvYShiaW4uam9pbigiIikpOwp9"},{"version":3,"sources":["/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.connection.v1/module/types/confio/proofs.js"],"names":["Writer","Reader","protobufPackage","HashOp","hashOpFromJSON","object","NO_HASH","SHA256","SHA512","KECCAK","RIPEMD160","BITCOIN","UNRECOGNIZED","hashOpToJSON","LengthOp","lengthOpFromJSON","NO_PREFIX","VAR_PROTO","VAR_RLP","FIXED32_BIG","FIXED32_LITTLE","FIXED64_BIG","FIXED64_LITTLE","REQUIRE_32_BYTES","REQUIRE_64_BYTES","lengthOpToJSON","baseExistenceProof","ExistenceProof","encode","message","writer","create","key","length","uint32","bytes","value","leaf","undefined","LeafOp","fork","ldelim","path","v","InnerOp","decode","input","reader","Uint8Array","end","len","pos","tag","push","skipType","fromJSON","bytesFromBase64","e","toJSON","obj","base64FromBytes","map","fromPartial","baseNonExistenceProof","NonExistenceProof","left","right","baseCommitmentProof","CommitmentProof","exist","nonexist","batch","BatchProof","compressed","CompressedBatchProof","baseLeafOp","hash","prehashKey","prehashValue","int32","prefix","baseInnerOp","suffix","baseProofSpec","maxDepth","minDepth","ProofSpec","leafSpec","innerSpec","InnerSpec","Number","baseInnerSpec","childOrder","childSize","minPrefixLength","maxPrefixLength","emptyChild","end2","baseBatchProof","entries","BatchEntry","baseBatchEntry","baseCompressedBatchProof","CompressedBatchEntry","lookupInners","baseCompressedBatchEntry","CompressedExistenceProof","CompressedNonExistenceProof","baseCompressedExistenceProof","baseCompressedNonExistenceProof","globalThis","self","window","global","atob","b64","Buffer","from","toString","bin","arr","i","charCodeAt","btoa","byteLength","String","fromCharCode","join"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,SAASA,MAAT,EAAiBC,MAAjB,QAA+B,oBAA/B;AACA,OAAO,IAAMC,eAAe,GAAG,OAAxB;AACP,OAAO,IAAIC,MAAJ;;AACP,CAAC,UAAUA,MAAV,EAAkB;AACf;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,SAAD,CAAN,GAAoB,CAArB,CAAN,GAAgC,SAAhC;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,QAAD,CAAN,GAAmB,CAApB,CAAN,GAA+B,QAA/B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,QAAD,CAAN,GAAmB,CAApB,CAAN,GAA+B,QAA/B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,QAAD,CAAN,GAAmB,CAApB,CAAN,GAA+B,QAA/B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,WAAD,CAAN,GAAsB,CAAvB,CAAN,GAAkC,WAAlC;AACA;;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,SAAD,CAAN,GAAoB,CAArB,CAAN,GAAgC,SAAhC;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,cAAD,CAAN,GAAyB,CAAC,CAA3B,CAAN,GAAsC,cAAtC;AACH,CAVD,EAUGA,MAAM,KAAKA,MAAM,GAAG,EAAd,CAVT;;AAWA,OAAO,SAASC,cAAT,CAAwBC,MAAxB,EAAgC;AACnC,UAAQA,MAAR;AACI,SAAK,CAAL;AACA,SAAK,SAAL;AACI,aAAOF,MAAM,CAACG,OAAd;;AACJ,SAAK,CAAL;AACA,SAAK,QAAL;AACI,aAAOH,MAAM,CAACI,MAAd;;AACJ,SAAK,CAAL;AACA,SAAK,QAAL;AACI,aAAOJ,MAAM,CAACK,MAAd;;AACJ,SAAK,CAAL;AACA,SAAK,QAAL;AACI,aAAOL,MAAM,CAACM,MAAd;;AACJ,SAAK,CAAL;AACA,SAAK,WAAL;AACI,aAAON,MAAM,CAACO,SAAd;;AACJ,SAAK,CAAL;AACA,SAAK,SAAL;AACI,aAAOP,MAAM,CAACQ,OAAd;;AACJ,SAAK,CAAC,CAAN;AACA,SAAK,cAAL;AACA;AACI,aAAOR,MAAM,CAACS,YAAd;AAtBR;AAwBH;AACD,OAAO,SAASC,YAAT,CAAsBR,MAAtB,EAA8B;AACjC,UAAQA,MAAR;AACI,SAAKF,MAAM,CAACG,OAAZ;AACI,aAAO,SAAP;;AACJ,SAAKH,MAAM,CAACI,MAAZ;AACI,aAAO,QAAP;;AACJ,SAAKJ,MAAM,CAACK,MAAZ;AACI,aAAO,QAAP;;AACJ,SAAKL,MAAM,CAACM,MAAZ;AACI,aAAO,QAAP;;AACJ,SAAKN,MAAM,CAACO,SAAZ;AACI,aAAO,WAAP;;AACJ,SAAKP,MAAM,CAACQ,OAAZ;AACI,aAAO,SAAP;;AACJ;AACI,aAAO,SAAP;AAdR;AAgBH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIG,QAAJ;;AACP,CAAC,UAAUA,QAAV,EAAoB;AACjB;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,WAAD,CAAR,GAAwB,CAAzB,CAAR,GAAsC,WAAtC;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,WAAD,CAAR,GAAwB,CAAzB,CAAR,GAAsC,WAAtC;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,SAAD,CAAR,GAAsB,CAAvB,CAAR,GAAoC,SAApC;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,aAAD,CAAR,GAA0B,CAA3B,CAAR,GAAwC,aAAxC;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,gBAAD,CAAR,GAA6B,CAA9B,CAAR,GAA2C,gBAA3C;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,aAAD,CAAR,GAA0B,CAA3B,CAAR,GAAwC,aAAxC;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,gBAAD,CAAR,GAA6B,CAA9B,CAAR,GAA2C,gBAA3C;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,kBAAD,CAAR,GAA+B,CAAhC,CAAR,GAA6C,kBAA7C;AACA;;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,kBAAD,CAAR,GAA+B,CAAhC,CAAR,GAA6C,kBAA7C;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,cAAD,CAAR,GAA2B,CAAC,CAA7B,CAAR,GAA0C,cAA1C;AACH,CApBD,EAoBGA,QAAQ,KAAKA,QAAQ,GAAG,EAAhB,CApBX;;AAqBA,OAAO,SAASC,gBAAT,CAA0BV,MAA1B,EAAkC;AACrC,UAAQA,MAAR;AACI,SAAK,CAAL;AACA,SAAK,WAAL;AACI,aAAOS,QAAQ,CAACE,SAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,WAAL;AACI,aAAOF,QAAQ,CAACG,SAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,SAAL;AACI,aAAOH,QAAQ,CAACI,OAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,aAAL;AACI,aAAOJ,QAAQ,CAACK,WAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,gBAAL;AACI,aAAOL,QAAQ,CAACM,cAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,aAAL;AACI,aAAON,QAAQ,CAACO,WAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,gBAAL;AACI,aAAOP,QAAQ,CAACQ,cAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,kBAAL;AACI,aAAOR,QAAQ,CAACS,gBAAhB;;AACJ,SAAK,CAAL;AACA,SAAK,kBAAL;AACI,aAAOT,QAAQ,CAACU,gBAAhB;;AACJ,SAAK,CAAC,CAAN;AACA,SAAK,cAAL;AACA;AACI,aAAOV,QAAQ,CAACF,YAAhB;AA/BR;AAiCH;AACD,OAAO,SAASa,cAAT,CAAwBpB,MAAxB,EAAgC;AACnC,UAAQA,MAAR;AACI,SAAKS,QAAQ,CAACE,SAAd;AACI,aAAO,WAAP;;AACJ,SAAKF,QAAQ,CAACG,SAAd;AACI,aAAO,WAAP;;AACJ,SAAKH,QAAQ,CAACI,OAAd;AACI,aAAO,SAAP;;AACJ,SAAKJ,QAAQ,CAACK,WAAd;AACI,aAAO,aAAP;;AACJ,SAAKL,QAAQ,CAACM,cAAd;AACI,aAAO,gBAAP;;AACJ,SAAKN,QAAQ,CAACO,WAAd;AACI,aAAO,aAAP;;AACJ,SAAKP,QAAQ,CAACQ,cAAd;AACI,aAAO,gBAAP;;AACJ,SAAKR,QAAQ,CAACS,gBAAd;AACI,aAAO,kBAAP;;AACJ,SAAKT,QAAQ,CAACU,gBAAd;AACI,aAAO,kBAAP;;AACJ;AACI,aAAO,SAAP;AApBR;AAsBH;AACD,IAAME,kBAAkB,GAAG,EAA3B;AACA,OAAO,IAAMC,cAAc,GAAG;AAC1BC,EAAAA,MAD0B,kBACnBC,OADmB,EACgB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACG,GAAR,CAAYC,MAAZ,KAAuB,CAA3B,EAA8B;AAC1BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACG,GAAhC;AACH;;AACD,QAAIH,OAAO,CAACO,KAAR,CAAcH,MAAd,KAAyB,CAA7B,EAAgC;AAC5BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACO,KAAhC;AACH;;AACD,QAAIP,OAAO,CAACQ,IAAR,KAAiBC,SAArB,EAAgC;AAC5BC,MAAAA,MAAM,CAACX,MAAP,CAAcC,OAAO,CAACQ,IAAtB,EAA4BP,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA5B,EAAsDC,MAAtD;AACH;;AATqC,+CAUtBZ,OAAO,CAACa,IAVc;AAAA;;AAAA;AAUtC,0DAA8B;AAAA,YAAnBC,CAAmB;AAC1BC,QAAAA,OAAO,CAAChB,MAAR,CAAee,CAAf,EAAkBb,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAAlB,EAA4CC,MAA5C;AACH;AAZqC;AAAA;AAAA;AAAA;AAAA;;AAatC,WAAOX,MAAP;AACH,GAfyB;AAgB1Be,EAAAA,MAhB0B,kBAgBnBC,KAhBmB,EAgBZb,MAhBY,EAgBJ;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQH,kBAAR,CAAb;;AACAG,IAAAA,OAAO,CAACa,IAAR,GAAe,EAAf;;AACA,WAAOK,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACG,GAAR,GAAce,MAAM,CAACZ,KAAP,EAAd;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACO,KAAR,GAAgBW,MAAM,CAACZ,KAAP,EAAhB;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACM,MAAP,CAAcE,MAAd,EAAsBA,MAAM,CAACb,MAAP,EAAtB,CAAf;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBT,OAAO,CAACC,MAAR,CAAeE,MAAf,EAAuBA,MAAM,CAACb,MAAP,EAAvB,CAAlB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAfR;AAiBH;;AACD,WAAOvB,OAAP;AACH,GA1CyB;AA2C1B0B,EAAAA,QA3C0B,oBA2CjBlD,MA3CiB,EA2CT;AACb,QAAMwB,OAAO,qBAAQH,kBAAR,CAAb;;AACAG,IAAAA,OAAO,CAACa,IAAR,GAAe,EAAf;;AACA,QAAIrC,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAcwB,eAAe,CAACnD,MAAM,CAAC2B,GAAR,CAA7B;AACH;;AACD,QAAI3B,MAAM,CAAC+B,KAAP,KAAiBE,SAAjB,IAA8BjC,MAAM,CAAC+B,KAAP,KAAiB,IAAnD,EAAyD;AACrDP,MAAAA,OAAO,CAACO,KAAR,GAAgBoB,eAAe,CAACnD,MAAM,CAAC+B,KAAR,CAA/B;AACH;;AACD,QAAI/B,MAAM,CAACgC,IAAP,KAAgBC,SAAhB,IAA6BjC,MAAM,CAACgC,IAAP,KAAgB,IAAjD,EAAuD;AACnDR,MAAAA,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACgB,QAAP,CAAgBlD,MAAM,CAACgC,IAAvB,CAAf;AACH,KAFD,MAGK;AACDR,MAAAA,OAAO,CAACQ,IAAR,GAAeC,SAAf;AACH;;AACD,QAAIjC,MAAM,CAACqC,IAAP,KAAgBJ,SAAhB,IAA6BjC,MAAM,CAACqC,IAAP,KAAgB,IAAjD,EAAuD;AAAA,kDACnCrC,MAAM,CAACqC,IAD4B;AAAA;;AAAA;AACnD,+DAA6B;AAAA,cAAlBe,CAAkB;AACzB5B,UAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBT,OAAO,CAACW,QAAR,CAAiBE,CAAjB,CAAlB;AACH;AAHkD;AAAA;AAAA;AAAA;AAAA;AAItD;;AACD,WAAO5B,OAAP;AACH,GAhEyB;AAiE1B6B,EAAAA,MAjE0B,kBAiEnB7B,OAjEmB,EAiEV;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACG,GAAR,KAAgBM,SAAhB,KACKqB,GAAG,CAAC3B,GAAJ,GAAU4B,eAAe,CAAC/B,OAAO,CAACG,GAAR,KAAgBM,SAAhB,GAA4BT,OAAO,CAACG,GAApC,GAA0C,IAAIgB,UAAJ,EAA3C,CAD9B;AAEAnB,IAAAA,OAAO,CAACO,KAAR,KAAkBE,SAAlB,KACKqB,GAAG,CAACvB,KAAJ,GAAYwB,eAAe,CAAC/B,OAAO,CAACO,KAAR,KAAkBE,SAAlB,GAA8BT,OAAO,CAACO,KAAtC,GAA8C,IAAIY,UAAJ,EAA/C,CADhC;AAEAnB,IAAAA,OAAO,CAACQ,IAAR,KAAiBC,SAAjB,KACKqB,GAAG,CAACtB,IAAJ,GAAWR,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACmB,MAAP,CAAc7B,OAAO,CAACQ,IAAtB,CAAf,GAA6CC,SAD7D;;AAEA,QAAIT,OAAO,CAACa,IAAZ,EAAkB;AACdiB,MAAAA,GAAG,CAACjB,IAAJ,GAAWb,OAAO,CAACa,IAAR,CAAamB,GAAb,CAAiB,UAACJ,CAAD;AAAA,eAAQA,CAAC,GAAGb,OAAO,CAACc,MAAR,CAAeD,CAAf,CAAH,GAAuBnB,SAAhC;AAAA,OAAjB,CAAX;AACH,KAFD,MAGK;AACDqB,MAAAA,GAAG,CAACjB,IAAJ,GAAW,EAAX;AACH;;AACD,WAAOiB,GAAP;AACH,GAhFyB;AAiF1BG,EAAAA,WAjF0B,uBAiFdzD,MAjFc,EAiFN;AAChB,QAAMwB,OAAO,qBAAQH,kBAAR,CAAb;;AACAG,IAAAA,OAAO,CAACa,IAAR,GAAe,EAAf;;AACA,QAAIrC,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAc3B,MAAM,CAAC2B,GAArB;AACH,KAFD,MAGK;AACDH,MAAAA,OAAO,CAACG,GAAR,GAAc,IAAIgB,UAAJ,EAAd;AACH;;AACD,QAAI3C,MAAM,CAAC+B,KAAP,KAAiBE,SAAjB,IAA8BjC,MAAM,CAAC+B,KAAP,KAAiB,IAAnD,EAAyD;AACrDP,MAAAA,OAAO,CAACO,KAAR,GAAgB/B,MAAM,CAAC+B,KAAvB;AACH,KAFD,MAGK;AACDP,MAAAA,OAAO,CAACO,KAAR,GAAgB,IAAIY,UAAJ,EAAhB;AACH;;AACD,QAAI3C,MAAM,CAACgC,IAAP,KAAgBC,SAAhB,IAA6BjC,MAAM,CAACgC,IAAP,KAAgB,IAAjD,EAAuD;AACnDR,MAAAA,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACuB,WAAP,CAAmBzD,MAAM,CAACgC,IAA1B,CAAf;AACH,KAFD,MAGK;AACDR,MAAAA,OAAO,CAACQ,IAAR,GAAeC,SAAf;AACH;;AACD,QAAIjC,MAAM,CAACqC,IAAP,KAAgBJ,SAAhB,IAA6BjC,MAAM,CAACqC,IAAP,KAAgB,IAAjD,EAAuD;AAAA,kDACnCrC,MAAM,CAACqC,IAD4B;AAAA;;AAAA;AACnD,+DAA6B;AAAA,cAAlBe,CAAkB;AACzB5B,UAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBT,OAAO,CAACkB,WAAR,CAAoBL,CAApB,CAAlB;AACH;AAHkD;AAAA;AAAA;AAAA;AAAA;AAItD;;AACD,WAAO5B,OAAP;AACH;AA5GyB,CAAvB;AA8GP,IAAMkC,qBAAqB,GAAG,EAA9B;AACA,OAAO,IAAMC,iBAAiB,GAAG;AAC7BpC,EAAAA,MAD6B,kBACtBC,OADsB,EACa;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACG,GAAR,CAAYC,MAAZ,KAAuB,CAA3B,EAA8B;AAC1BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACG,GAAhC;AACH;;AACD,QAAIH,OAAO,CAACoC,IAAR,KAAiB3B,SAArB,EAAgC;AAC5BX,MAAAA,cAAc,CAACC,MAAf,CAAsBC,OAAO,CAACoC,IAA9B,EAAoCnC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAApC,EAA8DC,MAA9D;AACH;;AACD,QAAIZ,OAAO,CAACqC,KAAR,KAAkB5B,SAAtB,EAAiC;AAC7BX,MAAAA,cAAc,CAACC,MAAf,CAAsBC,OAAO,CAACqC,KAA9B,EAAqCpC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAArC,EAA+DC,MAA/D;AACH;;AACD,WAAOX,MAAP;AACH,GAZ4B;AAa7Be,EAAAA,MAb6B,kBAatBC,KAbsB,EAafb,MAbe,EAaP;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQkC,qBAAR,CAAb;;AACA,WAAOhB,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACG,GAAR,GAAce,MAAM,CAACZ,KAAP,EAAd;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACoC,IAAR,GAAetC,cAAc,CAACkB,MAAf,CAAsBE,MAAtB,EAA8BA,MAAM,CAACb,MAAP,EAA9B,CAAf;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACqC,KAAR,GAAgBvC,cAAc,CAACkB,MAAf,CAAsBE,MAAtB,EAA8BA,MAAM,CAACb,MAAP,EAA9B,CAAhB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAZR;AAcH;;AACD,WAAOvB,OAAP;AACH,GAnC4B;AAoC7B0B,EAAAA,QApC6B,oBAoCpBlD,MApCoB,EAoCZ;AACb,QAAMwB,OAAO,qBAAQkC,qBAAR,CAAb;;AACA,QAAI1D,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAcwB,eAAe,CAACnD,MAAM,CAAC2B,GAAR,CAA7B;AACH;;AACD,QAAI3B,MAAM,CAAC4D,IAAP,KAAgB3B,SAAhB,IAA6BjC,MAAM,CAAC4D,IAAP,KAAgB,IAAjD,EAAuD;AACnDpC,MAAAA,OAAO,CAACoC,IAAR,GAAetC,cAAc,CAAC4B,QAAf,CAAwBlD,MAAM,CAAC4D,IAA/B,CAAf;AACH,KAFD,MAGK;AACDpC,MAAAA,OAAO,CAACoC,IAAR,GAAe3B,SAAf;AACH;;AACD,QAAIjC,MAAM,CAAC6D,KAAP,KAAiB5B,SAAjB,IAA8BjC,MAAM,CAAC6D,KAAP,KAAiB,IAAnD,EAAyD;AACrDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgBvC,cAAc,CAAC4B,QAAf,CAAwBlD,MAAM,CAAC6D,KAA/B,CAAhB;AACH,KAFD,MAGK;AACDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgB5B,SAAhB;AACH;;AACD,WAAOT,OAAP;AACH,GAtD4B;AAuD7B6B,EAAAA,MAvD6B,kBAuDtB7B,OAvDsB,EAuDb;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACG,GAAR,KAAgBM,SAAhB,KACKqB,GAAG,CAAC3B,GAAJ,GAAU4B,eAAe,CAAC/B,OAAO,CAACG,GAAR,KAAgBM,SAAhB,GAA4BT,OAAO,CAACG,GAApC,GAA0C,IAAIgB,UAAJ,EAA3C,CAD9B;AAEAnB,IAAAA,OAAO,CAACoC,IAAR,KAAiB3B,SAAjB,KACKqB,GAAG,CAACM,IAAJ,GAAWpC,OAAO,CAACoC,IAAR,GACNtC,cAAc,CAAC+B,MAAf,CAAsB7B,OAAO,CAACoC,IAA9B,CADM,GAEN3B,SAHV;AAIAT,IAAAA,OAAO,CAACqC,KAAR,KAAkB5B,SAAlB,KACKqB,GAAG,CAACO,KAAJ,GAAYrC,OAAO,CAACqC,KAAR,GACPvC,cAAc,CAAC+B,MAAf,CAAsB7B,OAAO,CAACqC,KAA9B,CADO,GAEP5B,SAHV;AAIA,WAAOqB,GAAP;AACH,GApE4B;AAqE7BG,EAAAA,WArE6B,uBAqEjBzD,MArEiB,EAqET;AAChB,QAAMwB,OAAO,qBAAQkC,qBAAR,CAAb;;AACA,QAAI1D,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAc3B,MAAM,CAAC2B,GAArB;AACH,KAFD,MAGK;AACDH,MAAAA,OAAO,CAACG,GAAR,GAAc,IAAIgB,UAAJ,EAAd;AACH;;AACD,QAAI3C,MAAM,CAAC4D,IAAP,KAAgB3B,SAAhB,IAA6BjC,MAAM,CAAC4D,IAAP,KAAgB,IAAjD,EAAuD;AACnDpC,MAAAA,OAAO,CAACoC,IAAR,GAAetC,cAAc,CAACmC,WAAf,CAA2BzD,MAAM,CAAC4D,IAAlC,CAAf;AACH,KAFD,MAGK;AACDpC,MAAAA,OAAO,CAACoC,IAAR,GAAe3B,SAAf;AACH;;AACD,QAAIjC,MAAM,CAAC6D,KAAP,KAAiB5B,SAAjB,IAA8BjC,MAAM,CAAC6D,KAAP,KAAiB,IAAnD,EAAyD;AACrDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgBvC,cAAc,CAACmC,WAAf,CAA2BzD,MAAM,CAAC6D,KAAlC,CAAhB;AACH,KAFD,MAGK;AACDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgB5B,SAAhB;AACH;;AACD,WAAOT,OAAP;AACH;AA1F4B,CAA1B;AA4FP,IAAMsC,mBAAmB,GAAG,EAA5B;AACA,OAAO,IAAMC,eAAe,GAAG;AAC3BxC,EAAAA,MAD2B,kBACpBC,OADoB,EACe;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACwC,KAAR,KAAkB/B,SAAtB,EAAiC;AAC7BX,MAAAA,cAAc,CAACC,MAAf,CAAsBC,OAAO,CAACwC,KAA9B,EAAqCvC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAArC,EAA+DC,MAA/D;AACH;;AACD,QAAIZ,OAAO,CAACyC,QAAR,KAAqBhC,SAAzB,EAAoC;AAChC0B,MAAAA,iBAAiB,CAACpC,MAAlB,CAAyBC,OAAO,CAACyC,QAAjC,EAA2CxC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA3C,EAAqEC,MAArE;AACH;;AACD,QAAIZ,OAAO,CAAC0C,KAAR,KAAkBjC,SAAtB,EAAiC;AAC7BkC,MAAAA,UAAU,CAAC5C,MAAX,CAAkBC,OAAO,CAAC0C,KAA1B,EAAiCzC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAAjC,EAA2DC,MAA3D;AACH;;AACD,QAAIZ,OAAO,CAAC4C,UAAR,KAAuBnC,SAA3B,EAAsC;AAClCoC,MAAAA,oBAAoB,CAAC9C,MAArB,CAA4BC,OAAO,CAAC4C,UAApC,EAAgD3C,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAAhD,EAA0EC,MAA1E;AACH;;AACD,WAAOX,MAAP;AACH,GAf0B;AAgB3Be,EAAAA,MAhB2B,kBAgBpBC,KAhBoB,EAgBbb,MAhBa,EAgBL;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQsC,mBAAR,CAAb;;AACA,WAAOpB,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACwC,KAAR,GAAgB1C,cAAc,CAACkB,MAAf,CAAsBE,MAAtB,EAA8BA,MAAM,CAACb,MAAP,EAA9B,CAAhB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACyC,QAAR,GAAmBN,iBAAiB,CAACnB,MAAlB,CAAyBE,MAAzB,EAAiCA,MAAM,CAACb,MAAP,EAAjC,CAAnB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAAC0C,KAAR,GAAgBC,UAAU,CAAC3B,MAAX,CAAkBE,MAAlB,EAA0BA,MAAM,CAACb,MAAP,EAA1B,CAAhB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAAC4C,UAAR,GAAqBC,oBAAoB,CAAC7B,MAArB,CAA4BE,MAA5B,EAAoCA,MAAM,CAACb,MAAP,EAApC,CAArB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAfR;AAiBH;;AACD,WAAOvB,OAAP;AACH,GAzC0B;AA0C3B0B,EAAAA,QA1C2B,oBA0ClBlD,MA1CkB,EA0CV;AACb,QAAMwB,OAAO,qBAAQsC,mBAAR,CAAb;;AACA,QAAI9D,MAAM,CAACgE,KAAP,KAAiB/B,SAAjB,IAA8BjC,MAAM,CAACgE,KAAP,KAAiB,IAAnD,EAAyD;AACrDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB1C,cAAc,CAAC4B,QAAf,CAAwBlD,MAAM,CAACgE,KAA/B,CAAhB;AACH,KAFD,MAGK;AACDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB/B,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACiE,QAAP,KAAoBhC,SAApB,IAAiCjC,MAAM,CAACiE,QAAP,KAAoB,IAAzD,EAA+D;AAC3DzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBN,iBAAiB,CAACT,QAAlB,CAA2BlD,MAAM,CAACiE,QAAlC,CAAnB;AACH,KAFD,MAGK;AACDzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBhC,SAAnB;AACH;;AACD,QAAIjC,MAAM,CAACkE,KAAP,KAAiBjC,SAAjB,IAA8BjC,MAAM,CAACkE,KAAP,KAAiB,IAAnD,EAAyD;AACrD1C,MAAAA,OAAO,CAAC0C,KAAR,GAAgBC,UAAU,CAACjB,QAAX,CAAoBlD,MAAM,CAACkE,KAA3B,CAAhB;AACH,KAFD,MAGK;AACD1C,MAAAA,OAAO,CAAC0C,KAAR,GAAgBjC,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACoE,UAAP,KAAsBnC,SAAtB,IAAmCjC,MAAM,CAACoE,UAAP,KAAsB,IAA7D,EAAmE;AAC/D5C,MAAAA,OAAO,CAAC4C,UAAR,GAAqBC,oBAAoB,CAACnB,QAArB,CAA8BlD,MAAM,CAACoE,UAArC,CAArB;AACH,KAFD,MAGK;AACD5C,MAAAA,OAAO,CAAC4C,UAAR,GAAqBnC,SAArB;AACH;;AACD,WAAOT,OAAP;AACH,GArE0B;AAsE3B6B,EAAAA,MAtE2B,kBAsEpB7B,OAtEoB,EAsEX;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACwC,KAAR,KAAkB/B,SAAlB,KACKqB,GAAG,CAACU,KAAJ,GAAYxC,OAAO,CAACwC,KAAR,GACP1C,cAAc,CAAC+B,MAAf,CAAsB7B,OAAO,CAACwC,KAA9B,CADO,GAEP/B,SAHV;AAIAT,IAAAA,OAAO,CAACyC,QAAR,KAAqBhC,SAArB,KACKqB,GAAG,CAACW,QAAJ,GAAezC,OAAO,CAACyC,QAAR,GACVN,iBAAiB,CAACN,MAAlB,CAAyB7B,OAAO,CAACyC,QAAjC,CADU,GAEVhC,SAHV;AAIAT,IAAAA,OAAO,CAAC0C,KAAR,KAAkBjC,SAAlB,KACKqB,GAAG,CAACY,KAAJ,GAAY1C,OAAO,CAAC0C,KAAR,GACPC,UAAU,CAACd,MAAX,CAAkB7B,OAAO,CAAC0C,KAA1B,CADO,GAEPjC,SAHV;AAIAT,IAAAA,OAAO,CAAC4C,UAAR,KAAuBnC,SAAvB,KACKqB,GAAG,CAACc,UAAJ,GAAiB5C,OAAO,CAAC4C,UAAR,GACZC,oBAAoB,CAAChB,MAArB,CAA4B7B,OAAO,CAAC4C,UAApC,CADY,GAEZnC,SAHV;AAIA,WAAOqB,GAAP;AACH,GAzF0B;AA0F3BG,EAAAA,WA1F2B,uBA0FfzD,MA1Fe,EA0FP;AAChB,QAAMwB,OAAO,qBAAQsC,mBAAR,CAAb;;AACA,QAAI9D,MAAM,CAACgE,KAAP,KAAiB/B,SAAjB,IAA8BjC,MAAM,CAACgE,KAAP,KAAiB,IAAnD,EAAyD;AACrDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB1C,cAAc,CAACmC,WAAf,CAA2BzD,MAAM,CAACgE,KAAlC,CAAhB;AACH,KAFD,MAGK;AACDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB/B,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACiE,QAAP,KAAoBhC,SAApB,IAAiCjC,MAAM,CAACiE,QAAP,KAAoB,IAAzD,EAA+D;AAC3DzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBN,iBAAiB,CAACF,WAAlB,CAA8BzD,MAAM,CAACiE,QAArC,CAAnB;AACH,KAFD,MAGK;AACDzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBhC,SAAnB;AACH;;AACD,QAAIjC,MAAM,CAACkE,KAAP,KAAiBjC,SAAjB,IAA8BjC,MAAM,CAACkE,KAAP,KAAiB,IAAnD,EAAyD;AACrD1C,MAAAA,OAAO,CAAC0C,KAAR,GAAgBC,UAAU,CAACV,WAAX,CAAuBzD,MAAM,CAACkE,KAA9B,CAAhB;AACH,KAFD,MAGK;AACD1C,MAAAA,OAAO,CAAC0C,KAAR,GAAgBjC,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACoE,UAAP,KAAsBnC,SAAtB,IAAmCjC,MAAM,CAACoE,UAAP,KAAsB,IAA7D,EAAmE;AAC/D5C,MAAAA,OAAO,CAAC4C,UAAR,GAAqBC,oBAAoB,CAACZ,WAArB,CAAiCzD,MAAM,CAACoE,UAAxC,CAArB;AACH,KAFD,MAGK;AACD5C,MAAAA,OAAO,CAAC4C,UAAR,GAAqBnC,SAArB;AACH;;AACD,WAAOT,OAAP;AACH;AArH0B,CAAxB;AAuHP,IAAM8C,UAAU,GAAG;AACfC,EAAAA,IAAI,EAAE,CADS;AAEfC,EAAAA,UAAU,EAAE,CAFG;AAGfC,EAAAA,YAAY,EAAE,CAHC;AAIf7C,EAAAA,MAAM,EAAE;AAJO,CAAnB;AAMA,OAAO,IAAMM,MAAM,GAAG;AAClBX,EAAAA,MADkB,kBACXC,OADW,EACwB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAAC+C,IAAR,KAAiB,CAArB,EAAwB;AACpB9C,MAAAA,MAAM,CAACI,MAAP,CAAc,CAAd,EAAiB6C,KAAjB,CAAuBlD,OAAO,CAAC+C,IAA/B;AACH;;AACD,QAAI/C,OAAO,CAACgD,UAAR,KAAuB,CAA3B,EAA8B;AAC1B/C,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACgD,UAAhC;AACH;;AACD,QAAIhD,OAAO,CAACiD,YAAR,KAAyB,CAA7B,EAAgC;AAC5BhD,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACiD,YAAhC;AACH;;AACD,QAAIjD,OAAO,CAACI,MAAR,KAAmB,CAAvB,EAA0B;AACtBH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACI,MAAhC;AACH;;AACD,QAAIJ,OAAO,CAACmD,MAAR,CAAe/C,MAAf,KAA0B,CAA9B,EAAiC;AAC7BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACmD,MAAhC;AACH;;AACD,WAAOlD,MAAP;AACH,GAlBiB;AAmBlBe,EAAAA,MAnBkB,kBAmBXC,KAnBW,EAmBJb,MAnBI,EAmBI;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQ8C,UAAR,CAAb;;AACA,WAAO5B,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAAC+C,IAAR,GAAe7B,MAAM,CAACgC,KAAP,EAAf;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACgD,UAAR,GAAqB9B,MAAM,CAACgC,KAAP,EAArB;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACiD,YAAR,GAAuB/B,MAAM,CAACgC,KAAP,EAAvB;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACI,MAAR,GAAiBc,MAAM,CAACgC,KAAP,EAAjB;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACmD,MAAR,GAAiBjC,MAAM,CAACZ,KAAP,EAAjB;AACA;;AACJ;AACIY,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAlBR;AAoBH;;AACD,WAAOvB,OAAP;AACH,GA/CiB;AAgDlB0B,EAAAA,QAhDkB,oBAgDTlD,MAhDS,EAgDD;AACb,QAAMwB,OAAO,qBAAQ8C,UAAR,CAAb;;AACA,QAAItE,MAAM,CAACuE,IAAP,KAAgBtC,SAAhB,IAA6BjC,MAAM,CAACuE,IAAP,KAAgB,IAAjD,EAAuD;AACnD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAexE,cAAc,CAACC,MAAM,CAACuE,IAAR,CAA7B;AACH,KAFD,MAGK;AACD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAe,CAAf;AACH;;AACD,QAAIvE,MAAM,CAACwE,UAAP,KAAsBvC,SAAtB,IAAmCjC,MAAM,CAACwE,UAAP,KAAsB,IAA7D,EAAmE;AAC/DhD,MAAAA,OAAO,CAACgD,UAAR,GAAqBzE,cAAc,CAACC,MAAM,CAACwE,UAAR,CAAnC;AACH,KAFD,MAGK;AACDhD,MAAAA,OAAO,CAACgD,UAAR,GAAqB,CAArB;AACH;;AACD,QAAIxE,MAAM,CAACyE,YAAP,KAAwBxC,SAAxB,IAAqCjC,MAAM,CAACyE,YAAP,KAAwB,IAAjE,EAAuE;AACnEjD,MAAAA,OAAO,CAACiD,YAAR,GAAuB1E,cAAc,CAACC,MAAM,CAACyE,YAAR,CAArC;AACH,KAFD,MAGK;AACDjD,MAAAA,OAAO,CAACiD,YAAR,GAAuB,CAAvB;AACH;;AACD,QAAIzE,MAAM,CAAC4B,MAAP,KAAkBK,SAAlB,IAA+BjC,MAAM,CAAC4B,MAAP,KAAkB,IAArD,EAA2D;AACvDJ,MAAAA,OAAO,CAACI,MAAR,GAAiBlB,gBAAgB,CAACV,MAAM,CAAC4B,MAAR,CAAjC;AACH,KAFD,MAGK;AACDJ,MAAAA,OAAO,CAACI,MAAR,GAAiB,CAAjB;AACH;;AACD,QAAI5B,MAAM,CAAC2E,MAAP,KAAkB1C,SAAlB,IAA+BjC,MAAM,CAAC2E,MAAP,KAAkB,IAArD,EAA2D;AACvDnD,MAAAA,OAAO,CAACmD,MAAR,GAAiBxB,eAAe,CAACnD,MAAM,CAAC2E,MAAR,CAAhC;AACH;;AACD,WAAOnD,OAAP;AACH,GA9EiB;AA+ElB6B,EAAAA,MA/EkB,kBA+EX7B,OA/EW,EA+EF;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAAC+C,IAAR,KAAiBtC,SAAjB,KAA+BqB,GAAG,CAACiB,IAAJ,GAAW/D,YAAY,CAACgB,OAAO,CAAC+C,IAAT,CAAtD;AACA/C,IAAAA,OAAO,CAACgD,UAAR,KAAuBvC,SAAvB,KACKqB,GAAG,CAACkB,UAAJ,GAAiBhE,YAAY,CAACgB,OAAO,CAACgD,UAAT,CADlC;AAEAhD,IAAAA,OAAO,CAACiD,YAAR,KAAyBxC,SAAzB,KACKqB,GAAG,CAACmB,YAAJ,GAAmBjE,YAAY,CAACgB,OAAO,CAACiD,YAAT,CADpC;AAEAjD,IAAAA,OAAO,CAACI,MAAR,KAAmBK,SAAnB,KACKqB,GAAG,CAAC1B,MAAJ,GAAaR,cAAc,CAACI,OAAO,CAACI,MAAT,CADhC;AAEAJ,IAAAA,OAAO,CAACmD,MAAR,KAAmB1C,SAAnB,KACKqB,GAAG,CAACqB,MAAJ,GAAapB,eAAe,CAAC/B,OAAO,CAACmD,MAAR,KAAmB1C,SAAnB,GAA+BT,OAAO,CAACmD,MAAvC,GAAgD,IAAIhC,UAAJ,EAAjD,CADjC;AAEA,WAAOW,GAAP;AACH,GA3FiB;AA4FlBG,EAAAA,WA5FkB,uBA4FNzD,MA5FM,EA4FE;AAChB,QAAMwB,OAAO,qBAAQ8C,UAAR,CAAb;;AACA,QAAItE,MAAM,CAACuE,IAAP,KAAgBtC,SAAhB,IAA6BjC,MAAM,CAACuE,IAAP,KAAgB,IAAjD,EAAuD;AACnD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAevE,MAAM,CAACuE,IAAtB;AACH,KAFD,MAGK;AACD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAe,CAAf;AACH;;AACD,QAAIvE,MAAM,CAACwE,UAAP,KAAsBvC,SAAtB,IAAmCjC,MAAM,CAACwE,UAAP,KAAsB,IAA7D,EAAmE;AAC/DhD,MAAAA,OAAO,CAACgD,UAAR,GAAqBxE,MAAM,CAACwE,UAA5B;AACH,KAFD,MAGK;AACDhD,MAAAA,OAAO,CAACgD,UAAR,GAAqB,CAArB;AACH;;AACD,QAAIxE,MAAM,CAACyE,YAAP,KAAwBxC,SAAxB,IAAqCjC,MAAM,CAACyE,YAAP,KAAwB,IAAjE,EAAuE;AACnEjD,MAAAA,OAAO,CAACiD,YAAR,GAAuBzE,MAAM,CAACyE,YAA9B;AACH,KAFD,MAGK;AACDjD,MAAAA,OAAO,CAACiD,YAAR,GAAuB,CAAvB;AACH;;AACD,QAAIzE,MAAM,CAAC4B,MAAP,KAAkBK,SAAlB,IAA+BjC,MAAM,CAAC4B,MAAP,KAAkB,IAArD,EAA2D;AACvDJ,MAAAA,OAAO,CAACI,MAAR,GAAiB5B,MAAM,CAAC4B,MAAxB;AACH,KAFD,MAGK;AACDJ,MAAAA,OAAO,CAACI,MAAR,GAAiB,CAAjB;AACH;;AACD,QAAI5B,MAAM,CAAC2E,MAAP,KAAkB1C,SAAlB,IAA+BjC,MAAM,CAAC2E,MAAP,KAAkB,IAArD,EAA2D;AACvDnD,MAAAA,OAAO,CAACmD,MAAR,GAAiB3E,MAAM,CAAC2E,MAAxB;AACH,KAFD,MAGK;AACDnD,MAAAA,OAAO,CAACmD,MAAR,GAAiB,IAAIhC,UAAJ,EAAjB;AACH;;AACD,WAAOnB,OAAP;AACH;AA7HiB,CAAf;AA+HP,IAAMoD,WAAW,GAAG;AAAEL,EAAAA,IAAI,EAAE;AAAR,CAApB;AACA,OAAO,IAAMhC,OAAO,GAAG;AACnBhB,EAAAA,MADmB,kBACZC,OADY,EACuB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAAC+C,IAAR,KAAiB,CAArB,EAAwB;AACpB9C,MAAAA,MAAM,CAACI,MAAP,CAAc,CAAd,EAAiB6C,KAAjB,CAAuBlD,OAAO,CAAC+C,IAA/B;AACH;;AACD,QAAI/C,OAAO,CAACmD,MAAR,CAAe/C,MAAf,KAA0B,CAA9B,EAAiC;AAC7BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACmD,MAAhC;AACH;;AACD,QAAInD,OAAO,CAACqD,MAAR,CAAejD,MAAf,KAA0B,CAA9B,EAAiC;AAC7BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACqD,MAAhC;AACH;;AACD,WAAOpD,MAAP;AACH,GAZkB;AAanBe,EAAAA,MAbmB,kBAaZC,KAbY,EAaLb,MAbK,EAaG;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQoD,WAAR,CAAb;;AACA,WAAOlC,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAAC+C,IAAR,GAAe7B,MAAM,CAACgC,KAAP,EAAf;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACmD,MAAR,GAAiBjC,MAAM,CAACZ,KAAP,EAAjB;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACqD,MAAR,GAAiBnC,MAAM,CAACZ,KAAP,EAAjB;AACA;;AACJ;AACIY,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAZR;AAcH;;AACD,WAAOvB,OAAP;AACH,GAnCkB;AAoCnB0B,EAAAA,QApCmB,oBAoCVlD,MApCU,EAoCF;AACb,QAAMwB,OAAO,qBAAQoD,WAAR,CAAb;;AACA,QAAI5E,MAAM,CAACuE,IAAP,KAAgBtC,SAAhB,IAA6BjC,MAAM,CAACuE,IAAP,KAAgB,IAAjD,EAAuD;AACnD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAexE,cAAc,CAACC,MAAM,CAACuE,IAAR,CAA7B;AACH,KAFD,MAGK;AACD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAe,CAAf;AACH;;AACD,QAAIvE,MAAM,CAAC2E,MAAP,KAAkB1C,SAAlB,IAA+BjC,MAAM,CAAC2E,MAAP,KAAkB,IAArD,EAA2D;AACvDnD,MAAAA,OAAO,CAACmD,MAAR,GAAiBxB,eAAe,CAACnD,MAAM,CAAC2E,MAAR,CAAhC;AACH;;AACD,QAAI3E,MAAM,CAAC6E,MAAP,KAAkB5C,SAAlB,IAA+BjC,MAAM,CAAC6E,MAAP,KAAkB,IAArD,EAA2D;AACvDrD,MAAAA,OAAO,CAACqD,MAAR,GAAiB1B,eAAe,CAACnD,MAAM,CAAC6E,MAAR,CAAhC;AACH;;AACD,WAAOrD,OAAP;AACH,GAnDkB;AAoDnB6B,EAAAA,MApDmB,kBAoDZ7B,OApDY,EAoDH;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAAC+C,IAAR,KAAiBtC,SAAjB,KAA+BqB,GAAG,CAACiB,IAAJ,GAAW/D,YAAY,CAACgB,OAAO,CAAC+C,IAAT,CAAtD;AACA/C,IAAAA,OAAO,CAACmD,MAAR,KAAmB1C,SAAnB,KACKqB,GAAG,CAACqB,MAAJ,GAAapB,eAAe,CAAC/B,OAAO,CAACmD,MAAR,KAAmB1C,SAAnB,GAA+BT,OAAO,CAACmD,MAAvC,GAAgD,IAAIhC,UAAJ,EAAjD,CADjC;AAEAnB,IAAAA,OAAO,CAACqD,MAAR,KAAmB5C,SAAnB,KACKqB,GAAG,CAACuB,MAAJ,GAAatB,eAAe,CAAC/B,OAAO,CAACqD,MAAR,KAAmB5C,SAAnB,GAA+BT,OAAO,CAACqD,MAAvC,GAAgD,IAAIlC,UAAJ,EAAjD,CADjC;AAEA,WAAOW,GAAP;AACH,GA5DkB;AA6DnBG,EAAAA,WA7DmB,uBA6DPzD,MA7DO,EA6DC;AAChB,QAAMwB,OAAO,qBAAQoD,WAAR,CAAb;;AACA,QAAI5E,MAAM,CAACuE,IAAP,KAAgBtC,SAAhB,IAA6BjC,MAAM,CAACuE,IAAP,KAAgB,IAAjD,EAAuD;AACnD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAevE,MAAM,CAACuE,IAAtB;AACH,KAFD,MAGK;AACD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAe,CAAf;AACH;;AACD,QAAIvE,MAAM,CAAC2E,MAAP,KAAkB1C,SAAlB,IAA+BjC,MAAM,CAAC2E,MAAP,KAAkB,IAArD,EAA2D;AACvDnD,MAAAA,OAAO,CAACmD,MAAR,GAAiB3E,MAAM,CAAC2E,MAAxB;AACH,KAFD,MAGK;AACDnD,MAAAA,OAAO,CAACmD,MAAR,GAAiB,IAAIhC,UAAJ,EAAjB;AACH;;AACD,QAAI3C,MAAM,CAAC6E,MAAP,KAAkB5C,SAAlB,IAA+BjC,MAAM,CAAC6E,MAAP,KAAkB,IAArD,EAA2D;AACvDrD,MAAAA,OAAO,CAACqD,MAAR,GAAiB7E,MAAM,CAAC6E,MAAxB;AACH,KAFD,MAGK;AACDrD,MAAAA,OAAO,CAACqD,MAAR,GAAiB,IAAIlC,UAAJ,EAAjB;AACH;;AACD,WAAOnB,OAAP;AACH;AAlFkB,CAAhB;AAoFP,IAAMsD,aAAa,GAAG;AAAEC,EAAAA,QAAQ,EAAE,CAAZ;AAAeC,EAAAA,QAAQ,EAAE;AAAzB,CAAtB;AACA,OAAO,IAAMC,SAAS,GAAG;AACrB1D,EAAAA,MADqB,kBACdC,OADc,EACqB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAAC0D,QAAR,KAAqBjD,SAAzB,EAAoC;AAChCC,MAAAA,MAAM,CAACX,MAAP,CAAcC,OAAO,CAAC0D,QAAtB,EAAgCzD,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAAhC,EAA0DC,MAA1D;AACH;;AACD,QAAIZ,OAAO,CAAC2D,SAAR,KAAsBlD,SAA1B,EAAqC;AACjCmD,MAAAA,SAAS,CAAC7D,MAAV,CAAiBC,OAAO,CAAC2D,SAAzB,EAAoC1D,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAApC,EAA8DC,MAA9D;AACH;;AACD,QAAIZ,OAAO,CAACuD,QAAR,KAAqB,CAAzB,EAA4B;AACxBtD,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACuD,QAAhC;AACH;;AACD,QAAIvD,OAAO,CAACwD,QAAR,KAAqB,CAAzB,EAA4B;AACxBvD,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACwD,QAAhC;AACH;;AACD,WAAOvD,MAAP;AACH,GAfoB;AAgBrBe,EAAAA,MAhBqB,kBAgBdC,KAhBc,EAgBPb,MAhBO,EAgBC;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQsD,aAAR,CAAb;;AACA,WAAOpC,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAAC0D,QAAR,GAAmBhD,MAAM,CAACM,MAAP,CAAcE,MAAd,EAAsBA,MAAM,CAACb,MAAP,EAAtB,CAAnB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAAC2D,SAAR,GAAoBC,SAAS,CAAC5C,MAAV,CAAiBE,MAAjB,EAAyBA,MAAM,CAACb,MAAP,EAAzB,CAApB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACuD,QAAR,GAAmBrC,MAAM,CAACgC,KAAP,EAAnB;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACwD,QAAR,GAAmBtC,MAAM,CAACgC,KAAP,EAAnB;AACA;;AACJ;AACIhC,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAfR;AAiBH;;AACD,WAAOvB,OAAP;AACH,GAzCoB;AA0CrB0B,EAAAA,QA1CqB,oBA0CZlD,MA1CY,EA0CJ;AACb,QAAMwB,OAAO,qBAAQsD,aAAR,CAAb;;AACA,QAAI9E,MAAM,CAACkF,QAAP,KAAoBjD,SAApB,IAAiCjC,MAAM,CAACkF,QAAP,KAAoB,IAAzD,EAA+D;AAC3D1D,MAAAA,OAAO,CAAC0D,QAAR,GAAmBhD,MAAM,CAACgB,QAAP,CAAgBlD,MAAM,CAACkF,QAAvB,CAAnB;AACH,KAFD,MAGK;AACD1D,MAAAA,OAAO,CAAC0D,QAAR,GAAmBjD,SAAnB;AACH;;AACD,QAAIjC,MAAM,CAACmF,SAAP,KAAqBlD,SAArB,IAAkCjC,MAAM,CAACmF,SAAP,KAAqB,IAA3D,EAAiE;AAC7D3D,MAAAA,OAAO,CAAC2D,SAAR,GAAoBC,SAAS,CAAClC,QAAV,CAAmBlD,MAAM,CAACmF,SAA1B,CAApB;AACH,KAFD,MAGK;AACD3D,MAAAA,OAAO,CAAC2D,SAAR,GAAoBlD,SAApB;AACH;;AACD,QAAIjC,MAAM,CAAC+E,QAAP,KAAoB9C,SAApB,IAAiCjC,MAAM,CAAC+E,QAAP,KAAoB,IAAzD,EAA+D;AAC3DvD,MAAAA,OAAO,CAACuD,QAAR,GAAmBM,MAAM,CAACrF,MAAM,CAAC+E,QAAR,CAAzB;AACH,KAFD,MAGK;AACDvD,MAAAA,OAAO,CAACuD,QAAR,GAAmB,CAAnB;AACH;;AACD,QAAI/E,MAAM,CAACgF,QAAP,KAAoB/C,SAApB,IAAiCjC,MAAM,CAACgF,QAAP,KAAoB,IAAzD,EAA+D;AAC3DxD,MAAAA,OAAO,CAACwD,QAAR,GAAmBK,MAAM,CAACrF,MAAM,CAACgF,QAAR,CAAzB;AACH,KAFD,MAGK;AACDxD,MAAAA,OAAO,CAACwD,QAAR,GAAmB,CAAnB;AACH;;AACD,WAAOxD,OAAP;AACH,GArEoB;AAsErB6B,EAAAA,MAtEqB,kBAsEd7B,OAtEc,EAsEL;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAAC0D,QAAR,KAAqBjD,SAArB,KACKqB,GAAG,CAAC4B,QAAJ,GAAe1D,OAAO,CAAC0D,QAAR,GACVhD,MAAM,CAACmB,MAAP,CAAc7B,OAAO,CAAC0D,QAAtB,CADU,GAEVjD,SAHV;AAIAT,IAAAA,OAAO,CAAC2D,SAAR,KAAsBlD,SAAtB,KACKqB,GAAG,CAAC6B,SAAJ,GAAgB3D,OAAO,CAAC2D,SAAR,GACXC,SAAS,CAAC/B,MAAV,CAAiB7B,OAAO,CAAC2D,SAAzB,CADW,GAEXlD,SAHV;AAIAT,IAAAA,OAAO,CAACuD,QAAR,KAAqB9C,SAArB,KAAmCqB,GAAG,CAACyB,QAAJ,GAAevD,OAAO,CAACuD,QAA1D;AACAvD,IAAAA,OAAO,CAACwD,QAAR,KAAqB/C,SAArB,KAAmCqB,GAAG,CAAC0B,QAAJ,GAAexD,OAAO,CAACwD,QAA1D;AACA,WAAO1B,GAAP;AACH,GAnFoB;AAoFrBG,EAAAA,WApFqB,uBAoFTzD,MApFS,EAoFD;AAChB,QAAMwB,OAAO,qBAAQsD,aAAR,CAAb;;AACA,QAAI9E,MAAM,CAACkF,QAAP,KAAoBjD,SAApB,IAAiCjC,MAAM,CAACkF,QAAP,KAAoB,IAAzD,EAA+D;AAC3D1D,MAAAA,OAAO,CAAC0D,QAAR,GAAmBhD,MAAM,CAACuB,WAAP,CAAmBzD,MAAM,CAACkF,QAA1B,CAAnB;AACH,KAFD,MAGK;AACD1D,MAAAA,OAAO,CAAC0D,QAAR,GAAmBjD,SAAnB;AACH;;AACD,QAAIjC,MAAM,CAACmF,SAAP,KAAqBlD,SAArB,IAAkCjC,MAAM,CAACmF,SAAP,KAAqB,IAA3D,EAAiE;AAC7D3D,MAAAA,OAAO,CAAC2D,SAAR,GAAoBC,SAAS,CAAC3B,WAAV,CAAsBzD,MAAM,CAACmF,SAA7B,CAApB;AACH,KAFD,MAGK;AACD3D,MAAAA,OAAO,CAAC2D,SAAR,GAAoBlD,SAApB;AACH;;AACD,QAAIjC,MAAM,CAAC+E,QAAP,KAAoB9C,SAApB,IAAiCjC,MAAM,CAAC+E,QAAP,KAAoB,IAAzD,EAA+D;AAC3DvD,MAAAA,OAAO,CAACuD,QAAR,GAAmB/E,MAAM,CAAC+E,QAA1B;AACH,KAFD,MAGK;AACDvD,MAAAA,OAAO,CAACuD,QAAR,GAAmB,CAAnB;AACH;;AACD,QAAI/E,MAAM,CAACgF,QAAP,KAAoB/C,SAApB,IAAiCjC,MAAM,CAACgF,QAAP,KAAoB,IAAzD,EAA+D;AAC3DxD,MAAAA,OAAO,CAACwD,QAAR,GAAmBhF,MAAM,CAACgF,QAA1B;AACH,KAFD,MAGK;AACDxD,MAAAA,OAAO,CAACwD,QAAR,GAAmB,CAAnB;AACH;;AACD,WAAOxD,OAAP;AACH;AA/GoB,CAAlB;AAiHP,IAAM8D,aAAa,GAAG;AAClBC,EAAAA,UAAU,EAAE,CADM;AAElBC,EAAAA,SAAS,EAAE,CAFO;AAGlBC,EAAAA,eAAe,EAAE,CAHC;AAIlBC,EAAAA,eAAe,EAAE,CAJC;AAKlBnB,EAAAA,IAAI,EAAE;AALY,CAAtB;AAOA,OAAO,IAAMa,SAAS,GAAG;AACrB7D,EAAAA,MADqB,kBACdC,OADc,EACqB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;AACtCD,IAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB;;AADsC,gDAEtBX,OAAO,CAAC+D,UAFc;AAAA;;AAAA;AAEtC,6DAAoC;AAAA,YAAzBjD,CAAyB;AAChCb,QAAAA,MAAM,CAACiD,KAAP,CAAapC,CAAb;AACH;AAJqC;AAAA;AAAA;AAAA;AAAA;;AAKtCb,IAAAA,MAAM,CAACW,MAAP;;AACA,QAAIZ,OAAO,CAACgE,SAAR,KAAsB,CAA1B,EAA6B;AACzB/D,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACgE,SAAhC;AACH;;AACD,QAAIhE,OAAO,CAACiE,eAAR,KAA4B,CAAhC,EAAmC;AAC/BhE,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACiE,eAAhC;AACH;;AACD,QAAIjE,OAAO,CAACkE,eAAR,KAA4B,CAAhC,EAAmC;AAC/BjE,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAACkE,eAAhC;AACH;;AACD,QAAIlE,OAAO,CAACmE,UAAR,CAAmB/D,MAAnB,KAA8B,CAAlC,EAAqC;AACjCH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACmE,UAAhC;AACH;;AACD,QAAInE,OAAO,CAAC+C,IAAR,KAAiB,CAArB,EAAwB;AACpB9C,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkB6C,KAAlB,CAAwBlD,OAAO,CAAC+C,IAAhC;AACH;;AACD,WAAO9C,MAAP;AACH,GAvBoB;AAwBrBe,EAAAA,MAxBqB,kBAwBdC,KAxBc,EAwBPb,MAxBO,EAwBC;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQ8D,aAAR,CAAb;;AACA9D,IAAAA,OAAO,CAAC+D,UAAR,GAAqB,EAArB;;AACA,WAAO7C,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACI,cAAI,CAACA,GAAG,GAAG,CAAP,MAAc,CAAlB,EAAqB;AACjB,gBAAM6C,IAAI,GAAGlD,MAAM,CAACb,MAAP,KAAkBa,MAAM,CAACI,GAAtC;;AACA,mBAAOJ,MAAM,CAACI,GAAP,GAAa8C,IAApB,EAA0B;AACtBpE,cAAAA,OAAO,CAAC+D,UAAR,CAAmBvC,IAAnB,CAAwBN,MAAM,CAACgC,KAAP,EAAxB;AACH;AACJ,WALD,MAMK;AACDlD,YAAAA,OAAO,CAAC+D,UAAR,CAAmBvC,IAAnB,CAAwBN,MAAM,CAACgC,KAAP,EAAxB;AACH;;AACD;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACgE,SAAR,GAAoB9C,MAAM,CAACgC,KAAP,EAApB;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACiE,eAAR,GAA0B/C,MAAM,CAACgC,KAAP,EAA1B;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACkE,eAAR,GAA0BhD,MAAM,CAACgC,KAAP,EAA1B;AACA;;AACJ,aAAK,CAAL;AACIlD,UAAAA,OAAO,CAACmE,UAAR,GAAqBjD,MAAM,CAACZ,KAAP,EAArB;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAAC+C,IAAR,GAAe7B,MAAM,CAACgC,KAAP,EAAf;AACA;;AACJ;AACIhC,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AA7BR;AA+BH;;AACD,WAAOvB,OAAP;AACH,GAhEoB;AAiErB0B,EAAAA,QAjEqB,oBAiEZlD,MAjEY,EAiEJ;AACb,QAAMwB,OAAO,qBAAQ8D,aAAR,CAAb;;AACA9D,IAAAA,OAAO,CAAC+D,UAAR,GAAqB,EAArB;;AACA,QAAIvF,MAAM,CAACuF,UAAP,KAAsBtD,SAAtB,IAAmCjC,MAAM,CAACuF,UAAP,KAAsB,IAA7D,EAAmE;AAAA,kDAC/CvF,MAAM,CAACuF,UADwC;AAAA;;AAAA;AAC/D,+DAAmC;AAAA,cAAxBnC,CAAwB;AAC/B5B,UAAAA,OAAO,CAAC+D,UAAR,CAAmBvC,IAAnB,CAAwBqC,MAAM,CAACjC,CAAD,CAA9B;AACH;AAH8D;AAAA;AAAA;AAAA;AAAA;AAIlE;;AACD,QAAIpD,MAAM,CAACwF,SAAP,KAAqBvD,SAArB,IAAkCjC,MAAM,CAACwF,SAAP,KAAqB,IAA3D,EAAiE;AAC7DhE,MAAAA,OAAO,CAACgE,SAAR,GAAoBH,MAAM,CAACrF,MAAM,CAACwF,SAAR,CAA1B;AACH,KAFD,MAGK;AACDhE,MAAAA,OAAO,CAACgE,SAAR,GAAoB,CAApB;AACH;;AACD,QAAIxF,MAAM,CAACyF,eAAP,KAA2BxD,SAA3B,IACAjC,MAAM,CAACyF,eAAP,KAA2B,IAD/B,EACqC;AACjCjE,MAAAA,OAAO,CAACiE,eAAR,GAA0BJ,MAAM,CAACrF,MAAM,CAACyF,eAAR,CAAhC;AACH,KAHD,MAIK;AACDjE,MAAAA,OAAO,CAACiE,eAAR,GAA0B,CAA1B;AACH;;AACD,QAAIzF,MAAM,CAAC0F,eAAP,KAA2BzD,SAA3B,IACAjC,MAAM,CAAC0F,eAAP,KAA2B,IAD/B,EACqC;AACjClE,MAAAA,OAAO,CAACkE,eAAR,GAA0BL,MAAM,CAACrF,MAAM,CAAC0F,eAAR,CAAhC;AACH,KAHD,MAIK;AACDlE,MAAAA,OAAO,CAACkE,eAAR,GAA0B,CAA1B;AACH;;AACD,QAAI1F,MAAM,CAAC2F,UAAP,KAAsB1D,SAAtB,IAAmCjC,MAAM,CAAC2F,UAAP,KAAsB,IAA7D,EAAmE;AAC/DnE,MAAAA,OAAO,CAACmE,UAAR,GAAqBxC,eAAe,CAACnD,MAAM,CAAC2F,UAAR,CAApC;AACH;;AACD,QAAI3F,MAAM,CAACuE,IAAP,KAAgBtC,SAAhB,IAA6BjC,MAAM,CAACuE,IAAP,KAAgB,IAAjD,EAAuD;AACnD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAexE,cAAc,CAACC,MAAM,CAACuE,IAAR,CAA7B;AACH,KAFD,MAGK;AACD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAe,CAAf;AACH;;AACD,WAAO/C,OAAP;AACH,GAvGoB;AAwGrB6B,EAAAA,MAxGqB,kBAwGd7B,OAxGc,EAwGL;AACZ,QAAM8B,GAAG,GAAG,EAAZ;;AACA,QAAI9B,OAAO,CAAC+D,UAAZ,EAAwB;AACpBjC,MAAAA,GAAG,CAACiC,UAAJ,GAAiB/D,OAAO,CAAC+D,UAAR,CAAmB/B,GAAnB,CAAuB,UAACJ,CAAD;AAAA,eAAOA,CAAP;AAAA,OAAvB,CAAjB;AACH,KAFD,MAGK;AACDE,MAAAA,GAAG,CAACiC,UAAJ,GAAiB,EAAjB;AACH;;AACD/D,IAAAA,OAAO,CAACgE,SAAR,KAAsBvD,SAAtB,KAAoCqB,GAAG,CAACkC,SAAJ,GAAgBhE,OAAO,CAACgE,SAA5D;AACAhE,IAAAA,OAAO,CAACiE,eAAR,KAA4BxD,SAA5B,KACKqB,GAAG,CAACmC,eAAJ,GAAsBjE,OAAO,CAACiE,eADnC;AAEAjE,IAAAA,OAAO,CAACkE,eAAR,KAA4BzD,SAA5B,KACKqB,GAAG,CAACoC,eAAJ,GAAsBlE,OAAO,CAACkE,eADnC;AAEAlE,IAAAA,OAAO,CAACmE,UAAR,KAAuB1D,SAAvB,KACKqB,GAAG,CAACqC,UAAJ,GAAiBpC,eAAe,CAAC/B,OAAO,CAACmE,UAAR,KAAuB1D,SAAvB,GAAmCT,OAAO,CAACmE,UAA3C,GAAwD,IAAIhD,UAAJ,EAAzD,CADrC;AAEAnB,IAAAA,OAAO,CAAC+C,IAAR,KAAiBtC,SAAjB,KAA+BqB,GAAG,CAACiB,IAAJ,GAAW/D,YAAY,CAACgB,OAAO,CAAC+C,IAAT,CAAtD;AACA,WAAOjB,GAAP;AACH,GAzHoB;AA0HrBG,EAAAA,WA1HqB,uBA0HTzD,MA1HS,EA0HD;AAChB,QAAMwB,OAAO,qBAAQ8D,aAAR,CAAb;;AACA9D,IAAAA,OAAO,CAAC+D,UAAR,GAAqB,EAArB;;AACA,QAAIvF,MAAM,CAACuF,UAAP,KAAsBtD,SAAtB,IAAmCjC,MAAM,CAACuF,UAAP,KAAsB,IAA7D,EAAmE;AAAA,kDAC/CvF,MAAM,CAACuF,UADwC;AAAA;;AAAA;AAC/D,+DAAmC;AAAA,cAAxBnC,CAAwB;AAC/B5B,UAAAA,OAAO,CAAC+D,UAAR,CAAmBvC,IAAnB,CAAwBI,CAAxB;AACH;AAH8D;AAAA;AAAA;AAAA;AAAA;AAIlE;;AACD,QAAIpD,MAAM,CAACwF,SAAP,KAAqBvD,SAArB,IAAkCjC,MAAM,CAACwF,SAAP,KAAqB,IAA3D,EAAiE;AAC7DhE,MAAAA,OAAO,CAACgE,SAAR,GAAoBxF,MAAM,CAACwF,SAA3B;AACH,KAFD,MAGK;AACDhE,MAAAA,OAAO,CAACgE,SAAR,GAAoB,CAApB;AACH;;AACD,QAAIxF,MAAM,CAACyF,eAAP,KAA2BxD,SAA3B,IACAjC,MAAM,CAACyF,eAAP,KAA2B,IAD/B,EACqC;AACjCjE,MAAAA,OAAO,CAACiE,eAAR,GAA0BzF,MAAM,CAACyF,eAAjC;AACH,KAHD,MAIK;AACDjE,MAAAA,OAAO,CAACiE,eAAR,GAA0B,CAA1B;AACH;;AACD,QAAIzF,MAAM,CAAC0F,eAAP,KAA2BzD,SAA3B,IACAjC,MAAM,CAAC0F,eAAP,KAA2B,IAD/B,EACqC;AACjClE,MAAAA,OAAO,CAACkE,eAAR,GAA0B1F,MAAM,CAAC0F,eAAjC;AACH,KAHD,MAIK;AACDlE,MAAAA,OAAO,CAACkE,eAAR,GAA0B,CAA1B;AACH;;AACD,QAAI1F,MAAM,CAAC2F,UAAP,KAAsB1D,SAAtB,IAAmCjC,MAAM,CAAC2F,UAAP,KAAsB,IAA7D,EAAmE;AAC/DnE,MAAAA,OAAO,CAACmE,UAAR,GAAqB3F,MAAM,CAAC2F,UAA5B;AACH,KAFD,MAGK;AACDnE,MAAAA,OAAO,CAACmE,UAAR,GAAqB,IAAIhD,UAAJ,EAArB;AACH;;AACD,QAAI3C,MAAM,CAACuE,IAAP,KAAgBtC,SAAhB,IAA6BjC,MAAM,CAACuE,IAAP,KAAgB,IAAjD,EAAuD;AACnD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAevE,MAAM,CAACuE,IAAtB;AACH,KAFD,MAGK;AACD/C,MAAAA,OAAO,CAAC+C,IAAR,GAAe,CAAf;AACH;;AACD,WAAO/C,OAAP;AACH;AAnKoB,CAAlB;AAqKP,IAAMqE,cAAc,GAAG,EAAvB;AACA,OAAO,IAAM1B,UAAU,GAAG;AACtB5C,EAAAA,MADsB,kBACfC,OADe,EACoB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AAAA,gDACtBF,OAAO,CAACsE,OADc;AAAA;;AAAA;AACtC,6DAAiC;AAAA,YAAtBxD,CAAsB;AAC7ByD,QAAAA,UAAU,CAACxE,MAAX,CAAkBe,CAAlB,EAAqBb,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAArB,EAA+CC,MAA/C;AACH;AAHqC;AAAA;AAAA;AAAA;AAAA;;AAItC,WAAOX,MAAP;AACH,GANqB;AAOtBe,EAAAA,MAPsB,kBAOfC,KAPe,EAORb,MAPQ,EAOA;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQqE,cAAR,CAAb;;AACArE,IAAAA,OAAO,CAACsE,OAAR,GAAkB,EAAlB;;AACA,WAAOpD,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACsE,OAAR,CAAgB9C,IAAhB,CAAqB+C,UAAU,CAACvD,MAAX,CAAkBE,MAAlB,EAA0BA,MAAM,CAACb,MAAP,EAA1B,CAArB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AANR;AAQH;;AACD,WAAOvB,OAAP;AACH,GAxBqB;AAyBtB0B,EAAAA,QAzBsB,oBAyBblD,MAzBa,EAyBL;AACb,QAAMwB,OAAO,qBAAQqE,cAAR,CAAb;;AACArE,IAAAA,OAAO,CAACsE,OAAR,GAAkB,EAAlB;;AACA,QAAI9F,MAAM,CAAC8F,OAAP,KAAmB7D,SAAnB,IAAgCjC,MAAM,CAAC8F,OAAP,KAAmB,IAAvD,EAA6D;AAAA,kDACzC9F,MAAM,CAAC8F,OADkC;AAAA;;AAAA;AACzD,+DAAgC;AAAA,cAArB1C,CAAqB;AAC5B5B,UAAAA,OAAO,CAACsE,OAAR,CAAgB9C,IAAhB,CAAqB+C,UAAU,CAAC7C,QAAX,CAAoBE,CAApB,CAArB;AACH;AAHwD;AAAA;AAAA;AAAA;AAAA;AAI5D;;AACD,WAAO5B,OAAP;AACH,GAlCqB;AAmCtB6B,EAAAA,MAnCsB,kBAmCf7B,OAnCe,EAmCN;AACZ,QAAM8B,GAAG,GAAG,EAAZ;;AACA,QAAI9B,OAAO,CAACsE,OAAZ,EAAqB;AACjBxC,MAAAA,GAAG,CAACwC,OAAJ,GAActE,OAAO,CAACsE,OAAR,CAAgBtC,GAAhB,CAAoB,UAACJ,CAAD;AAAA,eAAOA,CAAC,GAAG2C,UAAU,CAAC1C,MAAX,CAAkBD,CAAlB,CAAH,GAA0BnB,SAAlC;AAAA,OAApB,CAAd;AACH,KAFD,MAGK;AACDqB,MAAAA,GAAG,CAACwC,OAAJ,GAAc,EAAd;AACH;;AACD,WAAOxC,GAAP;AACH,GA5CqB;AA6CtBG,EAAAA,WA7CsB,uBA6CVzD,MA7CU,EA6CF;AAChB,QAAMwB,OAAO,qBAAQqE,cAAR,CAAb;;AACArE,IAAAA,OAAO,CAACsE,OAAR,GAAkB,EAAlB;;AACA,QAAI9F,MAAM,CAAC8F,OAAP,KAAmB7D,SAAnB,IAAgCjC,MAAM,CAAC8F,OAAP,KAAmB,IAAvD,EAA6D;AAAA,kDACzC9F,MAAM,CAAC8F,OADkC;AAAA;;AAAA;AACzD,+DAAgC;AAAA,cAArB1C,CAAqB;AAC5B5B,UAAAA,OAAO,CAACsE,OAAR,CAAgB9C,IAAhB,CAAqB+C,UAAU,CAACtC,WAAX,CAAuBL,CAAvB,CAArB;AACH;AAHwD;AAAA;AAAA;AAAA;AAAA;AAI5D;;AACD,WAAO5B,OAAP;AACH;AAtDqB,CAAnB;AAwDP,IAAMwE,cAAc,GAAG,EAAvB;AACA,OAAO,IAAMD,UAAU,GAAG;AACtBxE,EAAAA,MADsB,kBACfC,OADe,EACoB;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACwC,KAAR,KAAkB/B,SAAtB,EAAiC;AAC7BX,MAAAA,cAAc,CAACC,MAAf,CAAsBC,OAAO,CAACwC,KAA9B,EAAqCvC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAArC,EAA+DC,MAA/D;AACH;;AACD,QAAIZ,OAAO,CAACyC,QAAR,KAAqBhC,SAAzB,EAAoC;AAChC0B,MAAAA,iBAAiB,CAACpC,MAAlB,CAAyBC,OAAO,CAACyC,QAAjC,EAA2CxC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA3C,EAAqEC,MAArE;AACH;;AACD,WAAOX,MAAP;AACH,GATqB;AAUtBe,EAAAA,MAVsB,kBAUfC,KAVe,EAURb,MAVQ,EAUA;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQwE,cAAR,CAAb;;AACA,WAAOtD,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACwC,KAAR,GAAgB1C,cAAc,CAACkB,MAAf,CAAsBE,MAAtB,EAA8BA,MAAM,CAACb,MAAP,EAA9B,CAAhB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACyC,QAAR,GAAmBN,iBAAiB,CAACnB,MAAlB,CAAyBE,MAAzB,EAAiCA,MAAM,CAACb,MAAP,EAAjC,CAAnB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AATR;AAWH;;AACD,WAAOvB,OAAP;AACH,GA7BqB;AA8BtB0B,EAAAA,QA9BsB,oBA8BblD,MA9Ba,EA8BL;AACb,QAAMwB,OAAO,qBAAQwE,cAAR,CAAb;;AACA,QAAIhG,MAAM,CAACgE,KAAP,KAAiB/B,SAAjB,IAA8BjC,MAAM,CAACgE,KAAP,KAAiB,IAAnD,EAAyD;AACrDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB1C,cAAc,CAAC4B,QAAf,CAAwBlD,MAAM,CAACgE,KAA/B,CAAhB;AACH,KAFD,MAGK;AACDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB/B,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACiE,QAAP,KAAoBhC,SAApB,IAAiCjC,MAAM,CAACiE,QAAP,KAAoB,IAAzD,EAA+D;AAC3DzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBN,iBAAiB,CAACT,QAAlB,CAA2BlD,MAAM,CAACiE,QAAlC,CAAnB;AACH,KAFD,MAGK;AACDzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBhC,SAAnB;AACH;;AACD,WAAOT,OAAP;AACH,GA7CqB;AA8CtB6B,EAAAA,MA9CsB,kBA8Cf7B,OA9Ce,EA8CN;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACwC,KAAR,KAAkB/B,SAAlB,KACKqB,GAAG,CAACU,KAAJ,GAAYxC,OAAO,CAACwC,KAAR,GACP1C,cAAc,CAAC+B,MAAf,CAAsB7B,OAAO,CAACwC,KAA9B,CADO,GAEP/B,SAHV;AAIAT,IAAAA,OAAO,CAACyC,QAAR,KAAqBhC,SAArB,KACKqB,GAAG,CAACW,QAAJ,GAAezC,OAAO,CAACyC,QAAR,GACVN,iBAAiB,CAACN,MAAlB,CAAyB7B,OAAO,CAACyC,QAAjC,CADU,GAEVhC,SAHV;AAIA,WAAOqB,GAAP;AACH,GAzDqB;AA0DtBG,EAAAA,WA1DsB,uBA0DVzD,MA1DU,EA0DF;AAChB,QAAMwB,OAAO,qBAAQwE,cAAR,CAAb;;AACA,QAAIhG,MAAM,CAACgE,KAAP,KAAiB/B,SAAjB,IAA8BjC,MAAM,CAACgE,KAAP,KAAiB,IAAnD,EAAyD;AACrDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB1C,cAAc,CAACmC,WAAf,CAA2BzD,MAAM,CAACgE,KAAlC,CAAhB;AACH,KAFD,MAGK;AACDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB/B,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACiE,QAAP,KAAoBhC,SAApB,IAAiCjC,MAAM,CAACiE,QAAP,KAAoB,IAAzD,EAA+D;AAC3DzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBN,iBAAiB,CAACF,WAAlB,CAA8BzD,MAAM,CAACiE,QAArC,CAAnB;AACH,KAFD,MAGK;AACDzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBhC,SAAnB;AACH;;AACD,WAAOT,OAAP;AACH;AAzEqB,CAAnB;AA2EP,IAAMyE,wBAAwB,GAAG,EAAjC;AACA,OAAO,IAAM5B,oBAAoB,GAAG;AAChC9C,EAAAA,MADgC,kBACzBC,OADyB,EACU;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AAAA,iDACtBF,OAAO,CAACsE,OADc;AAAA;;AAAA;AACtC,gEAAiC;AAAA,YAAtBxD,CAAsB;AAC7B4D,QAAAA,oBAAoB,CAAC3E,MAArB,CAA4Be,CAA5B,EAA+Bb,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA/B,EAAyDC,MAAzD;AACH;AAHqC;AAAA;AAAA;AAAA;AAAA;;AAAA,iDAItBZ,OAAO,CAAC2E,YAJc;AAAA;;AAAA;AAItC,gEAAsC;AAAA,YAA3B7D,EAA2B;AAClCC,QAAAA,OAAO,CAAChB,MAAR,CAAee,EAAf,EAAkBb,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAAlB,EAA4CC,MAA5C;AACH;AANqC;AAAA;AAAA;AAAA;AAAA;;AAOtC,WAAOX,MAAP;AACH,GAT+B;AAUhCe,EAAAA,MAVgC,kBAUzBC,KAVyB,EAUlBb,MAVkB,EAUV;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQyE,wBAAR,CAAb;;AACAzE,IAAAA,OAAO,CAACsE,OAAR,GAAkB,EAAlB;AACAtE,IAAAA,OAAO,CAAC2E,YAAR,GAAuB,EAAvB;;AACA,WAAOzD,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACsE,OAAR,CAAgB9C,IAAhB,CAAqBkD,oBAAoB,CAAC1D,MAArB,CAA4BE,MAA5B,EAAoCA,MAAM,CAACb,MAAP,EAApC,CAArB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAAC2E,YAAR,CAAqBnD,IAArB,CAA0BT,OAAO,CAACC,MAAR,CAAeE,MAAf,EAAuBA,MAAM,CAACb,MAAP,EAAvB,CAA1B;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AATR;AAWH;;AACD,WAAOvB,OAAP;AACH,GA/B+B;AAgChC0B,EAAAA,QAhCgC,oBAgCvBlD,MAhCuB,EAgCf;AACb,QAAMwB,OAAO,qBAAQyE,wBAAR,CAAb;;AACAzE,IAAAA,OAAO,CAACsE,OAAR,GAAkB,EAAlB;AACAtE,IAAAA,OAAO,CAAC2E,YAAR,GAAuB,EAAvB;;AACA,QAAInG,MAAM,CAAC8F,OAAP,KAAmB7D,SAAnB,IAAgCjC,MAAM,CAAC8F,OAAP,KAAmB,IAAvD,EAA6D;AAAA,mDACzC9F,MAAM,CAAC8F,OADkC;AAAA;;AAAA;AACzD,kEAAgC;AAAA,cAArB1C,CAAqB;AAC5B5B,UAAAA,OAAO,CAACsE,OAAR,CAAgB9C,IAAhB,CAAqBkD,oBAAoB,CAAChD,QAArB,CAA8BE,CAA9B,CAArB;AACH;AAHwD;AAAA;AAAA;AAAA;AAAA;AAI5D;;AACD,QAAIpD,MAAM,CAACmG,YAAP,KAAwBlE,SAAxB,IAAqCjC,MAAM,CAACmG,YAAP,KAAwB,IAAjE,EAAuE;AAAA,mDACnDnG,MAAM,CAACmG,YAD4C;AAAA;;AAAA;AACnE,kEAAqC;AAAA,cAA1B/C,EAA0B;AACjC5B,UAAAA,OAAO,CAAC2E,YAAR,CAAqBnD,IAArB,CAA0BT,OAAO,CAACW,QAAR,CAAiBE,EAAjB,CAA1B;AACH;AAHkE;AAAA;AAAA;AAAA;AAAA;AAItE;;AACD,WAAO5B,OAAP;AACH,GA/C+B;AAgDhC6B,EAAAA,MAhDgC,kBAgDzB7B,OAhDyB,EAgDhB;AACZ,QAAM8B,GAAG,GAAG,EAAZ;;AACA,QAAI9B,OAAO,CAACsE,OAAZ,EAAqB;AACjBxC,MAAAA,GAAG,CAACwC,OAAJ,GAActE,OAAO,CAACsE,OAAR,CAAgBtC,GAAhB,CAAoB,UAACJ,CAAD;AAAA,eAAOA,CAAC,GAAG8C,oBAAoB,CAAC7C,MAArB,CAA4BD,CAA5B,CAAH,GAAoCnB,SAA5C;AAAA,OAApB,CAAd;AACH,KAFD,MAGK;AACDqB,MAAAA,GAAG,CAACwC,OAAJ,GAAc,EAAd;AACH;;AACD,QAAItE,OAAO,CAAC2E,YAAZ,EAA0B;AACtB7C,MAAAA,GAAG,CAAC6C,YAAJ,GAAmB3E,OAAO,CAAC2E,YAAR,CAAqB3C,GAArB,CAAyB,UAACJ,CAAD;AAAA,eAAOA,CAAC,GAAGb,OAAO,CAACc,MAAR,CAAeD,CAAf,CAAH,GAAuBnB,SAA/B;AAAA,OAAzB,CAAnB;AACH,KAFD,MAGK;AACDqB,MAAAA,GAAG,CAAC6C,YAAJ,GAAmB,EAAnB;AACH;;AACD,WAAO7C,GAAP;AACH,GA/D+B;AAgEhCG,EAAAA,WAhEgC,uBAgEpBzD,MAhEoB,EAgEZ;AAChB,QAAMwB,OAAO,qBAAQyE,wBAAR,CAAb;;AACAzE,IAAAA,OAAO,CAACsE,OAAR,GAAkB,EAAlB;AACAtE,IAAAA,OAAO,CAAC2E,YAAR,GAAuB,EAAvB;;AACA,QAAInG,MAAM,CAAC8F,OAAP,KAAmB7D,SAAnB,IAAgCjC,MAAM,CAAC8F,OAAP,KAAmB,IAAvD,EAA6D;AAAA,mDACzC9F,MAAM,CAAC8F,OADkC;AAAA;;AAAA;AACzD,kEAAgC;AAAA,cAArB1C,CAAqB;AAC5B5B,UAAAA,OAAO,CAACsE,OAAR,CAAgB9C,IAAhB,CAAqBkD,oBAAoB,CAACzC,WAArB,CAAiCL,CAAjC,CAArB;AACH;AAHwD;AAAA;AAAA;AAAA;AAAA;AAI5D;;AACD,QAAIpD,MAAM,CAACmG,YAAP,KAAwBlE,SAAxB,IAAqCjC,MAAM,CAACmG,YAAP,KAAwB,IAAjE,EAAuE;AAAA,mDACnDnG,MAAM,CAACmG,YAD4C;AAAA;;AAAA;AACnE,kEAAqC;AAAA,cAA1B/C,GAA0B;AACjC5B,UAAAA,OAAO,CAAC2E,YAAR,CAAqBnD,IAArB,CAA0BT,OAAO,CAACkB,WAAR,CAAoBL,GAApB,CAA1B;AACH;AAHkE;AAAA;AAAA;AAAA;AAAA;AAItE;;AACD,WAAO5B,OAAP;AACH;AA/E+B,CAA7B;AAiFP,IAAM4E,wBAAwB,GAAG,EAAjC;AACA,OAAO,IAAMF,oBAAoB,GAAG;AAChC3E,EAAAA,MADgC,kBACzBC,OADyB,EACU;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACwC,KAAR,KAAkB/B,SAAtB,EAAiC;AAC7BoE,MAAAA,wBAAwB,CAAC9E,MAAzB,CAAgCC,OAAO,CAACwC,KAAxC,EAA+CvC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA/C,EAAyEC,MAAzE;AACH;;AACD,QAAIZ,OAAO,CAACyC,QAAR,KAAqBhC,SAAzB,EAAoC;AAChCqE,MAAAA,2BAA2B,CAAC/E,MAA5B,CAAmCC,OAAO,CAACyC,QAA3C,EAAqDxC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAArD,EAA+EC,MAA/E;AACH;;AACD,WAAOX,MAAP;AACH,GAT+B;AAUhCe,EAAAA,MAVgC,kBAUzBC,KAVyB,EAUlBb,MAVkB,EAUV;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBAAQ4E,wBAAR,CAAb;;AACA,WAAO1D,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACwC,KAAR,GAAgBqC,wBAAwB,CAAC7D,MAAzB,CAAgCE,MAAhC,EAAwCA,MAAM,CAACb,MAAP,EAAxC,CAAhB;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACyC,QAAR,GAAmBqC,2BAA2B,CAAC9D,MAA5B,CAAmCE,MAAnC,EAA2CA,MAAM,CAACb,MAAP,EAA3C,CAAnB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AATR;AAWH;;AACD,WAAOvB,OAAP;AACH,GA7B+B;AA8BhC0B,EAAAA,QA9BgC,oBA8BvBlD,MA9BuB,EA8Bf;AACb,QAAMwB,OAAO,qBAAQ4E,wBAAR,CAAb;;AACA,QAAIpG,MAAM,CAACgE,KAAP,KAAiB/B,SAAjB,IAA8BjC,MAAM,CAACgE,KAAP,KAAiB,IAAnD,EAAyD;AACrDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgBqC,wBAAwB,CAACnD,QAAzB,CAAkClD,MAAM,CAACgE,KAAzC,CAAhB;AACH,KAFD,MAGK;AACDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB/B,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACiE,QAAP,KAAoBhC,SAApB,IAAiCjC,MAAM,CAACiE,QAAP,KAAoB,IAAzD,EAA+D;AAC3DzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBqC,2BAA2B,CAACpD,QAA5B,CAAqClD,MAAM,CAACiE,QAA5C,CAAnB;AACH,KAFD,MAGK;AACDzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBhC,SAAnB;AACH;;AACD,WAAOT,OAAP;AACH,GA7C+B;AA8ChC6B,EAAAA,MA9CgC,kBA8CzB7B,OA9CyB,EA8ChB;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACwC,KAAR,KAAkB/B,SAAlB,KACKqB,GAAG,CAACU,KAAJ,GAAYxC,OAAO,CAACwC,KAAR,GACPqC,wBAAwB,CAAChD,MAAzB,CAAgC7B,OAAO,CAACwC,KAAxC,CADO,GAEP/B,SAHV;AAIAT,IAAAA,OAAO,CAACyC,QAAR,KAAqBhC,SAArB,KACKqB,GAAG,CAACW,QAAJ,GAAezC,OAAO,CAACyC,QAAR,GACVqC,2BAA2B,CAACjD,MAA5B,CAAmC7B,OAAO,CAACyC,QAA3C,CADU,GAEVhC,SAHV;AAIA,WAAOqB,GAAP;AACH,GAzD+B;AA0DhCG,EAAAA,WA1DgC,uBA0DpBzD,MA1DoB,EA0DZ;AAChB,QAAMwB,OAAO,qBAAQ4E,wBAAR,CAAb;;AACA,QAAIpG,MAAM,CAACgE,KAAP,KAAiB/B,SAAjB,IAA8BjC,MAAM,CAACgE,KAAP,KAAiB,IAAnD,EAAyD;AACrDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgBqC,wBAAwB,CAAC5C,WAAzB,CAAqCzD,MAAM,CAACgE,KAA5C,CAAhB;AACH,KAFD,MAGK;AACDxC,MAAAA,OAAO,CAACwC,KAAR,GAAgB/B,SAAhB;AACH;;AACD,QAAIjC,MAAM,CAACiE,QAAP,KAAoBhC,SAApB,IAAiCjC,MAAM,CAACiE,QAAP,KAAoB,IAAzD,EAA+D;AAC3DzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBqC,2BAA2B,CAAC7C,WAA5B,CAAwCzD,MAAM,CAACiE,QAA/C,CAAnB;AACH,KAFD,MAGK;AACDzC,MAAAA,OAAO,CAACyC,QAAR,GAAmBhC,SAAnB;AACH;;AACD,WAAOT,OAAP;AACH;AAzE+B,CAA7B;AA2EP,IAAM+E,4BAA4B,GAAG;AAAElE,EAAAA,IAAI,EAAE;AAAR,CAArC;AACA,OAAO,IAAMgE,wBAAwB,GAAG;AACpC9E,EAAAA,MADoC,kBAC7BC,OAD6B,EACM;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACG,GAAR,CAAYC,MAAZ,KAAuB,CAA3B,EAA8B;AAC1BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACG,GAAhC;AACH;;AACD,QAAIH,OAAO,CAACO,KAAR,CAAcH,MAAd,KAAyB,CAA7B,EAAgC;AAC5BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACO,KAAhC;AACH;;AACD,QAAIP,OAAO,CAACQ,IAAR,KAAiBC,SAArB,EAAgC;AAC5BC,MAAAA,MAAM,CAACX,MAAP,CAAcC,OAAO,CAACQ,IAAtB,EAA4BP,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA5B,EAAsDC,MAAtD;AACH;;AACDX,IAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB;;AAVsC,iDAWtBX,OAAO,CAACa,IAXc;AAAA;;AAAA;AAWtC,gEAA8B;AAAA,YAAnBC,CAAmB;AAC1Bb,QAAAA,MAAM,CAACiD,KAAP,CAAapC,CAAb;AACH;AAbqC;AAAA;AAAA;AAAA;AAAA;;AActCb,IAAAA,MAAM,CAACW,MAAP;AACA,WAAOX,MAAP;AACH,GAjBmC;AAkBpCe,EAAAA,MAlBoC,kBAkB7BC,KAlB6B,EAkBtBb,MAlBsB,EAkBd;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBACN+E,4BADM,CAAb;;AAGA/E,IAAAA,OAAO,CAACa,IAAR,GAAe,EAAf;;AACA,WAAOK,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACG,GAAR,GAAce,MAAM,CAACZ,KAAP,EAAd;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACO,KAAR,GAAgBW,MAAM,CAACZ,KAAP,EAAhB;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACM,MAAP,CAAcE,MAAd,EAAsBA,MAAM,CAACb,MAAP,EAAtB,CAAf;AACA;;AACJ,aAAK,CAAL;AACI,cAAI,CAACkB,GAAG,GAAG,CAAP,MAAc,CAAlB,EAAqB;AACjB,gBAAM6C,IAAI,GAAGlD,MAAM,CAACb,MAAP,KAAkBa,MAAM,CAACI,GAAtC;;AACA,mBAAOJ,MAAM,CAACI,GAAP,GAAa8C,IAApB,EAA0B;AACtBpE,cAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBN,MAAM,CAACgC,KAAP,EAAlB;AACH;AACJ,WALD,MAMK;AACDlD,YAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBN,MAAM,CAACgC,KAAP,EAAlB;AACH;;AACD;;AACJ;AACIhC,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAvBR;AAyBH;;AACD,WAAOvB,OAAP;AACH,GAtDmC;AAuDpC0B,EAAAA,QAvDoC,oBAuD3BlD,MAvD2B,EAuDnB;AACb,QAAMwB,OAAO,qBACN+E,4BADM,CAAb;;AAGA/E,IAAAA,OAAO,CAACa,IAAR,GAAe,EAAf;;AACA,QAAIrC,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAcwB,eAAe,CAACnD,MAAM,CAAC2B,GAAR,CAA7B;AACH;;AACD,QAAI3B,MAAM,CAAC+B,KAAP,KAAiBE,SAAjB,IAA8BjC,MAAM,CAAC+B,KAAP,KAAiB,IAAnD,EAAyD;AACrDP,MAAAA,OAAO,CAACO,KAAR,GAAgBoB,eAAe,CAACnD,MAAM,CAAC+B,KAAR,CAA/B;AACH;;AACD,QAAI/B,MAAM,CAACgC,IAAP,KAAgBC,SAAhB,IAA6BjC,MAAM,CAACgC,IAAP,KAAgB,IAAjD,EAAuD;AACnDR,MAAAA,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACgB,QAAP,CAAgBlD,MAAM,CAACgC,IAAvB,CAAf;AACH,KAFD,MAGK;AACDR,MAAAA,OAAO,CAACQ,IAAR,GAAeC,SAAf;AACH;;AACD,QAAIjC,MAAM,CAACqC,IAAP,KAAgBJ,SAAhB,IAA6BjC,MAAM,CAACqC,IAAP,KAAgB,IAAjD,EAAuD;AAAA,mDACnCrC,MAAM,CAACqC,IAD4B;AAAA;;AAAA;AACnD,kEAA6B;AAAA,cAAlBe,CAAkB;AACzB5B,UAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBqC,MAAM,CAACjC,CAAD,CAAxB;AACH;AAHkD;AAAA;AAAA;AAAA;AAAA;AAItD;;AACD,WAAO5B,OAAP;AACH,GA9EmC;AA+EpC6B,EAAAA,MA/EoC,kBA+E7B7B,OA/E6B,EA+EpB;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACG,GAAR,KAAgBM,SAAhB,KACKqB,GAAG,CAAC3B,GAAJ,GAAU4B,eAAe,CAAC/B,OAAO,CAACG,GAAR,KAAgBM,SAAhB,GAA4BT,OAAO,CAACG,GAApC,GAA0C,IAAIgB,UAAJ,EAA3C,CAD9B;AAEAnB,IAAAA,OAAO,CAACO,KAAR,KAAkBE,SAAlB,KACKqB,GAAG,CAACvB,KAAJ,GAAYwB,eAAe,CAAC/B,OAAO,CAACO,KAAR,KAAkBE,SAAlB,GAA8BT,OAAO,CAACO,KAAtC,GAA8C,IAAIY,UAAJ,EAA/C,CADhC;AAEAnB,IAAAA,OAAO,CAACQ,IAAR,KAAiBC,SAAjB,KACKqB,GAAG,CAACtB,IAAJ,GAAWR,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACmB,MAAP,CAAc7B,OAAO,CAACQ,IAAtB,CAAf,GAA6CC,SAD7D;;AAEA,QAAIT,OAAO,CAACa,IAAZ,EAAkB;AACdiB,MAAAA,GAAG,CAACjB,IAAJ,GAAWb,OAAO,CAACa,IAAR,CAAamB,GAAb,CAAiB,UAACJ,CAAD;AAAA,eAAOA,CAAP;AAAA,OAAjB,CAAX;AACH,KAFD,MAGK;AACDE,MAAAA,GAAG,CAACjB,IAAJ,GAAW,EAAX;AACH;;AACD,WAAOiB,GAAP;AACH,GA9FmC;AA+FpCG,EAAAA,WA/FoC,uBA+FxBzD,MA/FwB,EA+FhB;AAChB,QAAMwB,OAAO,qBACN+E,4BADM,CAAb;;AAGA/E,IAAAA,OAAO,CAACa,IAAR,GAAe,EAAf;;AACA,QAAIrC,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAc3B,MAAM,CAAC2B,GAArB;AACH,KAFD,MAGK;AACDH,MAAAA,OAAO,CAACG,GAAR,GAAc,IAAIgB,UAAJ,EAAd;AACH;;AACD,QAAI3C,MAAM,CAAC+B,KAAP,KAAiBE,SAAjB,IAA8BjC,MAAM,CAAC+B,KAAP,KAAiB,IAAnD,EAAyD;AACrDP,MAAAA,OAAO,CAACO,KAAR,GAAgB/B,MAAM,CAAC+B,KAAvB;AACH,KAFD,MAGK;AACDP,MAAAA,OAAO,CAACO,KAAR,GAAgB,IAAIY,UAAJ,EAAhB;AACH;;AACD,QAAI3C,MAAM,CAACgC,IAAP,KAAgBC,SAAhB,IAA6BjC,MAAM,CAACgC,IAAP,KAAgB,IAAjD,EAAuD;AACnDR,MAAAA,OAAO,CAACQ,IAAR,GAAeE,MAAM,CAACuB,WAAP,CAAmBzD,MAAM,CAACgC,IAA1B,CAAf;AACH,KAFD,MAGK;AACDR,MAAAA,OAAO,CAACQ,IAAR,GAAeC,SAAf;AACH;;AACD,QAAIjC,MAAM,CAACqC,IAAP,KAAgBJ,SAAhB,IAA6BjC,MAAM,CAACqC,IAAP,KAAgB,IAAjD,EAAuD;AAAA,mDACnCrC,MAAM,CAACqC,IAD4B;AAAA;;AAAA;AACnD,kEAA6B;AAAA,cAAlBe,CAAkB;AACzB5B,UAAAA,OAAO,CAACa,IAAR,CAAaW,IAAb,CAAkBI,CAAlB;AACH;AAHkD;AAAA;AAAA;AAAA;AAAA;AAItD;;AACD,WAAO5B,OAAP;AACH;AA5HmC,CAAjC;AA8HP,IAAMgF,+BAA+B,GAAG,EAAxC;AACA,OAAO,IAAMF,2BAA2B,GAAG;AACvC/E,EAAAA,MADuC,kBAChCC,OADgC,EACG;AAAA,QAA1BC,MAA0B,uEAAjB9B,MAAM,CAAC+B,MAAP,EAAiB;;AACtC,QAAIF,OAAO,CAACG,GAAR,CAAYC,MAAZ,KAAuB,CAA3B,EAA8B;AAC1BH,MAAAA,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBC,KAAlB,CAAwBN,OAAO,CAACG,GAAhC;AACH;;AACD,QAAIH,OAAO,CAACoC,IAAR,KAAiB3B,SAArB,EAAgC;AAC5BoE,MAAAA,wBAAwB,CAAC9E,MAAzB,CAAgCC,OAAO,CAACoC,IAAxC,EAA8CnC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA9C,EAAwEC,MAAxE;AACH;;AACD,QAAIZ,OAAO,CAACqC,KAAR,KAAkB5B,SAAtB,EAAiC;AAC7BoE,MAAAA,wBAAwB,CAAC9E,MAAzB,CAAgCC,OAAO,CAACqC,KAAxC,EAA+CpC,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBM,IAAlB,EAA/C,EAAyEC,MAAzE;AACH;;AACD,WAAOX,MAAP;AACH,GAZsC;AAavCe,EAAAA,MAbuC,kBAahCC,KAbgC,EAazBb,MAbyB,EAajB;AAClB,QAAMc,MAAM,GAAGD,KAAK,YAAYE,UAAjB,GAA8B,IAAI/C,MAAJ,CAAW6C,KAAX,CAA9B,GAAkDA,KAAjE;AACA,QAAIG,GAAG,GAAGhB,MAAM,KAAKK,SAAX,GAAuBS,MAAM,CAACG,GAA9B,GAAoCH,MAAM,CAACI,GAAP,GAAalB,MAA3D;;AACA,QAAMJ,OAAO,qBACNgF,+BADM,CAAb;;AAGA,WAAO9D,MAAM,CAACI,GAAP,GAAaF,GAApB,EAAyB;AACrB,UAAMG,GAAG,GAAGL,MAAM,CAACb,MAAP,EAAZ;;AACA,cAAQkB,GAAG,KAAK,CAAhB;AACI,aAAK,CAAL;AACIvB,UAAAA,OAAO,CAACG,GAAR,GAAce,MAAM,CAACZ,KAAP,EAAd;AACA;;AACJ,aAAK,CAAL;AACIN,UAAAA,OAAO,CAACoC,IAAR,GAAeyC,wBAAwB,CAAC7D,MAAzB,CAAgCE,MAAhC,EAAwCA,MAAM,CAACb,MAAP,EAAxC,CAAf;AACA;;AACJ,aAAK,CAAL;AACIL,UAAAA,OAAO,CAACqC,KAAR,GAAgBwC,wBAAwB,CAAC7D,MAAzB,CAAgCE,MAAhC,EAAwCA,MAAM,CAACb,MAAP,EAAxC,CAAhB;AACA;;AACJ;AACIa,UAAAA,MAAM,CAACO,QAAP,CAAgBF,GAAG,GAAG,CAAtB;AACA;AAZR;AAcH;;AACD,WAAOvB,OAAP;AACH,GArCsC;AAsCvC0B,EAAAA,QAtCuC,oBAsC9BlD,MAtC8B,EAsCtB;AACb,QAAMwB,OAAO,qBACNgF,+BADM,CAAb;;AAGA,QAAIxG,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAcwB,eAAe,CAACnD,MAAM,CAAC2B,GAAR,CAA7B;AACH;;AACD,QAAI3B,MAAM,CAAC4D,IAAP,KAAgB3B,SAAhB,IAA6BjC,MAAM,CAAC4D,IAAP,KAAgB,IAAjD,EAAuD;AACnDpC,MAAAA,OAAO,CAACoC,IAAR,GAAeyC,wBAAwB,CAACnD,QAAzB,CAAkClD,MAAM,CAAC4D,IAAzC,CAAf;AACH,KAFD,MAGK;AACDpC,MAAAA,OAAO,CAACoC,IAAR,GAAe3B,SAAf;AACH;;AACD,QAAIjC,MAAM,CAAC6D,KAAP,KAAiB5B,SAAjB,IAA8BjC,MAAM,CAAC6D,KAAP,KAAiB,IAAnD,EAAyD;AACrDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgBwC,wBAAwB,CAACnD,QAAzB,CAAkClD,MAAM,CAAC6D,KAAzC,CAAhB;AACH,KAFD,MAGK;AACDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgB5B,SAAhB;AACH;;AACD,WAAOT,OAAP;AACH,GA1DsC;AA2DvC6B,EAAAA,MA3DuC,kBA2DhC7B,OA3DgC,EA2DvB;AACZ,QAAM8B,GAAG,GAAG,EAAZ;AACA9B,IAAAA,OAAO,CAACG,GAAR,KAAgBM,SAAhB,KACKqB,GAAG,CAAC3B,GAAJ,GAAU4B,eAAe,CAAC/B,OAAO,CAACG,GAAR,KAAgBM,SAAhB,GAA4BT,OAAO,CAACG,GAApC,GAA0C,IAAIgB,UAAJ,EAA3C,CAD9B;AAEAnB,IAAAA,OAAO,CAACoC,IAAR,KAAiB3B,SAAjB,KACKqB,GAAG,CAACM,IAAJ,GAAWpC,OAAO,CAACoC,IAAR,GACNyC,wBAAwB,CAAChD,MAAzB,CAAgC7B,OAAO,CAACoC,IAAxC,CADM,GAEN3B,SAHV;AAIAT,IAAAA,OAAO,CAACqC,KAAR,KAAkB5B,SAAlB,KACKqB,GAAG,CAACO,KAAJ,GAAYrC,OAAO,CAACqC,KAAR,GACPwC,wBAAwB,CAAChD,MAAzB,CAAgC7B,OAAO,CAACqC,KAAxC,CADO,GAEP5B,SAHV;AAIA,WAAOqB,GAAP;AACH,GAxEsC;AAyEvCG,EAAAA,WAzEuC,uBAyE3BzD,MAzE2B,EAyEnB;AAChB,QAAMwB,OAAO,qBACNgF,+BADM,CAAb;;AAGA,QAAIxG,MAAM,CAAC2B,GAAP,KAAeM,SAAf,IAA4BjC,MAAM,CAAC2B,GAAP,KAAe,IAA/C,EAAqD;AACjDH,MAAAA,OAAO,CAACG,GAAR,GAAc3B,MAAM,CAAC2B,GAArB;AACH,KAFD,MAGK;AACDH,MAAAA,OAAO,CAACG,GAAR,GAAc,IAAIgB,UAAJ,EAAd;AACH;;AACD,QAAI3C,MAAM,CAAC4D,IAAP,KAAgB3B,SAAhB,IAA6BjC,MAAM,CAAC4D,IAAP,KAAgB,IAAjD,EAAuD;AACnDpC,MAAAA,OAAO,CAACoC,IAAR,GAAeyC,wBAAwB,CAAC5C,WAAzB,CAAqCzD,MAAM,CAAC4D,IAA5C,CAAf;AACH,KAFD,MAGK;AACDpC,MAAAA,OAAO,CAACoC,IAAR,GAAe3B,SAAf;AACH;;AACD,QAAIjC,MAAM,CAAC6D,KAAP,KAAiB5B,SAAjB,IAA8BjC,MAAM,CAAC6D,KAAP,KAAiB,IAAnD,EAAyD;AACrDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgBwC,wBAAwB,CAAC5C,WAAzB,CAAqCzD,MAAM,CAAC6D,KAA5C,CAAhB;AACH,KAFD,MAGK;AACDrC,MAAAA,OAAO,CAACqC,KAAR,GAAgB5B,SAAhB;AACH;;AACD,WAAOT,OAAP;AACH;AAhGsC,CAApC;;AAkGP,IAAIiF,UAAU,GAAI,YAAM;AACpB,MAAI,OAAOA,UAAP,KAAsB,WAA1B,EACI,OAAOA,UAAP;AACJ,MAAI,OAAOC,IAAP,KAAgB,WAApB,EACI,OAAOA,IAAP;AACJ,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EACI,OAAOA,MAAP;AACJ,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EACI,OAAOA,MAAP;AACJ,QAAM,gCAAN;AACH,CAVgB,EAAjB;;AAWA,IAAMC,IAAI,GAAGJ,UAAU,CAACI,IAAX,IACR,UAACC,GAAD;AAAA,SAASL,UAAU,CAACM,MAAX,CAAkBC,IAAlB,CAAuBF,GAAvB,EAA4B,QAA5B,EAAsCG,QAAtC,CAA+C,QAA/C,CAAT;AAAA,CADL;;AAEA,SAAS9D,eAAT,CAAyB2D,GAAzB,EAA8B;AAC1B,MAAMI,GAAG,GAAGL,IAAI,CAACC,GAAD,CAAhB;AACA,MAAMK,GAAG,GAAG,IAAIxE,UAAJ,CAAeuE,GAAG,CAACtF,MAAnB,CAAZ;;AACA,OAAK,IAAIwF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACtF,MAAxB,EAAgC,EAAEwF,CAAlC,EAAqC;AACjCD,IAAAA,GAAG,CAACC,CAAD,CAAH,GAASF,GAAG,CAACG,UAAJ,CAAeD,CAAf,CAAT;AACH;;AACD,SAAOD,GAAP;AACH;;AACD,IAAMG,IAAI,GAAGb,UAAU,CAACa,IAAX,IACR,UAACJ,GAAD;AAAA,SAAST,UAAU,CAACM,MAAX,CAAkBC,IAAlB,CAAuBE,GAAvB,EAA4B,QAA5B,EAAsCD,QAAtC,CAA+C,QAA/C,CAAT;AAAA,CADL;;AAEA,SAAS1D,eAAT,CAAyB4D,GAAzB,EAA8B;AAC1B,MAAMD,GAAG,GAAG,EAAZ;;AACA,OAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACI,UAAxB,EAAoC,EAAEH,CAAtC,EAAyC;AACrCF,IAAAA,GAAG,CAAClE,IAAJ,CAASwE,MAAM,CAACC,YAAP,CAAoBN,GAAG,CAACC,CAAD,CAAvB,CAAT;AACH;;AACD,SAAOE,IAAI,CAACJ,GAAG,CAACQ,IAAJ,CAAS,EAAT,CAAD,CAAX;AACH","sourcesContent":["/* eslint-disable */\nimport { Writer, Reader } from \"protobufjs/minimal\";\nexport const protobufPackage = \"ics23\";\nexport var HashOp;\n(function (HashOp) {\n    /** NO_HASH - NO_HASH is the default if no data passed. Note this is an illegal argument some places. */\n    HashOp[HashOp[\"NO_HASH\"] = 0] = \"NO_HASH\";\n    HashOp[HashOp[\"SHA256\"] = 1] = \"SHA256\";\n    HashOp[HashOp[\"SHA512\"] = 2] = \"SHA512\";\n    HashOp[HashOp[\"KECCAK\"] = 3] = \"KECCAK\";\n    HashOp[HashOp[\"RIPEMD160\"] = 4] = \"RIPEMD160\";\n    /** BITCOIN - ripemd160(sha256(x)) */\n    HashOp[HashOp[\"BITCOIN\"] = 5] = \"BITCOIN\";\n    HashOp[HashOp[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(HashOp || (HashOp = {}));\nexport function hashOpFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"NO_HASH\":\n            return HashOp.NO_HASH;\n        case 1:\n        case \"SHA256\":\n            return HashOp.SHA256;\n        case 2:\n        case \"SHA512\":\n            return HashOp.SHA512;\n        case 3:\n        case \"KECCAK\":\n            return HashOp.KECCAK;\n        case 4:\n        case \"RIPEMD160\":\n            return HashOp.RIPEMD160;\n        case 5:\n        case \"BITCOIN\":\n            return HashOp.BITCOIN;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return HashOp.UNRECOGNIZED;\n    }\n}\nexport function hashOpToJSON(object) {\n    switch (object) {\n        case HashOp.NO_HASH:\n            return \"NO_HASH\";\n        case HashOp.SHA256:\n            return \"SHA256\";\n        case HashOp.SHA512:\n            return \"SHA512\";\n        case HashOp.KECCAK:\n            return \"KECCAK\";\n        case HashOp.RIPEMD160:\n            return \"RIPEMD160\";\n        case HashOp.BITCOIN:\n            return \"BITCOIN\";\n        default:\n            return \"UNKNOWN\";\n    }\n}\n/**\n * LengthOp defines how to process the key and value of the LeafOp\n * to include length information. After encoding the length with the given\n * algorithm, the length will be prepended to the key and value bytes.\n * (Each one with it's own encoded length)\n */\nexport var LengthOp;\n(function (LengthOp) {\n    /** NO_PREFIX - NO_PREFIX don't include any length info */\n    LengthOp[LengthOp[\"NO_PREFIX\"] = 0] = \"NO_PREFIX\";\n    /** VAR_PROTO - VAR_PROTO uses protobuf (and go-amino) varint encoding of the length */\n    LengthOp[LengthOp[\"VAR_PROTO\"] = 1] = \"VAR_PROTO\";\n    /** VAR_RLP - VAR_RLP uses rlp int encoding of the length */\n    LengthOp[LengthOp[\"VAR_RLP\"] = 2] = \"VAR_RLP\";\n    /** FIXED32_BIG - FIXED32_BIG uses big-endian encoding of the length as a 32 bit integer */\n    LengthOp[LengthOp[\"FIXED32_BIG\"] = 3] = \"FIXED32_BIG\";\n    /** FIXED32_LITTLE - FIXED32_LITTLE uses little-endian encoding of the length as a 32 bit integer */\n    LengthOp[LengthOp[\"FIXED32_LITTLE\"] = 4] = \"FIXED32_LITTLE\";\n    /** FIXED64_BIG - FIXED64_BIG uses big-endian encoding of the length as a 64 bit integer */\n    LengthOp[LengthOp[\"FIXED64_BIG\"] = 5] = \"FIXED64_BIG\";\n    /** FIXED64_LITTLE - FIXED64_LITTLE uses little-endian encoding of the length as a 64 bit integer */\n    LengthOp[LengthOp[\"FIXED64_LITTLE\"] = 6] = \"FIXED64_LITTLE\";\n    /** REQUIRE_32_BYTES - REQUIRE_32_BYTES is like NONE, but will fail if the input is not exactly 32 bytes (sha256 output) */\n    LengthOp[LengthOp[\"REQUIRE_32_BYTES\"] = 7] = \"REQUIRE_32_BYTES\";\n    /** REQUIRE_64_BYTES - REQUIRE_64_BYTES is like NONE, but will fail if the input is not exactly 64 bytes (sha512 output) */\n    LengthOp[LengthOp[\"REQUIRE_64_BYTES\"] = 8] = \"REQUIRE_64_BYTES\";\n    LengthOp[LengthOp[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(LengthOp || (LengthOp = {}));\nexport function lengthOpFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"NO_PREFIX\":\n            return LengthOp.NO_PREFIX;\n        case 1:\n        case \"VAR_PROTO\":\n            return LengthOp.VAR_PROTO;\n        case 2:\n        case \"VAR_RLP\":\n            return LengthOp.VAR_RLP;\n        case 3:\n        case \"FIXED32_BIG\":\n            return LengthOp.FIXED32_BIG;\n        case 4:\n        case \"FIXED32_LITTLE\":\n            return LengthOp.FIXED32_LITTLE;\n        case 5:\n        case \"FIXED64_BIG\":\n            return LengthOp.FIXED64_BIG;\n        case 6:\n        case \"FIXED64_LITTLE\":\n            return LengthOp.FIXED64_LITTLE;\n        case 7:\n        case \"REQUIRE_32_BYTES\":\n            return LengthOp.REQUIRE_32_BYTES;\n        case 8:\n        case \"REQUIRE_64_BYTES\":\n            return LengthOp.REQUIRE_64_BYTES;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return LengthOp.UNRECOGNIZED;\n    }\n}\nexport function lengthOpToJSON(object) {\n    switch (object) {\n        case LengthOp.NO_PREFIX:\n            return \"NO_PREFIX\";\n        case LengthOp.VAR_PROTO:\n            return \"VAR_PROTO\";\n        case LengthOp.VAR_RLP:\n            return \"VAR_RLP\";\n        case LengthOp.FIXED32_BIG:\n            return \"FIXED32_BIG\";\n        case LengthOp.FIXED32_LITTLE:\n            return \"FIXED32_LITTLE\";\n        case LengthOp.FIXED64_BIG:\n            return \"FIXED64_BIG\";\n        case LengthOp.FIXED64_LITTLE:\n            return \"FIXED64_LITTLE\";\n        case LengthOp.REQUIRE_32_BYTES:\n            return \"REQUIRE_32_BYTES\";\n        case LengthOp.REQUIRE_64_BYTES:\n            return \"REQUIRE_64_BYTES\";\n        default:\n            return \"UNKNOWN\";\n    }\n}\nconst baseExistenceProof = {};\nexport const ExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.value.length !== 0) {\n            writer.uint32(18).bytes(message.value);\n        }\n        if (message.leaf !== undefined) {\n            LeafOp.encode(message.leaf, writer.uint32(26).fork()).ldelim();\n        }\n        for (const v of message.path) {\n            InnerOp.encode(v, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseExistenceProof };\n        message.path = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.value = reader.bytes();\n                    break;\n                case 3:\n                    message.leaf = LeafOp.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.path.push(InnerOp.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseExistenceProof };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = bytesFromBase64(object.value);\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromJSON(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(InnerOp.fromJSON(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.value !== undefined &&\n            (obj.value = base64FromBytes(message.value !== undefined ? message.value : new Uint8Array()));\n        message.leaf !== undefined &&\n            (obj.leaf = message.leaf ? LeafOp.toJSON(message.leaf) : undefined);\n        if (message.path) {\n            obj.path = message.path.map((e) => (e ? InnerOp.toJSON(e) : undefined));\n        }\n        else {\n            obj.path = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseExistenceProof };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = object.value;\n        }\n        else {\n            message.value = new Uint8Array();\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromPartial(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(InnerOp.fromPartial(e));\n            }\n        }\n        return message;\n    },\n};\nconst baseNonExistenceProof = {};\nexport const NonExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.left !== undefined) {\n            ExistenceProof.encode(message.left, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.right !== undefined) {\n            ExistenceProof.encode(message.right, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseNonExistenceProof };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.left = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.right = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseNonExistenceProof };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = ExistenceProof.fromJSON(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = ExistenceProof.fromJSON(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.left !== undefined &&\n            (obj.left = message.left\n                ? ExistenceProof.toJSON(message.left)\n                : undefined);\n        message.right !== undefined &&\n            (obj.right = message.right\n                ? ExistenceProof.toJSON(message.right)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseNonExistenceProof };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = ExistenceProof.fromPartial(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = ExistenceProof.fromPartial(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n};\nconst baseCommitmentProof = {};\nexport const CommitmentProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.exist !== undefined) {\n            ExistenceProof.encode(message.exist, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.nonexist !== undefined) {\n            NonExistenceProof.encode(message.nonexist, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.batch !== undefined) {\n            BatchProof.encode(message.batch, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.compressed !== undefined) {\n            CompressedBatchProof.encode(message.compressed, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseCommitmentProof };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.exist = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.nonexist = NonExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.batch = BatchProof.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.compressed = CompressedBatchProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseCommitmentProof };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromJSON(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromJSON(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        if (object.batch !== undefined && object.batch !== null) {\n            message.batch = BatchProof.fromJSON(object.batch);\n        }\n        else {\n            message.batch = undefined;\n        }\n        if (object.compressed !== undefined && object.compressed !== null) {\n            message.compressed = CompressedBatchProof.fromJSON(object.compressed);\n        }\n        else {\n            message.compressed = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.exist !== undefined &&\n            (obj.exist = message.exist\n                ? ExistenceProof.toJSON(message.exist)\n                : undefined);\n        message.nonexist !== undefined &&\n            (obj.nonexist = message.nonexist\n                ? NonExistenceProof.toJSON(message.nonexist)\n                : undefined);\n        message.batch !== undefined &&\n            (obj.batch = message.batch\n                ? BatchProof.toJSON(message.batch)\n                : undefined);\n        message.compressed !== undefined &&\n            (obj.compressed = message.compressed\n                ? CompressedBatchProof.toJSON(message.compressed)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseCommitmentProof };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromPartial(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromPartial(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        if (object.batch !== undefined && object.batch !== null) {\n            message.batch = BatchProof.fromPartial(object.batch);\n        }\n        else {\n            message.batch = undefined;\n        }\n        if (object.compressed !== undefined && object.compressed !== null) {\n            message.compressed = CompressedBatchProof.fromPartial(object.compressed);\n        }\n        else {\n            message.compressed = undefined;\n        }\n        return message;\n    },\n};\nconst baseLeafOp = {\n    hash: 0,\n    prehashKey: 0,\n    prehashValue: 0,\n    length: 0,\n};\nexport const LeafOp = {\n    encode(message, writer = Writer.create()) {\n        if (message.hash !== 0) {\n            writer.uint32(8).int32(message.hash);\n        }\n        if (message.prehashKey !== 0) {\n            writer.uint32(16).int32(message.prehashKey);\n        }\n        if (message.prehashValue !== 0) {\n            writer.uint32(24).int32(message.prehashValue);\n        }\n        if (message.length !== 0) {\n            writer.uint32(32).int32(message.length);\n        }\n        if (message.prefix.length !== 0) {\n            writer.uint32(42).bytes(message.prefix);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseLeafOp };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.hash = reader.int32();\n                    break;\n                case 2:\n                    message.prehashKey = reader.int32();\n                    break;\n                case 3:\n                    message.prehashValue = reader.int32();\n                    break;\n                case 4:\n                    message.length = reader.int32();\n                    break;\n                case 5:\n                    message.prefix = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseLeafOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = hashOpFromJSON(object.hash);\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prehashKey !== undefined && object.prehashKey !== null) {\n            message.prehashKey = hashOpFromJSON(object.prehashKey);\n        }\n        else {\n            message.prehashKey = 0;\n        }\n        if (object.prehashValue !== undefined && object.prehashValue !== null) {\n            message.prehashValue = hashOpFromJSON(object.prehashValue);\n        }\n        else {\n            message.prehashValue = 0;\n        }\n        if (object.length !== undefined && object.length !== null) {\n            message.length = lengthOpFromJSON(object.length);\n        }\n        else {\n            message.length = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = bytesFromBase64(object.prefix);\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.hash !== undefined && (obj.hash = hashOpToJSON(message.hash));\n        message.prehashKey !== undefined &&\n            (obj.prehashKey = hashOpToJSON(message.prehashKey));\n        message.prehashValue !== undefined &&\n            (obj.prehashValue = hashOpToJSON(message.prehashValue));\n        message.length !== undefined &&\n            (obj.length = lengthOpToJSON(message.length));\n        message.prefix !== undefined &&\n            (obj.prefix = base64FromBytes(message.prefix !== undefined ? message.prefix : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseLeafOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prehashKey !== undefined && object.prehashKey !== null) {\n            message.prehashKey = object.prehashKey;\n        }\n        else {\n            message.prehashKey = 0;\n        }\n        if (object.prehashValue !== undefined && object.prehashValue !== null) {\n            message.prehashValue = object.prehashValue;\n        }\n        else {\n            message.prehashValue = 0;\n        }\n        if (object.length !== undefined && object.length !== null) {\n            message.length = object.length;\n        }\n        else {\n            message.length = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = object.prefix;\n        }\n        else {\n            message.prefix = new Uint8Array();\n        }\n        return message;\n    },\n};\nconst baseInnerOp = { hash: 0 };\nexport const InnerOp = {\n    encode(message, writer = Writer.create()) {\n        if (message.hash !== 0) {\n            writer.uint32(8).int32(message.hash);\n        }\n        if (message.prefix.length !== 0) {\n            writer.uint32(18).bytes(message.prefix);\n        }\n        if (message.suffix.length !== 0) {\n            writer.uint32(26).bytes(message.suffix);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseInnerOp };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.hash = reader.int32();\n                    break;\n                case 2:\n                    message.prefix = reader.bytes();\n                    break;\n                case 3:\n                    message.suffix = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseInnerOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = hashOpFromJSON(object.hash);\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = bytesFromBase64(object.prefix);\n        }\n        if (object.suffix !== undefined && object.suffix !== null) {\n            message.suffix = bytesFromBase64(object.suffix);\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.hash !== undefined && (obj.hash = hashOpToJSON(message.hash));\n        message.prefix !== undefined &&\n            (obj.prefix = base64FromBytes(message.prefix !== undefined ? message.prefix : new Uint8Array()));\n        message.suffix !== undefined &&\n            (obj.suffix = base64FromBytes(message.suffix !== undefined ? message.suffix : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseInnerOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = object.prefix;\n        }\n        else {\n            message.prefix = new Uint8Array();\n        }\n        if (object.suffix !== undefined && object.suffix !== null) {\n            message.suffix = object.suffix;\n        }\n        else {\n            message.suffix = new Uint8Array();\n        }\n        return message;\n    },\n};\nconst baseProofSpec = { maxDepth: 0, minDepth: 0 };\nexport const ProofSpec = {\n    encode(message, writer = Writer.create()) {\n        if (message.leafSpec !== undefined) {\n            LeafOp.encode(message.leafSpec, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.innerSpec !== undefined) {\n            InnerSpec.encode(message.innerSpec, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.maxDepth !== 0) {\n            writer.uint32(24).int32(message.maxDepth);\n        }\n        if (message.minDepth !== 0) {\n            writer.uint32(32).int32(message.minDepth);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseProofSpec };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.leafSpec = LeafOp.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.innerSpec = InnerSpec.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.maxDepth = reader.int32();\n                    break;\n                case 4:\n                    message.minDepth = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseProofSpec };\n        if (object.leafSpec !== undefined && object.leafSpec !== null) {\n            message.leafSpec = LeafOp.fromJSON(object.leafSpec);\n        }\n        else {\n            message.leafSpec = undefined;\n        }\n        if (object.innerSpec !== undefined && object.innerSpec !== null) {\n            message.innerSpec = InnerSpec.fromJSON(object.innerSpec);\n        }\n        else {\n            message.innerSpec = undefined;\n        }\n        if (object.maxDepth !== undefined && object.maxDepth !== null) {\n            message.maxDepth = Number(object.maxDepth);\n        }\n        else {\n            message.maxDepth = 0;\n        }\n        if (object.minDepth !== undefined && object.minDepth !== null) {\n            message.minDepth = Number(object.minDepth);\n        }\n        else {\n            message.minDepth = 0;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.leafSpec !== undefined &&\n            (obj.leafSpec = message.leafSpec\n                ? LeafOp.toJSON(message.leafSpec)\n                : undefined);\n        message.innerSpec !== undefined &&\n            (obj.innerSpec = message.innerSpec\n                ? InnerSpec.toJSON(message.innerSpec)\n                : undefined);\n        message.maxDepth !== undefined && (obj.maxDepth = message.maxDepth);\n        message.minDepth !== undefined && (obj.minDepth = message.minDepth);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseProofSpec };\n        if (object.leafSpec !== undefined && object.leafSpec !== null) {\n            message.leafSpec = LeafOp.fromPartial(object.leafSpec);\n        }\n        else {\n            message.leafSpec = undefined;\n        }\n        if (object.innerSpec !== undefined && object.innerSpec !== null) {\n            message.innerSpec = InnerSpec.fromPartial(object.innerSpec);\n        }\n        else {\n            message.innerSpec = undefined;\n        }\n        if (object.maxDepth !== undefined && object.maxDepth !== null) {\n            message.maxDepth = object.maxDepth;\n        }\n        else {\n            message.maxDepth = 0;\n        }\n        if (object.minDepth !== undefined && object.minDepth !== null) {\n            message.minDepth = object.minDepth;\n        }\n        else {\n            message.minDepth = 0;\n        }\n        return message;\n    },\n};\nconst baseInnerSpec = {\n    childOrder: 0,\n    childSize: 0,\n    minPrefixLength: 0,\n    maxPrefixLength: 0,\n    hash: 0,\n};\nexport const InnerSpec = {\n    encode(message, writer = Writer.create()) {\n        writer.uint32(10).fork();\n        for (const v of message.childOrder) {\n            writer.int32(v);\n        }\n        writer.ldelim();\n        if (message.childSize !== 0) {\n            writer.uint32(16).int32(message.childSize);\n        }\n        if (message.minPrefixLength !== 0) {\n            writer.uint32(24).int32(message.minPrefixLength);\n        }\n        if (message.maxPrefixLength !== 0) {\n            writer.uint32(32).int32(message.maxPrefixLength);\n        }\n        if (message.emptyChild.length !== 0) {\n            writer.uint32(42).bytes(message.emptyChild);\n        }\n        if (message.hash !== 0) {\n            writer.uint32(48).int32(message.hash);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseInnerSpec };\n        message.childOrder = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    if ((tag & 7) === 2) {\n                        const end2 = reader.uint32() + reader.pos;\n                        while (reader.pos < end2) {\n                            message.childOrder.push(reader.int32());\n                        }\n                    }\n                    else {\n                        message.childOrder.push(reader.int32());\n                    }\n                    break;\n                case 2:\n                    message.childSize = reader.int32();\n                    break;\n                case 3:\n                    message.minPrefixLength = reader.int32();\n                    break;\n                case 4:\n                    message.maxPrefixLength = reader.int32();\n                    break;\n                case 5:\n                    message.emptyChild = reader.bytes();\n                    break;\n                case 6:\n                    message.hash = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseInnerSpec };\n        message.childOrder = [];\n        if (object.childOrder !== undefined && object.childOrder !== null) {\n            for (const e of object.childOrder) {\n                message.childOrder.push(Number(e));\n            }\n        }\n        if (object.childSize !== undefined && object.childSize !== null) {\n            message.childSize = Number(object.childSize);\n        }\n        else {\n            message.childSize = 0;\n        }\n        if (object.minPrefixLength !== undefined &&\n            object.minPrefixLength !== null) {\n            message.minPrefixLength = Number(object.minPrefixLength);\n        }\n        else {\n            message.minPrefixLength = 0;\n        }\n        if (object.maxPrefixLength !== undefined &&\n            object.maxPrefixLength !== null) {\n            message.maxPrefixLength = Number(object.maxPrefixLength);\n        }\n        else {\n            message.maxPrefixLength = 0;\n        }\n        if (object.emptyChild !== undefined && object.emptyChild !== null) {\n            message.emptyChild = bytesFromBase64(object.emptyChild);\n        }\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = hashOpFromJSON(object.hash);\n        }\n        else {\n            message.hash = 0;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.childOrder) {\n            obj.childOrder = message.childOrder.map((e) => e);\n        }\n        else {\n            obj.childOrder = [];\n        }\n        message.childSize !== undefined && (obj.childSize = message.childSize);\n        message.minPrefixLength !== undefined &&\n            (obj.minPrefixLength = message.minPrefixLength);\n        message.maxPrefixLength !== undefined &&\n            (obj.maxPrefixLength = message.maxPrefixLength);\n        message.emptyChild !== undefined &&\n            (obj.emptyChild = base64FromBytes(message.emptyChild !== undefined ? message.emptyChild : new Uint8Array()));\n        message.hash !== undefined && (obj.hash = hashOpToJSON(message.hash));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseInnerSpec };\n        message.childOrder = [];\n        if (object.childOrder !== undefined && object.childOrder !== null) {\n            for (const e of object.childOrder) {\n                message.childOrder.push(e);\n            }\n        }\n        if (object.childSize !== undefined && object.childSize !== null) {\n            message.childSize = object.childSize;\n        }\n        else {\n            message.childSize = 0;\n        }\n        if (object.minPrefixLength !== undefined &&\n            object.minPrefixLength !== null) {\n            message.minPrefixLength = object.minPrefixLength;\n        }\n        else {\n            message.minPrefixLength = 0;\n        }\n        if (object.maxPrefixLength !== undefined &&\n            object.maxPrefixLength !== null) {\n            message.maxPrefixLength = object.maxPrefixLength;\n        }\n        else {\n            message.maxPrefixLength = 0;\n        }\n        if (object.emptyChild !== undefined && object.emptyChild !== null) {\n            message.emptyChild = object.emptyChild;\n        }\n        else {\n            message.emptyChild = new Uint8Array();\n        }\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        else {\n            message.hash = 0;\n        }\n        return message;\n    },\n};\nconst baseBatchProof = {};\nexport const BatchProof = {\n    encode(message, writer = Writer.create()) {\n        for (const v of message.entries) {\n            BatchEntry.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseBatchProof };\n        message.entries = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.entries.push(BatchEntry.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseBatchProof };\n        message.entries = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(BatchEntry.fromJSON(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => e ? BatchEntry.toJSON(e) : undefined);\n        }\n        else {\n            obj.entries = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseBatchProof };\n        message.entries = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(BatchEntry.fromPartial(e));\n            }\n        }\n        return message;\n    },\n};\nconst baseBatchEntry = {};\nexport const BatchEntry = {\n    encode(message, writer = Writer.create()) {\n        if (message.exist !== undefined) {\n            ExistenceProof.encode(message.exist, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.nonexist !== undefined) {\n            NonExistenceProof.encode(message.nonexist, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseBatchEntry };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.exist = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.nonexist = NonExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromJSON(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromJSON(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.exist !== undefined &&\n            (obj.exist = message.exist\n                ? ExistenceProof.toJSON(message.exist)\n                : undefined);\n        message.nonexist !== undefined &&\n            (obj.nonexist = message.nonexist\n                ? NonExistenceProof.toJSON(message.nonexist)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromPartial(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromPartial(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n};\nconst baseCompressedBatchProof = {};\nexport const CompressedBatchProof = {\n    encode(message, writer = Writer.create()) {\n        for (const v of message.entries) {\n            CompressedBatchEntry.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        for (const v of message.lookupInners) {\n            InnerOp.encode(v, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseCompressedBatchProof };\n        message.entries = [];\n        message.lookupInners = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.entries.push(CompressedBatchEntry.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.lookupInners.push(InnerOp.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseCompressedBatchProof };\n        message.entries = [];\n        message.lookupInners = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(CompressedBatchEntry.fromJSON(e));\n            }\n        }\n        if (object.lookupInners !== undefined && object.lookupInners !== null) {\n            for (const e of object.lookupInners) {\n                message.lookupInners.push(InnerOp.fromJSON(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => e ? CompressedBatchEntry.toJSON(e) : undefined);\n        }\n        else {\n            obj.entries = [];\n        }\n        if (message.lookupInners) {\n            obj.lookupInners = message.lookupInners.map((e) => e ? InnerOp.toJSON(e) : undefined);\n        }\n        else {\n            obj.lookupInners = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseCompressedBatchProof };\n        message.entries = [];\n        message.lookupInners = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(CompressedBatchEntry.fromPartial(e));\n            }\n        }\n        if (object.lookupInners !== undefined && object.lookupInners !== null) {\n            for (const e of object.lookupInners) {\n                message.lookupInners.push(InnerOp.fromPartial(e));\n            }\n        }\n        return message;\n    },\n};\nconst baseCompressedBatchEntry = {};\nexport const CompressedBatchEntry = {\n    encode(message, writer = Writer.create()) {\n        if (message.exist !== undefined) {\n            CompressedExistenceProof.encode(message.exist, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.nonexist !== undefined) {\n            CompressedNonExistenceProof.encode(message.nonexist, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseCompressedBatchEntry };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.exist = CompressedExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.nonexist = CompressedNonExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseCompressedBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = CompressedExistenceProof.fromJSON(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = CompressedNonExistenceProof.fromJSON(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.exist !== undefined &&\n            (obj.exist = message.exist\n                ? CompressedExistenceProof.toJSON(message.exist)\n                : undefined);\n        message.nonexist !== undefined &&\n            (obj.nonexist = message.nonexist\n                ? CompressedNonExistenceProof.toJSON(message.nonexist)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseCompressedBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = CompressedExistenceProof.fromPartial(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = CompressedNonExistenceProof.fromPartial(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n};\nconst baseCompressedExistenceProof = { path: 0 };\nexport const CompressedExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.value.length !== 0) {\n            writer.uint32(18).bytes(message.value);\n        }\n        if (message.leaf !== undefined) {\n            LeafOp.encode(message.leaf, writer.uint32(26).fork()).ldelim();\n        }\n        writer.uint32(34).fork();\n        for (const v of message.path) {\n            writer.int32(v);\n        }\n        writer.ldelim();\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseCompressedExistenceProof,\n        };\n        message.path = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.value = reader.bytes();\n                    break;\n                case 3:\n                    message.leaf = LeafOp.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    if ((tag & 7) === 2) {\n                        const end2 = reader.uint32() + reader.pos;\n                        while (reader.pos < end2) {\n                            message.path.push(reader.int32());\n                        }\n                    }\n                    else {\n                        message.path.push(reader.int32());\n                    }\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = {\n            ...baseCompressedExistenceProof,\n        };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = bytesFromBase64(object.value);\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromJSON(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(Number(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.value !== undefined &&\n            (obj.value = base64FromBytes(message.value !== undefined ? message.value : new Uint8Array()));\n        message.leaf !== undefined &&\n            (obj.leaf = message.leaf ? LeafOp.toJSON(message.leaf) : undefined);\n        if (message.path) {\n            obj.path = message.path.map((e) => e);\n        }\n        else {\n            obj.path = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = {\n            ...baseCompressedExistenceProof,\n        };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = object.value;\n        }\n        else {\n            message.value = new Uint8Array();\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromPartial(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(e);\n            }\n        }\n        return message;\n    },\n};\nconst baseCompressedNonExistenceProof = {};\nexport const CompressedNonExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.left !== undefined) {\n            CompressedExistenceProof.encode(message.left, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.right !== undefined) {\n            CompressedExistenceProof.encode(message.right, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseCompressedNonExistenceProof,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.left = CompressedExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.right = CompressedExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = {\n            ...baseCompressedNonExistenceProof,\n        };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = CompressedExistenceProof.fromJSON(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = CompressedExistenceProof.fromJSON(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.left !== undefined &&\n            (obj.left = message.left\n                ? CompressedExistenceProof.toJSON(message.left)\n                : undefined);\n        message.right !== undefined &&\n            (obj.right = message.right\n                ? CompressedExistenceProof.toJSON(message.right)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = {\n            ...baseCompressedNonExistenceProof,\n        };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = CompressedExistenceProof.fromPartial(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = CompressedExistenceProof.fromPartial(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n};\nvar globalThis = (() => {\n    if (typeof globalThis !== \"undefined\")\n        return globalThis;\n    if (typeof self !== \"undefined\")\n        return self;\n    if (typeof window !== \"undefined\")\n        return window;\n    if (typeof global !== \"undefined\")\n        return global;\n    throw \"Unable to locate global object\";\n})();\nconst atob = globalThis.atob ||\n    ((b64) => globalThis.Buffer.from(b64, \"base64\").toString(\"binary\"));\nfunction bytesFromBase64(b64) {\n    const bin = atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n}\nconst btoa = globalThis.btoa ||\n    ((bin) => globalThis.Buffer.from(bin, \"binary\").toString(\"base64\"));\nfunction base64FromBytes(arr) {\n    const bin = [];\n    for (let i = 0; i < arr.byteLength; ++i) {\n        bin.push(String.fromCharCode(arr[i]));\n    }\n    return btoa(bin.join(\"\"));\n}\n"]}]}
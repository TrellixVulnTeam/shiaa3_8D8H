{"remainingRequest":"/home/saptarsi/go/src/shiaa3/vue/node_modules/babel-loader/lib/index.js!/home/saptarsi/go/src/shiaa3/vue/node_modules/eslint-loader/index.js??ref--13-0!/home/saptarsi/go/src/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.gov.v1beta1/index.js","dependencies":[{"path":"/home/saptarsi/go/src/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.gov.v1beta1/index.js","mtime":1616099062174},{"path":"/home/saptarsi/go/src/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/shiaa3/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/saptarsi/go/src/shiaa3/vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9zaGlhYTMvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9zaGlhYTMvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9zaGlhYTMvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9zaGlhYTMvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgdHhDbGllbnQsIHF1ZXJ5Q2xpZW50IH0gZnJvbSAnLi9tb2R1bGUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgeyBTcFZ1ZXhFcnJvciB9IGZyb20gJ0BzdGFycG9ydC92dWV4JzsKaW1wb3J0IHsgVGV4dFByb3Bvc2FsIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL2dvdi92MWJldGExL2dvdiI7CmltcG9ydCB7IERlcG9zaXQgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3MvZ292L3YxYmV0YTEvZ292IjsKaW1wb3J0IHsgUHJvcG9zYWwgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3MvZ292L3YxYmV0YTEvZ292IjsKaW1wb3J0IHsgVGFsbHlSZXN1bHQgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3MvZ292L3YxYmV0YTEvZ292IjsKaW1wb3J0IHsgVm90ZSB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9nb3YvdjFiZXRhMS9nb3YiOwppbXBvcnQgeyBEZXBvc2l0UGFyYW1zIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL2dvdi92MWJldGExL2dvdiI7CmltcG9ydCB7IFZvdGluZ1BhcmFtcyB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9nb3YvdjFiZXRhMS9nb3YiOwppbXBvcnQgeyBUYWxseVBhcmFtcyB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9nb3YvdjFiZXRhMS9nb3YiOwoKZnVuY3Rpb24gaW5pdFR4Q2xpZW50KF94KSB7CiAgcmV0dXJuIF9pbml0VHhDbGllbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2luaXRUeENsaWVudCgpIHsKICBfaW5pdFR4Q2xpZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYodnVleEdldHRlcnMpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gdHhDbGllbnQodnVleEdldHRlcnNbJ2NvbW1vbi93YWxsZXQvc2lnbmVyJ10sIHsKICAgICAgICAgICAgICBhZGRyOiB2dWV4R2V0dGVyc1snY29tbW9uL2Vudi9hcGlUZW5kZXJtaW50J10KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTYuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTE2KTsKICB9KSk7CiAgcmV0dXJuIF9pbml0VHhDbGllbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gaW5pdFF1ZXJ5Q2xpZW50KF94MikgewogIHJldHVybiBfaW5pdFF1ZXJ5Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9pbml0UXVlcnlDbGllbnQoKSB7CiAgX2luaXRRdWVyeUNsaWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KHZ1ZXhHZXR0ZXJzKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50KHsKICAgICAgICAgICAgICBhZGRyOiB2dWV4R2V0dGVyc1snY29tbW9uL2Vudi9hcGlDb3Ntb3MnXQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxNy5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTcpOwogIH0pKTsKICByZXR1cm4gX2luaXRRdWVyeUNsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBnZXRTdHJ1Y3R1cmUodGVtcGxhdGUpIHsKICB2YXIgc3RydWN0dXJlID0gewogICAgZmllbGRzOiBbXQogIH07CgogIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModGVtcGxhdGUpOyBfaSA8IF9PYmplY3QkZW50cmllcy5sZW5ndGg7IF9pKyspIHsKICAgIHZhciBfT2JqZWN0JGVudHJpZXMkX2kgPSBfc2xpY2VkVG9BcnJheShfT2JqZWN0JGVudHJpZXNbX2ldLCAyKSwKICAgICAgICBrZXkgPSBfT2JqZWN0JGVudHJpZXMkX2lbMF0sCiAgICAgICAgdmFsdWUgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07CgogICAgdmFyIGZpZWxkID0ge307CiAgICBmaWVsZC5uYW1lID0ga2V5OwogICAgZmllbGQudHlwZSA9IF90eXBlb2YodmFsdWUpOwogICAgc3RydWN0dXJlLmZpZWxkcy5wdXNoKGZpZWxkKTsKICB9CgogIHJldHVybiBzdHJ1Y3R1cmU7Cn0KCnZhciBnZXREZWZhdWx0U3RhdGUgPSBmdW5jdGlvbiBnZXREZWZhdWx0U3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIFByb3Bvc2FsOiB7fSwKICAgIFByb3Bvc2Fsczoge30sCiAgICBWb3RlOiB7fSwKICAgIFZvdGVzOiB7fSwKICAgIFBhcmFtczoge30sCiAgICBEZXBvc2l0OiB7fSwKICAgIERlcG9zaXRzOiB7fSwKICAgIFRhbGx5UmVzdWx0OiB7fSwKICAgIF9TdHJ1Y3R1cmU6IHsKICAgICAgVGV4dFByb3Bvc2FsOiBnZXRTdHJ1Y3R1cmUoVGV4dFByb3Bvc2FsLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIERlcG9zaXQ6IGdldFN0cnVjdHVyZShEZXBvc2l0LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFByb3Bvc2FsOiBnZXRTdHJ1Y3R1cmUoUHJvcG9zYWwuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgVGFsbHlSZXN1bHQ6IGdldFN0cnVjdHVyZShUYWxseVJlc3VsdC5mcm9tUGFydGlhbCh7fSkpLAogICAgICBWb3RlOiBnZXRTdHJ1Y3R1cmUoVm90ZS5mcm9tUGFydGlhbCh7fSkpLAogICAgICBEZXBvc2l0UGFyYW1zOiBnZXRTdHJ1Y3R1cmUoRGVwb3NpdFBhcmFtcy5mcm9tUGFydGlhbCh7fSkpLAogICAgICBWb3RpbmdQYXJhbXM6IGdldFN0cnVjdHVyZShWb3RpbmdQYXJhbXMuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgVGFsbHlQYXJhbXM6IGdldFN0cnVjdHVyZShUYWxseVBhcmFtcy5mcm9tUGFydGlhbCh7fSkpCiAgICB9LAogICAgX1N1YnNjcmlwdGlvbnM6IG5ldyBTZXQoKQogIH07Cn07IC8vIGluaXRpYWwgc3RhdGUKCgp2YXIgc3RhdGUgPSBnZXREZWZhdWx0U3RhdGUoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogewogICAgUkVTRVRfU1RBVEU6IGZ1bmN0aW9uIFJFU0VUX1NUQVRFKHN0YXRlKSB7CiAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICAgIH0sCiAgICBRVUVSWTogZnVuY3Rpb24gUVVFUlkoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeSwKICAgICAgICAgIGtleSA9IF9yZWYua2V5LAogICAgICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICBzdGF0ZVtxdWVyeV1bSlNPTi5zdHJpbmdpZnkoa2V5KV0gPSB2YWx1ZTsKICAgIH0sCiAgICBTVUJTQ1JJQkU6IGZ1bmN0aW9uIFNVQlNDUklCRShzdGF0ZSwgc3Vic2NyaXB0aW9uKSB7CiAgICAgIHN0YXRlLl9TdWJzY3JpcHRpb25zLmFkZChzdWJzY3JpcHRpb24pOwogICAgfSwKICAgIFVOU1VCU0NSSUJFOiBmdW5jdGlvbiBVTlNVQlNDUklCRShzdGF0ZSwgc3Vic2NyaXB0aW9uKSB7CiAgICAgIHN0YXRlLl9TdWJzY3JpcHRpb25zLmRlbGV0ZShzdWJzY3JpcHRpb24pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0UHJvcG9zYWw6IGZ1bmN0aW9uIGdldFByb3Bvc2FsKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQcm9wb3NhbCRKU09OJDsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUHJvcG9zYWwkSlNPTiQgPSBzdGF0ZS5Qcm9wb3NhbFtKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJFByb3Bvc2FsJEpTT04kICE9PSB2b2lkIDAgPyBfc3RhdGUkUHJvcG9zYWwkSlNPTiQgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRQcm9wb3NhbHM6IGZ1bmN0aW9uIGdldFByb3Bvc2FscyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkUHJvcG9zYWxzJEpTT047CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFByb3Bvc2FscyRKU09OID0gc3RhdGUuUHJvcG9zYWxzW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkUHJvcG9zYWxzJEpTT04gIT09IHZvaWQgMCA/IF9zdGF0ZSRQcm9wb3NhbHMkSlNPTiA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFZvdGU6IGZ1bmN0aW9uIGdldFZvdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFZvdGUkSlNPTiRzdHJpOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRWb3RlJEpTT04kc3RyaSA9IHN0YXRlLlZvdGVbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRWb3RlJEpTT04kc3RyaSAhPT0gdm9pZCAwID8gX3N0YXRlJFZvdGUkSlNPTiRzdHJpIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0Vm90ZXM6IGZ1bmN0aW9uIGdldFZvdGVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRWb3RlcyRKU09OJHN0cjsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkVm90ZXMkSlNPTiRzdHIgPSBzdGF0ZS5Wb3Rlc1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJFZvdGVzJEpTT04kc3RyICE9PSB2b2lkIDAgPyBfc3RhdGUkVm90ZXMkSlNPTiRzdHIgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRQYXJhbXM6IGZ1bmN0aW9uIGdldFBhcmFtcyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkUGFyYW1zJEpTT04kc3Q7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFBhcmFtcyRKU09OJHN0ID0gc3RhdGUuUGFyYW1zW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkUGFyYW1zJEpTT04kc3QgIT09IHZvaWQgMCA/IF9zdGF0ZSRQYXJhbXMkSlNPTiRzdCA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldERlcG9zaXQ6IGZ1bmN0aW9uIGdldERlcG9zaXQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJERlcG9zaXQkSlNPTiRzOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSREZXBvc2l0JEpTT04kcyA9IHN0YXRlLkRlcG9zaXRbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSREZXBvc2l0JEpTT04kcyAhPT0gdm9pZCAwID8gX3N0YXRlJERlcG9zaXQkSlNPTiRzIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGVwb3NpdHM6IGZ1bmN0aW9uIGdldERlcG9zaXRzKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSREZXBvc2l0cyRKU09OJDsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkRGVwb3NpdHMkSlNPTiQgPSBzdGF0ZS5EZXBvc2l0c1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJERlcG9zaXRzJEpTT04kICE9PSB2b2lkIDAgPyBfc3RhdGUkRGVwb3NpdHMkSlNPTiQgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRUYWxseVJlc3VsdDogZnVuY3Rpb24gZ2V0VGFsbHlSZXN1bHQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFRhbGx5UmVzdWx0JEpTOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRUYWxseVJlc3VsdCRKUyA9IHN0YXRlLlRhbGx5UmVzdWx0W0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkVGFsbHlSZXN1bHQkSlMgIT09IHZvaWQgMCA/IF9zdGF0ZSRUYWxseVJlc3VsdCRKUyA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFR5cGVTdHJ1Y3R1cmU6IGZ1bmN0aW9uIGdldFR5cGVTdHJ1Y3R1cmUoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLl9TdHJ1Y3R1cmVbdHlwZV0uZmllbGRzOwogICAgICB9OwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChfcmVmMikgewogICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwKICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjIucm9vdEdldHRlcnM7CiAgICAgIGNvbnNvbGUubG9nKCdpbml0Jyk7CgogICAgICBpZiAocm9vdEdldHRlcnNbJ2NvbW1vbi9lbnYvY2xpZW50J10pIHsKICAgICAgICByb290R2V0dGVyc1snY29tbW9uL2Vudi9jbGllbnQnXS5vbignbmV3YmxvY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkaXNwYXRjaCgnU3RvcmVVcGRhdGUnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0U3RhdGU6IGZ1bmN0aW9uIHJlc2V0U3RhdGUoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgfSwKICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiB1bnN1YnNjcmliZShfcmVmNCwgc3Vic2NyaXB0aW9uKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgnVU5TVUJTQ1JJQkUnLCBzdWJzY3JpcHRpb24pOwogICAgfSwKICAgIFN0b3JlVXBkYXRlOiBmdW5jdGlvbiBTdG9yZVVwZGF0ZShfcmVmNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzdGF0ZSwgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaDsKCiAgICAgICAgICAgICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsKICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goc3Vic2NyaXB0aW9uLmFjdGlvbiwgc3Vic2NyaXB0aW9uLnBheWxvYWQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVByb3Bvc2FsOiBmdW5jdGlvbiBRdWVyeVByb3Bvc2FsKF9yZWY2LCBfcmVmNykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjckb3B0aW9ucywgX3JlZjckb3B0aW9ucyRzdWJzY3JpLCBzdWJzY3JpYmUsIF9yZWY3JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjckcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRQcm9wb3NhbCwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjYucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmNi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjckb3B0aW9ucyA9IF9yZWY3Lm9wdGlvbnMsIF9yZWY3JG9wdGlvbnMkc3Vic2NyaSA9IF9yZWY3JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmNyRvcHRpb25zJHN1YnNjcmkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjckb3B0aW9ucyRzdWJzY3JpLCBfcmVmNyRvcHRpb25zJGFsbCA9IF9yZWY3JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmNyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNyRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjcucGFyYW1zKSwgX3JlZjckcXVlcnkgPSBfcmVmNy5xdWVyeSwgcXVlcnkgPSBfcmVmNyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY3JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc2VudC5xdWVyeVByb3Bvc2FsKGtleS5wcm9wb3NhbF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc2VudC5xdWVyeVByb3Bvc2FsKGtleS5wcm9wb3NhbF9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDIudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1Byb3Bvc2FsJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5UHJvcG9zYWwnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFByb3Bvc2FsID0gZ2V0dGVyc1snZ2V0UHJvcG9zYWwnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0UHJvcG9zYWwgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFByb3Bvc2FsIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVByb3Bvc2FsJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVByb3Bvc2FsczogZnVuY3Rpb24gUXVlcnlQcm9wb3NhbHMoX3JlZjgsIF9yZWY5KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmOSRvcHRpb25zLCBfcmVmOSRvcHRpb25zJHN1YnNjcmksIHN1YnNjcmliZSwgX3JlZjkkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmOSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFByb3Bvc2FscywgdmFsdWUsIG5leHRfdmFsdWVzLCBfaTIsIF9PYmplY3Qka2V5cywgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY4LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmOC5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWY4LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmOSRvcHRpb25zID0gX3JlZjkub3B0aW9ucywgX3JlZjkkb3B0aW9ucyRzdWJzY3JpID0gX3JlZjkkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWY5JG9wdGlvbnMkc3Vic2NyaSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmOSRvcHRpb25zJHN1YnNjcmksIF9yZWY5JG9wdGlvbnMkYWxsID0gX3JlZjkkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWY5JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY5JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmOS5wYXJhbXMpLCBfcmVmOSRxdWVyeSA9IF9yZWY5LnF1ZXJ5LCBxdWVyeSA9IF9yZWY5JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjkkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zZW50LnF1ZXJ5UHJvcG9zYWxzKHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlQcm9wb3NhbHMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0My5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zZW50LnF1ZXJ5UHJvcG9zYWxzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcXVlcnkpLCB7fSwgewogICAgICAgICAgICAgICAgICAncGFnaW5hdGlvbi5rZXknOiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIG5leHRfdmFsdWVzID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMiA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2kyIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5c1tfaTJdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnUHJvcG9zYWxzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5UHJvcG9zYWxzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRQcm9wb3NhbHMgPSBnZXR0ZXJzWydnZXRQcm9wb3NhbHMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0UHJvcG9zYWxzICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRQcm9wb3NhbHMgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5UHJvcG9zYWxzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVZvdGU6IGZ1bmN0aW9uIFF1ZXJ5Vm90ZShfcmVmMTAsIF9yZWYxMSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjExJG9wdGlvbnMsIF9yZWYxMSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMTEkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMTEkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRWb3RlLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjEwLnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjEwLmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTEkb3B0aW9ucyA9IF9yZWYxMS5vcHRpb25zLCBfcmVmMTEkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTEkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxMSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTEkb3B0aW9ucyRzdWJzY3IsIF9yZWYxMSRvcHRpb25zJGFsbCA9IF9yZWYxMSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjExJG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjExLnBhcmFtcyksIF9yZWYxMSRxdWVyeSA9IF9yZWYxMS5xdWVyeSwgcXVlcnkgPSBfcmVmMTEkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTEkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zZW50LnF1ZXJ5Vm90ZShrZXkucHJvcG9zYWxfaWQsIGtleS52b3RlciwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDQuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc2VudC5xdWVyeVZvdGUoa2V5LnByb3Bvc2FsX2lkLCBrZXkudm90ZXIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ0LnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdWb3RlJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Vm90ZScsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0Vm90ZSA9IGdldHRlcnNbJ2dldFZvdGUnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0Vm90ZSAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0Vm90ZSA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSBfY29udGV4dDRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlWb3RlJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVZvdGVzOiBmdW5jdGlvbiBRdWVyeVZvdGVzKF9yZWYxMiwgX3JlZjEzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTMkb3B0aW9ucywgX3JlZjEzJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxMyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxMyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFZvdGVzLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pMywgX09iamVjdCRrZXlzMiwgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjEyLnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjEyLmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTMkb3B0aW9ucyA9IF9yZWYxMy5vcHRpb25zLCBfcmVmMTMkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTMkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxMyRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTMkb3B0aW9ucyRzdWJzY3IsIF9yZWYxMyRvcHRpb25zJGFsbCA9IF9yZWYxMyRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjEzJG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMyRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjEzLnBhcmFtcyksIF9yZWYxMyRxdWVyeSA9IF9yZWYxMy5xdWVyeSwgcXVlcnkgPSBfcmVmMTMkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTMkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zZW50LnF1ZXJ5Vm90ZXMoa2V5LnByb3Bvc2FsX2lkLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NS5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zZW50LnF1ZXJ5Vm90ZXMoa2V5LnByb3Bvc2FsX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NS5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0NS50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zZW50LnF1ZXJ5Vm90ZXMoa2V5LnByb3Bvc2FsX2lkLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0NS5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTMgPSAwLCBfT2JqZWN0JGtleXMyID0gT2JqZWN0LmtleXMobmV4dF92YWx1ZXMpOyBfaTMgPCBfT2JqZWN0JGtleXMyLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5czJbX2kzXTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1ZvdGVzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Vm90ZXMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFZvdGVzID0gZ2V0dGVyc1snZ2V0Vm90ZXMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0Vm90ZXMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFZvdGVzIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MSA9IF9jb250ZXh0NVsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVZvdGVzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVBhcmFtczogZnVuY3Rpb24gUXVlcnlQYXJhbXMoX3JlZjE0LCBfcmVmMTUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxNSRvcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjE1JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjE1JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0UGFyYW1zLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE0LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE0LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTUkb3B0aW9ucyA9IF9yZWYxNS5vcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTUkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxNSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIF9yZWYxNSRvcHRpb25zJGFsbCA9IF9yZWYxNSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE1JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE1LnBhcmFtcyksIF9yZWYxNSRxdWVyeSA9IF9yZWYxNS5xdWVyeSwgcXVlcnkgPSBfcmVmMTUkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTUkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zZW50LnF1ZXJ5UGFyYW1zKGtleS5wYXJhbXNfdHlwZSwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDYuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc2VudC5xdWVyeVBhcmFtcyhrZXkucGFyYW1zX3R5cGUpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ2LnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdQYXJhbXMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlQYXJhbXMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFBhcmFtcyA9IGdldHRlcnNbJ2dldFBhcmFtcyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRQYXJhbXMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFBhcmFtcyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDEgPSBfY29udGV4dDZbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlQYXJhbXMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5RGVwb3NpdDogZnVuY3Rpb24gUXVlcnlEZXBvc2l0KF9yZWYxNiwgX3JlZjE3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTckb3B0aW9ucywgX3JlZjE3JG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxNyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldERlcG9zaXQsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE2LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTYucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTYuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxNyRvcHRpb25zID0gX3JlZjE3Lm9wdGlvbnMsIF9yZWYxNyRvcHRpb25zJHN1YnNjciA9IF9yZWYxNyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjE3JG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNyRvcHRpb25zJHN1YnNjciwgX3JlZjE3JG9wdGlvbnMkYWxsID0gX3JlZjE3JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTckb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE3JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTcucGFyYW1zKSwgX3JlZjE3JHF1ZXJ5ID0gX3JlZjE3LnF1ZXJ5LCBxdWVyeSA9IF9yZWYxNyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxNyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnNlbnQucXVlcnlEZXBvc2l0KGtleS5wcm9wb3NhbF9pZCwga2V5LmRlcG9zaXRvciwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDcuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc2VudC5xdWVyeURlcG9zaXQoa2V5LnByb3Bvc2FsX2lkLCBrZXkuZGVwb3NpdG9yKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0Ny5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Ny50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnRGVwb3NpdCcsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeURlcG9zaXQnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldERlcG9zaXQgPSBnZXR0ZXJzWydnZXREZXBvc2l0J10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldERlcG9zaXQgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldERlcG9zaXQgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQxID0gX2NvbnRleHQ3WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5RGVwb3NpdCcsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlEZXBvc2l0czogZnVuY3Rpb24gUXVlcnlEZXBvc2l0cyhfcmVmMTgsIF9yZWYxOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjE5JG9wdGlvbnMsIF9yZWYxOSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMTkkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMTkkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXREZXBvc2l0cywgdmFsdWUsIG5leHRfdmFsdWVzLCBfaTQsIF9PYmplY3Qka2V5czMsIHByb3A7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTguY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxOC5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYxOC5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjE5JG9wdGlvbnMgPSBfcmVmMTkub3B0aW9ucywgX3JlZjE5JG9wdGlvbnMkc3Vic2NyID0gX3JlZjE5JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMTkkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE5JG9wdGlvbnMkc3Vic2NyLCBfcmVmMTkkb3B0aW9ucyRhbGwgPSBfcmVmMTkkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYxOSRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTkkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYxOS5wYXJhbXMpLCBfcmVmMTkkcXVlcnkgPSBfcmVmMTkucXVlcnksIHF1ZXJ5ID0gX3JlZjE5JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjE5JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc2VudC5xdWVyeURlcG9zaXRzKGtleS5wcm9wb3NhbF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSBfY29udGV4dDguc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc2VudC5xdWVyeURlcG9zaXRzKGtleS5wcm9wb3NhbF9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSBfY29udGV4dDguc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDgudDA7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoIShhbGwgJiYgdmFsdWUucGFnaW5hdGlvbiAmJiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkgIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc2VudC5xdWVyeURlcG9zaXRzKGtleS5wcm9wb3NhbF9pZCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICdwYWdpbmF0aW9uLmtleSc6IHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgbmV4dF92YWx1ZXMgPSBfY29udGV4dDguc2VudC5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAoX2k0ID0gMCwgX09iamVjdCRrZXlzMyA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2k0IDwgX09iamVjdCRrZXlzMy5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXMzW19pNF07CgogICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVbcHJvcF0pLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IG5leHRfdmFsdWVzW3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdEZXBvc2l0cycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeURlcG9zaXRzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXREZXBvc2l0cyA9IGdldHRlcnNbJ2dldERlcG9zaXRzJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldERlcG9zaXRzICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXREZXBvc2l0cyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDEgPSBfY29udGV4dDhbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlEZXBvc2l0cycsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCwgbnVsbCwgW1syLCAzMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlUYWxseVJlc3VsdDogZnVuY3Rpb24gUXVlcnlUYWxseVJlc3VsdChfcmVmMjAsIF9yZWYyMSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjIxJG9wdGlvbnMsIF9yZWYyMSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMjEkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMjEkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRUYWxseVJlc3UsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIwLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMjAucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMjAuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYyMSRvcHRpb25zID0gX3JlZjIxLm9wdGlvbnMsIF9yZWYyMSRvcHRpb25zJHN1YnNjciA9IF9yZWYyMSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjIxJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyMSRvcHRpb25zJHN1YnNjciwgX3JlZjIxJG9wdGlvbnMkYWxsID0gX3JlZjIxJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMjEkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIxJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMjEucGFyYW1zKSwgX3JlZjIxJHF1ZXJ5ID0gX3JlZjIxLnF1ZXJ5LCBxdWVyeSA9IF9yZWYyMSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyMSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQucXVlcnlUYWxseVJlc3VsdChrZXkucHJvcG9zYWxfaWQsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQucXVlcnlUYWxseVJlc3VsdChrZXkucHJvcG9zYWxfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ5LnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdUYWxseVJlc3VsdCcsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVRhbGx5UmVzdWx0JywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRUYWxseVJlc3UgPSBnZXR0ZXJzWydnZXRUYWxseVJlc3VsdCddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRUYWxseVJlc3UgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFRhbGx5UmVzdSA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDEgPSBfY29udGV4dDlbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlUYWxseVJlc3VsdCcsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ1N1Ym1pdFByb3Bvc2FsOiBmdW5jdGlvbiBzZW5kTXNnU3VibWl0UHJvcG9zYWwoX3JlZjIyLCBfcmVmMjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYyMi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjIzLnZhbHVlLCBmZWUgPSBfcmVmMjMuZmVlLCBtZW1vID0gX3JlZjIzLm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc2VudC5tc2dTdWJtaXRQcm9wb3NhbCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDEwLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1N1Ym1pdFByb3Bvc2FsOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnU3VibWl0UHJvcG9zYWw6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dEZXBvc2l0OiBmdW5jdGlvbiBzZW5kTXNnRGVwb3NpdChfcmVmMjQsIF9yZWYyNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjI0LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjUudmFsdWUsIGZlZSA9IF9yZWYyNS5mZWUsIG1lbW8gPSBfcmVmMjUubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zZW50Lm1zZ0RlcG9zaXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IF9jb250ZXh0MTFbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxMS50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dEZXBvc2l0OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnRGVwb3NpdDpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ1ZvdGU6IGZ1bmN0aW9uIHNlbmRNc2dWb3RlKF9yZWYyNiwgX3JlZjI3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBmZWUsIG1lbW8sIG1zZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMjYucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYyNy52YWx1ZSwgZmVlID0gX3JlZjI3LmZlZSwgbWVtbyA9IF9yZWYyNy5tZW1vOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnNlbnQubXNnVm90ZSh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gX2NvbnRleHQxMlsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDEyLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1ZvdGU6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dWb3RlOlNlbmQnLCAnQ291bGQgbm90IGJyb2FkY2FzdCBUeC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyLCBudWxsLCBbWzIsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dTdWJtaXRQcm9wb3NhbDogZnVuY3Rpb24gTXNnU3VibWl0UHJvcG9zYWwoX3JlZjI4LCBfcmVmMjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjI4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjkudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc2VudC5tc2dTdWJtaXRQcm9wb3NhbCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy50MCA9IF9jb250ZXh0MTNbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxMy50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dTdWJtaXRQcm9wb3NhbDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1N1Ym1pdFByb3Bvc2FsOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnRGVwb3NpdDogZnVuY3Rpb24gTXNnRGVwb3NpdChfcmVmMzAsIF9yZWYzMSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMzAucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYzMS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zZW50Lm1zZ0RlcG9zaXQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBfY29udGV4dDE0WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTQudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnRGVwb3NpdDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0RlcG9zaXQ6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0LCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dWb3RlOiBmdW5jdGlvbiBNc2dWb3RlKF9yZWYzMiwgX3JlZjMzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBtc2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYzMi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjMzLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnNlbnQubXNnVm90ZSh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS50MCA9IF9jb250ZXh0MTVbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxNS50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dWb3RlOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVm90ZTpDcmVhdGUnLCAnQ291bGQgbm90IGNyZWF0ZSBtZXNzYWdlLicpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUsIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/saptarsi/go/src/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.gov.v1beta1/index.js"],"names":["txClient","queryClient","SpVuexError","TextProposal","Deposit","Proposal","TallyResult","Vote","DepositParams","VotingParams","TallyParams","initTxClient","vuexGetters","addr","initQueryClient","getStructure","template","structure","fields","Object","entries","key","value","field","name","type","push","getDefaultState","Proposals","Votes","Params","Deposits","_Structure","fromPartial","_Subscriptions","Set","state","namespaced","mutations","RESET_STATE","assign","QUERY","query","JSON","stringify","SUBSCRIBE","subscription","add","UNSUBSCRIBE","delete","getters","getProposal","params","getProposals","getVote","getVotes","getParams","getDeposit","getDeposits","getTallyResult","getTypeStructure","actions","init","dispatch","rootGetters","console","log","on","resetState","commit","unsubscribe","StoreUpdate","forEach","action","payload","QueryProposal","options","subscribe","all","queryProposal","proposal_id","data","error","QueryProposals","queryProposals","pagination","nextKey","next_values","keys","prop","Array","isArray","QueryVote","queryVote","voter","QueryVotes","queryVotes","QueryParams","queryParams","params_type","QueryDeposit","queryDeposit","depositor","QueryDeposits","queryDeposits","QueryTallyResult","queryTallyResult","sendMsgSubmitProposal","fee","memo","msgSubmitProposal","msg","signAndBroadcast","amount","gas","result","toString","sendMsgDeposit","msgDeposit","sendMsgVote","msgVote","MsgSubmitProposal","MsgDeposit","MsgVote"],"mappings":"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","sourcesContent":["import { txClient, queryClient } from './module';\n// @ts-ignore\nimport { SpVuexError } from '@starport/vuex';\nimport { TextProposal } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { Deposit } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { Proposal } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { TallyResult } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { Vote } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { DepositParams } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { VotingParams } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { TallyParams } from \"./module/types/cosmos/gov/v1beta1/gov\";\nasync function initTxClient(vuexGetters) {\n    return await txClient(vuexGetters['common/wallet/signer'], {\n        addr: vuexGetters['common/env/apiTendermint']\n    });\n}\nasync function initQueryClient(vuexGetters) {\n    return await queryClient({\n        addr: vuexGetters['common/env/apiCosmos']\n    });\n}\nfunction getStructure(template) {\n    let structure = { fields: [] };\n    for (const [key, value] of Object.entries(template)) {\n        let field = {};\n        field.name = key;\n        field.type = typeof value;\n        structure.fields.push(field);\n    }\n    return structure;\n}\nconst getDefaultState = () => {\n    return {\n        Proposal: {},\n        Proposals: {},\n        Vote: {},\n        Votes: {},\n        Params: {},\n        Deposit: {},\n        Deposits: {},\n        TallyResult: {},\n        _Structure: {\n            TextProposal: getStructure(TextProposal.fromPartial({})),\n            Deposit: getStructure(Deposit.fromPartial({})),\n            Proposal: getStructure(Proposal.fromPartial({})),\n            TallyResult: getStructure(TallyResult.fromPartial({})),\n            Vote: getStructure(Vote.fromPartial({})),\n            DepositParams: getStructure(DepositParams.fromPartial({})),\n            VotingParams: getStructure(VotingParams.fromPartial({})),\n            TallyParams: getStructure(TallyParams.fromPartial({})),\n        },\n        _Subscriptions: new Set(),\n    };\n};\n// initial state\nconst state = getDefaultState();\nexport default {\n    namespaced: true,\n    state,\n    mutations: {\n        RESET_STATE(state) {\n            Object.assign(state, getDefaultState());\n        },\n        QUERY(state, { query, key, value }) {\n            state[query][JSON.stringify(key)] = value;\n        },\n        SUBSCRIBE(state, subscription) {\n            state._Subscriptions.add(subscription);\n        },\n        UNSUBSCRIBE(state, subscription) {\n            state._Subscriptions.delete(subscription);\n        }\n    },\n    getters: {\n        getProposal: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Proposal[JSON.stringify(params)] ?? {};\n        },\n        getProposals: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Proposals[JSON.stringify(params)] ?? {};\n        },\n        getVote: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Vote[JSON.stringify(params)] ?? {};\n        },\n        getVotes: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Votes[JSON.stringify(params)] ?? {};\n        },\n        getParams: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Params[JSON.stringify(params)] ?? {};\n        },\n        getDeposit: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Deposit[JSON.stringify(params)] ?? {};\n        },\n        getDeposits: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Deposits[JSON.stringify(params)] ?? {};\n        },\n        getTallyResult: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.TallyResult[JSON.stringify(params)] ?? {};\n        },\n        getTypeStructure: (state) => (type) => {\n            return state._Structure[type].fields;\n        }\n    },\n    actions: {\n        init({ dispatch, rootGetters }) {\n            console.log('init');\n            if (rootGetters['common/env/client']) {\n                rootGetters['common/env/client'].on('newblock', () => {\n                    dispatch('StoreUpdate');\n                });\n            }\n        },\n        resetState({ commit }) {\n            commit('RESET_STATE');\n        },\n        unsubscribe({ commit }, subscription) {\n            commit('UNSUBSCRIBE', subscription);\n        },\n        async StoreUpdate({ state, dispatch }) {\n            state._Subscriptions.forEach((subscription) => {\n                dispatch(subscription.action, subscription.payload);\n            });\n        },\n        async QueryProposal({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryProposal(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryProposal(key.proposal_id)).data;\n                commit('QUERY', { query: 'Proposal', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryProposal', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getProposal']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryProposal', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryProposals({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryProposals(query)).data : (await (await initQueryClient(rootGetters)).queryProposals()).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryProposals({ ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Proposals', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryProposals', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getProposals']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryProposals', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryVote({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryVote(key.proposal_id, key.voter, query)).data : (await (await initQueryClient(rootGetters)).queryVote(key.proposal_id, key.voter)).data;\n                commit('QUERY', { query: 'Vote', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryVote', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getVote']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryVote', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryVotes({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryVotes(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryVotes(key.proposal_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryVotes(key.proposal_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Votes', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryVotes', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getVotes']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryVotes', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryParams({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryParams(key.params_type, query)).data : (await (await initQueryClient(rootGetters)).queryParams(key.params_type)).data;\n                commit('QUERY', { query: 'Params', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryParams', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getParams']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryParams', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDeposit({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDeposit(key.proposal_id, key.depositor, query)).data : (await (await initQueryClient(rootGetters)).queryDeposit(key.proposal_id, key.depositor)).data;\n                commit('QUERY', { query: 'Deposit', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDeposit', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDeposit']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDeposit', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDeposits({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDeposits(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryDeposits(key.proposal_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryDeposits(key.proposal_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Deposits', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDeposits', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDeposits']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDeposits', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryTallyResult({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryTallyResult(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryTallyResult(key.proposal_id)).data;\n                commit('QUERY', { query: 'TallyResult', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryTallyResult', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getTallyResult']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryTallyResult', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async sendMsgSubmitProposal({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgSubmitProposal(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgDeposit({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgDeposit(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgDeposit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgDeposit:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgVote({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgVote(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgVote:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgVote:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async MsgSubmitProposal({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgSubmitProposal(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgDeposit({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgDeposit(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgDeposit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgDeposit:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgVote({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgVote(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgVote:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgVote:Create', 'Could not create message.');\n                }\n            }\n        },\n    }\n};\n"]}]}